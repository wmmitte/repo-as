var Ah=Object.defineProperty;var Dh=(e,t,s)=>t in e?Ah(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var bn=(e,t,s)=>Dh(e,typeof t!="symbol"?t+"":t,s);function zu(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function Fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $u={exports:{}},Vl={},Uu={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),_h=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),zh=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Vh=Symbol.for("react.memo"),Hh=Symbol.for("react.lazy"),qc=Symbol.iterator;function Wh(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var Bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vu=Object.assign,Hu={};function ln(e,t,s){this.props=e,this.context=t,this.refs=Hu,this.updater=s||Bu}ln.prototype.isReactComponent={};ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=ln.prototype;function Wo(e,t,s){this.props=e,this.context=t,this.refs=Hu,this.updater=s||Bu}var Jo=Wo.prototype=new Wu;Jo.constructor=Wo;Vu(Jo,ln.prototype);Jo.isPureReactComponent=!0;var Gc=Array.isArray,Ju=Object.prototype.hasOwnProperty,Qo={current:null},Qu={key:!0,ref:!0,__self:!0,__source:!0};function qu(e,t,s){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Ju.call(t,n)&&!Qu.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:va,type:e,key:l,ref:i,props:a,_owner:Qo.current}}function Jh(e,t){return{$$typeof:va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qo(e){return typeof e=="object"&&e!==null&&e.$$typeof===va}function Qh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Xc=/\/+/g;function hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qh(""+e.key):t.toString(36)}function el(e,t,s,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case va:case _h:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+hi(i,0):n,Gc(a)?(s="",e!=null&&(s=e.replace(Xc,"$&/")+"/"),el(a,t,s,"",function(d){return d})):a!=null&&(qo(a)&&(a=Jh(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Xc,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Gc(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+hi(l,o);i+=el(l,t,s,c,a)}else if(c=Wh(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+hi(l,o++),i+=el(l,t,s,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ia(e,t,s){if(e==null)return e;var n=[],a=0;return el(e,n,"","",function(l){return t.call(s,l,a++)}),n}function qh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dt={current:null},tl={transition:null},Gh={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:tl,ReactCurrentOwner:Qo};function Gu(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ia,forEach:function(e,t,s){Ia(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ia(e,function(){t++}),t},toArray:function(e){return Ia(e,function(t){return t})||[]},only:function(e){if(!qo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=ln;pe.Fragment=Ih;pe.Profiler=zh;pe.PureComponent=Wo;pe.StrictMode=Oh;pe.Suspense=Bh;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;pe.act=Gu;pe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vu({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Qo.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ju.call(t,c)&&!Qu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:va,type:e.type,key:a,ref:l,props:n,_owner:i}};pe.createContext=function(e){return e={$$typeof:$h,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fh,_context:e},e.Consumer=e};pe.createElement=qu;pe.createFactory=function(e){var t=qu.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:Uh,render:e}};pe.isValidElement=qo;pe.lazy=function(e){return{$$typeof:Hh,_payload:{_status:-1,_result:e},_init:qh}};pe.memo=function(e,t){return{$$typeof:Vh,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};pe.unstable_act=Gu;pe.useCallback=function(e,t){return dt.current.useCallback(e,t)};pe.useContext=function(e){return dt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return dt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return dt.current.useEffect(e,t)};pe.useId=function(){return dt.current.useId()};pe.useImperativeHandle=function(e,t,s){return dt.current.useImperativeHandle(e,t,s)};pe.useInsertionEffect=function(e,t){return dt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return dt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return dt.current.useMemo(e,t)};pe.useReducer=function(e,t,s){return dt.current.useReducer(e,t,s)};pe.useRef=function(e){return dt.current.useRef(e)};pe.useState=function(e){return dt.current.useState(e)};pe.useSyncExternalStore=function(e,t,s){return dt.current.useSyncExternalStore(e,t,s)};pe.useTransition=function(){return dt.current.useTransition()};pe.version="18.3.1";Uu.exports=pe;var h=Uu.exports;const Wi=Fu(h),Xh=zu({__proto__:null,default:Wi},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=h,Yh=Symbol.for("react.element"),Zh=Symbol.for("react.fragment"),ef=Object.prototype.hasOwnProperty,tf=Kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rf={key:!0,ref:!0,__self:!0,__source:!0};function Xu(e,t,s){var n,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ef.call(t,n)&&!rf.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Yh,type:e,key:l,ref:i,props:a,_owner:tf.current}}Vl.Fragment=Zh;Vl.jsx=Xu;Vl.jsxs=Xu;$u.exports=Vl;var r=$u.exports,Ku={exports:{}},Ct={},Yu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,X){var G=_.length;_.push(X);e:for(;0<G;){var ae=G-1>>>1,D=_[ae];if(0<a(D,X))_[ae]=X,_[G]=D,G=ae;else break e}}function s(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var X=_[0],G=_.pop();if(G!==X){_[0]=G;e:for(var ae=0,D=_.length,J=D>>>1;ae<J;){var le=2*(ae+1)-1,ue=_[le],Me=le+1,De=_[Me];if(0>a(ue,G))Me<D&&0>a(De,ue)?(_[ae]=De,_[Me]=G,ae=Me):(_[ae]=ue,_[le]=G,ae=le);else if(Me<D&&0>a(De,G))_[ae]=De,_[Me]=G,ae=Me;else break e}}return X}function a(_,X){var G=_.sortIndex-X.sortIndex;return G!==0?G:_.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],y=1,m=null,g=3,x=!1,w=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(_){for(var X=s(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=_)n(d),X.sortIndex=X.expirationTime,t(c,X);else break;X=s(d)}}function b(_){if(j=!1,f(_),!w)if(s(c)!==null)w=!0,je(S);else{var X=s(d);X!==null&&ze(b,X.startTime-_)}}function S(_,X){w=!1,j&&(j=!1,p(T),T=-1),x=!0;var G=g;try{for(f(X),m=s(c);m!==null&&(!(m.expirationTime>X)||_&&!U());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,g=m.priorityLevel;var D=ae(m.expirationTime<=X);X=e.unstable_now(),typeof D=="function"?m.callback=D:m===s(c)&&n(c),f(X)}else n(c);m=s(c)}if(m!==null)var J=!0;else{var le=s(d);le!==null&&ze(b,le.startTime-X),J=!1}return J}finally{m=null,g=G,x=!1}}var E=!1,v=null,T=-1,N=5,R=-1;function U(){return!(e.unstable_now()-R<N)}function O(){if(v!==null){var _=e.unstable_now();R=_;var X=!0;try{X=v(!0,_)}finally{X?B():(E=!1,v=null)}}else E=!1}var B;if(typeof u=="function")B=function(){u(O)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ne=oe.port2;oe.port1.onmessage=O,B=function(){Ne.postMessage(null)}}else B=function(){P(O,0)};function je(_){v=_,E||(E=!0,B())}function ze(_,X){T=P(function(){_(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,je(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var G=g;g=X;try{return _()}finally{g=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,X){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var G=g;g=_;try{return X()}finally{g=G}},e.unstable_scheduleCallback=function(_,X,G){var ae=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,_){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=G+D,_={id:y++,callback:X,priorityLevel:_,startTime:G,expirationTime:D,sortIndex:-1},G>ae?(_.sortIndex=G,t(d,_),s(c)===null&&_===s(d)&&(j?(p(T),T=-1):j=!0,ze(b,G-ae))):(_.sortIndex=D,t(c,_),w||x||(w=!0,je(S))),_},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(_){var X=g;return function(){var G=g;g=X;try{return _.apply(this,arguments)}finally{g=G}}}})(Zu);Yu.exports=Zu;var sf=Yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=h,Et=sf;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var em=new Set,Kn={};function js(e,t){Xs(e,t),Xs(e+"Capture",t)}function Xs(e,t){for(Kn[e]=t,e=0;e<t.length;e++)em.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ji=Object.prototype.hasOwnProperty,af=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kc={},Yc={};function lf(e){return Ji.call(Yc,e)?!0:Ji.call(Kc,e)?!1:af.test(e)?Yc[e]=!0:(Kc[e]=!0,!1)}function of(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cf(e,t,s,n){if(t===null||typeof t>"u"||of(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ut(e,t,s,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var Go=/[\-:]([a-z])/g;function Xo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Go,Xo);et[t]=new ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Go,Xo);et[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Go,Xo);et[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ut(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ko(e,t,s,n){var a=et.hasOwnProperty(t)?et[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cf(t,s,a,n)&&(s=null),n||a===null?lf(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Nr=nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Yo=Symbol.for("react.strict_mode"),Qi=Symbol.for("react.profiler"),tm=Symbol.for("react.provider"),rm=Symbol.for("react.context"),Zo=Symbol.for("react.forward_ref"),qi=Symbol.for("react.suspense"),Gi=Symbol.for("react.suspense_list"),ec=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),sm=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function Nn(e){return e===null||typeof e!="object"?null:(e=Zc&&e[Zc]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,fi;function _n(e){if(fi===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);fi=t&&t[1]||""}return`
`+fi+e}var xi=!1;function gi(e,t){if(!e||xi)return"";xi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{xi=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?_n(e):""}function df(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=gi(e.type,!1),e;case 11:return e=gi(e.type.render,!1),e;case 1:return e=gi(e.type,!0),e;default:return""}}function Xi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case As:return"Fragment";case Rs:return"Portal";case Qi:return"Profiler";case Yo:return"StrictMode";case qi:return"Suspense";case Gi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rm:return(e.displayName||"Context")+".Consumer";case tm:return(e._context.displayName||"Context")+".Provider";case Zo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ec:return t=e.displayName||null,t!==null?t:Xi(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return Xi(e(t))}catch{}}return null}function uf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xi(t);case 8:return t===Yo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mf(e){var t=nm(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function za(e){e._valueTracker||(e._valueTracker=mf(e))}function am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=nm(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ki(e,t){var s=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ed(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Hr(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lm(e,t){t=t.checked,t!=null&&Ko(e,"checked",t,!1)}function Yi(e,t){lm(e,t);var s=Hr(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zi(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zi(e,t.type,Hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function td(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zi(e,t,s){(t!=="number"||hl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var In=Array.isArray;function Hs(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Hr(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rd(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(z(92));if(In(s)){if(1<s.length)throw Error(z(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Hr(s)}}function im(e,t){var s=Hr(t.value),n=Hr(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function sd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fa,cm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pf=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(e){pf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Un[t]=Un[e]})});function dm(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Un.hasOwnProperty(e)&&Un[e]?(""+t).trim():t+"px"}function um(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=dm(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var hf=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ro(e,t){if(t){if(hf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function so(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var no=null;function tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,Ws=null,Js=null;function nd(e){if(e=ba(e)){if(typeof ao!="function")throw Error(z(280));var t=e.stateNode;t&&(t=ql(t),ao(e.stateNode,e.type,t))}}function mm(e){Ws?Js?Js.push(e):Js=[e]:Ws=e}function pm(){if(Ws){var e=Ws,t=Js;if(Js=Ws=null,nd(e),t)for(e=0;e<t.length;e++)nd(t[e])}}function hm(e,t){return e(t)}function fm(){}var vi=!1;function xm(e,t,s){if(vi)return e(t,s);vi=!0;try{return hm(e,t,s)}finally{vi=!1,(Ws!==null||Js!==null)&&(fm(),pm())}}function Zn(e,t){var s=e.stateNode;if(s===null)return null;var n=ql(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(z(231,t,typeof s));return s}var lo=!1;if(vr)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{lo=!1}function ff(e,t,s,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(y){this.onError(y)}}var Bn=!1,fl=null,xl=!1,io=null,xf={onError:function(e){Bn=!0,fl=e}};function gf(e,t,s,n,a,l,i,o,c){Bn=!1,fl=null,ff.apply(xf,arguments)}function vf(e,t,s,n,a,l,i,o,c){if(gf.apply(this,arguments),Bn){if(Bn){var d=fl;Bn=!1,fl=null}else throw Error(z(198));xl||(xl=!0,io=d)}}function bs(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function gm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(bs(e)!==e)throw Error(z(188))}function yf(e){var t=e.alternate;if(!t){if(t=bs(e),t===null)throw Error(z(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return ad(a),e;if(l===n)return ad(a),t;l=l.sibling}throw Error(z(188))}if(s.return!==n.return)s=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,n=l;break}if(o===n){i=!0,n=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,n=a;break}if(o===n){i=!0,n=l,s=a;break}o=o.sibling}if(!i)throw Error(z(189))}}if(s.alternate!==n)throw Error(z(190))}if(s.tag!==3)throw Error(z(188));return s.stateNode.current===s?e:t}function vm(e){return e=yf(e),e!==null?ym(e):null}function ym(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ym(e);if(t!==null)return t;e=e.sibling}return null}var jm=Et.unstable_scheduleCallback,ld=Et.unstable_cancelCallback,jf=Et.unstable_shouldYield,bf=Et.unstable_requestPaint,Fe=Et.unstable_now,Nf=Et.unstable_getCurrentPriorityLevel,rc=Et.unstable_ImmediatePriority,bm=Et.unstable_UserBlockingPriority,gl=Et.unstable_NormalPriority,wf=Et.unstable_LowPriority,Nm=Et.unstable_IdlePriority,Hl=null,ar=null;function Ef(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:kf,Cf=Math.log,Sf=Math.LN2;function kf(e){return e>>>=0,e===0?32:31-(Cf(e)/Sf|0)|0}var $a=64,Ua=4194304;function On(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?n=On(o):(l&=i,l!==0&&(n=On(l)))}else i=s&~a,i!==0?n=On(i):l!==0&&(n=On(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Gt(t),a=1<<s,n|=e[s],t&=~a;return n}function Pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Gt(l),o=1<<i,c=a[i];c===-1?(!(o&s)||o&n)&&(a[i]=Pf(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function oo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wm(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function yi(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ya(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=s}function Mf(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Gt(s),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~l}}function sc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Gt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var ye=0;function Em(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cm,nc,Sm,km,Pm,co=!1,Ba=[],Dr=null,_r=null,Ir=null,ea=new Map,ta=new Map,Pr=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ta.delete(t.pointerId)}}function En(e,t,s,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=ba(t),t!==null&&nc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Rf(e,t,s,n,a){switch(t){case"focusin":return Dr=En(Dr,e,t,s,n,a),!0;case"dragenter":return _r=En(_r,e,t,s,n,a),!0;case"mouseover":return Ir=En(Ir,e,t,s,n,a),!0;case"pointerover":var l=a.pointerId;return ea.set(l,En(ea.get(l)||null,e,t,s,n,a)),!0;case"gotpointercapture":return l=a.pointerId,ta.set(l,En(ta.get(l)||null,e,t,s,n,a)),!0}return!1}function Tm(e){var t=ls(e.target);if(t!==null){var s=bs(t);if(s!==null){if(t=s.tag,t===13){if(t=gm(s),t!==null){e.blockedOn=t,Pm(e.priority,function(){Sm(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);no=n,s.target.dispatchEvent(n),no=null}else return t=ba(s),t!==null&&nc(t),e.blockedOn=s,!1;t.shift()}return!0}function od(e,t,s){rl(e)&&s.delete(t)}function Af(){co=!1,Dr!==null&&rl(Dr)&&(Dr=null),_r!==null&&rl(_r)&&(_r=null),Ir!==null&&rl(Ir)&&(Ir=null),ea.forEach(od),ta.forEach(od)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,co||(co=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,Af)))}function ra(e){function t(a){return Cn(a,e)}if(0<Ba.length){Cn(Ba[0],e);for(var s=1;s<Ba.length;s++){var n=Ba[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Dr!==null&&Cn(Dr,e),_r!==null&&Cn(_r,e),Ir!==null&&Cn(Ir,e),ea.forEach(t),ta.forEach(t),s=0;s<Pr.length;s++)n=Pr[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pr.length&&(s=Pr[0],s.blockedOn===null);)Tm(s),s.blockedOn===null&&Pr.shift()}var Qs=Nr.ReactCurrentBatchConfig,yl=!0;function Df(e,t,s,n){var a=ye,l=Qs.transition;Qs.transition=null;try{ye=1,ac(e,t,s,n)}finally{ye=a,Qs.transition=l}}function _f(e,t,s,n){var a=ye,l=Qs.transition;Qs.transition=null;try{ye=4,ac(e,t,s,n)}finally{ye=a,Qs.transition=l}}function ac(e,t,s,n){if(yl){var a=uo(e,t,s,n);if(a===null)Ti(e,t,n,jl,s),id(e,n);else if(Rf(a,e,t,s,n))n.stopPropagation();else if(id(e,n),t&4&&-1<Lf.indexOf(e)){for(;a!==null;){var l=ba(a);if(l!==null&&Cm(l),l=uo(e,t,s,n),l===null&&Ti(e,t,n,jl,s),l===a)break;a=l}a!==null&&n.stopPropagation()}else Ti(e,t,n,null,s)}}var jl=null;function uo(e,t,s,n){if(jl=null,e=tc(n),e=ls(e),e!==null)if(t=bs(e),t===null)e=null;else if(s=t.tag,s===13){if(e=gm(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jl=e,null}function Mm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case rc:return 1;case bm:return 4;case gl:case wf:return 16;case Nm:return 536870912;default:return 16}default:return 16}}var Lr=null,lc=null,sl=null;function Lm(){if(sl)return sl;var e,t=lc,s=t.length,n,a="value"in Lr?Lr.value:Lr.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(n=1;n<=i&&t[s-n]===a[l-n];n++);return sl=a.slice(e,1<n?1-n:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function cd(){return!1}function St(e){function t(s,n,a,l,i){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Va:cd,this.isPropagationStopped=cd,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=St(on),ja=Ae({},on,{view:0,detail:0}),If=St(ja),ji,bi,Sn,Wl=Ae({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&e.type==="mousemove"?(ji=e.screenX-Sn.screenX,bi=e.screenY-Sn.screenY):bi=ji=0,Sn=e),ji)},movementY:function(e){return"movementY"in e?e.movementY:bi}}),dd=St(Wl),Of=Ae({},Wl,{dataTransfer:0}),zf=St(Of),Ff=Ae({},ja,{relatedTarget:0}),Ni=St(Ff),$f=Ae({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=St($f),Bf=Ae({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vf=St(Bf),Hf=Ae({},on,{data:0}),ud=St(Hf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qf[e])?!!t[e]:!1}function oc(){return qf}var Gf=Ae({},ja,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xf=St(Gf),Kf=Ae({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=St(Kf),Yf=Ae({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),Zf=St(Yf),ex=Ae({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),tx=St(ex),rx=Ae({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sx=St(rx),nx=[9,13,27,32],cc=vr&&"CompositionEvent"in window,Vn=null;vr&&"documentMode"in document&&(Vn=document.documentMode);var ax=vr&&"TextEvent"in window&&!Vn,Rm=vr&&(!cc||Vn&&8<Vn&&11>=Vn),pd=" ",hd=!1;function Am(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function lx(e,t){switch(e){case"compositionend":return Dm(t);case"keypress":return t.which!==32?null:(hd=!0,pd);case"textInput":return e=t.data,e===pd&&hd?null:e;default:return null}}function ix(e,t){if(Ds)return e==="compositionend"||!cc&&Am(e,t)?(e=Lm(),sl=lc=Lr=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rm&&t.locale!=="ko"?null:t.data;default:return null}}var ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ox[e.type]:t==="textarea"}function _m(e,t,s,n){mm(n),t=bl(t,"onChange"),0<t.length&&(s=new ic("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Hn=null,sa=null;function cx(e){Jm(e,0)}function Jl(e){var t=Os(e);if(am(t))return e}function dx(e,t){if(e==="change")return t}var Im=!1;if(vr){var wi;if(vr){var Ei="oninput"in document;if(!Ei){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Ei=typeof xd.oninput=="function"}wi=Ei}else wi=!1;Im=wi&&(!document.documentMode||9<document.documentMode)}function gd(){Hn&&(Hn.detachEvent("onpropertychange",Om),sa=Hn=null)}function Om(e){if(e.propertyName==="value"&&Jl(sa)){var t=[];_m(t,sa,e,tc(e)),xm(cx,t)}}function ux(e,t,s){e==="focusin"?(gd(),Hn=t,sa=s,Hn.attachEvent("onpropertychange",Om)):e==="focusout"&&gd()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(sa)}function px(e,t){if(e==="click")return Jl(t)}function hx(e,t){if(e==="input"||e==="change")return Jl(t)}function fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:fx;function na(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Ji.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var s=vd(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vd(s)}}function zm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fm(){for(var e=window,t=hl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=hl(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xx(e){var t=Fm(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&zm(s.ownerDocument.documentElement,s)){if(n!==null&&dc(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=yd(s,l);var i=yd(s,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gx=vr&&"documentMode"in document&&11>=document.documentMode,_s=null,mo=null,Wn=null,po=!1;function jd(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;po||_s==null||_s!==hl(n)||(n=_s,"selectionStart"in n&&dc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&na(Wn,n)||(Wn=n,n=bl(mo,"onSelect"),0<n.length&&(t=new ic("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=_s)))}function Ha(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Is={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Ci={},$m={};vr&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ql(e){if(Ci[e])return Ci[e];if(!Is[e])return e;var t=Is[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in $m)return Ci[e]=t[s];return e}var Um=Ql("animationend"),Bm=Ql("animationiteration"),Vm=Ql("animationstart"),Hm=Ql("transitionend"),Wm=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){Wm.set(e,t),js(t,[e])}for(var Si=0;Si<bd.length;Si++){var ki=bd[Si],vx=ki.toLowerCase(),yx=ki[0].toUpperCase()+ki.slice(1);qr(vx,"on"+yx)}qr(Um,"onAnimationEnd");qr(Bm,"onAnimationIteration");qr(Vm,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(Hm,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Nd(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,vf(n,t,void 0,e),e.currentTarget=null}function Jm(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;Nd(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;Nd(a,o,d),l=c}}}if(xl)throw e=io,xl=!1,io=null,e}function Ce(e,t){var s=t[vo];s===void 0&&(s=t[vo]=new Set);var n=e+"__bubble";s.has(n)||(Qm(t,e,2,!1),s.add(n))}function Pi(e,t,s){var n=0;t&&(n|=4),Qm(s,e,n,t)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function aa(e){if(!e[Wa]){e[Wa]=!0,em.forEach(function(s){s!=="selectionchange"&&(jx.has(s)||Pi(s,!1,e),Pi(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wa]||(t[Wa]=!0,Pi("selectionchange",!1,t))}}function Qm(e,t,s,n){switch(Mm(t)){case 1:var a=Df;break;case 4:a=_f;break;default:a=ac}s=a.bind(null,t,s,e),a=void 0,!lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Ti(e,t,s,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=ls(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}xm(function(){var d=l,y=tc(s),m=[];e:{var g=Wm.get(e);if(g!==void 0){var x=ic,w=e;switch(e){case"keypress":if(nl(s)===0)break e;case"keydown":case"keyup":x=Xf;break;case"focusin":w="focus",x=Ni;break;case"focusout":w="blur",x=Ni;break;case"beforeblur":case"afterblur":x=Ni;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Zf;break;case Um:case Bm:case Vm:x=Uf;break;case Hm:x=tx;break;case"scroll":x=If;break;case"wheel":x=sx;break;case"copy":case"cut":case"paste":x=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=md}var j=(t&4)!==0,P=!j&&e==="scroll",p=j?g!==null?g+"Capture":null:g;j=[];for(var u=d,f;u!==null;){f=u;var b=f.stateNode;if(f.tag===5&&b!==null&&(f=b,p!==null&&(b=Zn(u,p),b!=null&&j.push(la(u,b,f)))),P)break;u=u.return}0<j.length&&(g=new x(g,w,null,s,y),m.push({event:g,listeners:j}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&s!==no&&(w=s.relatedTarget||s.fromElement)&&(ls(w)||w[yr]))break e;if((x||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,x?(w=s.relatedTarget||s.toElement,x=d,w=w?ls(w):null,w!==null&&(P=bs(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=d),x!==w)){if(j=dd,b="onMouseLeave",p="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(j=md,b="onPointerLeave",p="onPointerEnter",u="pointer"),P=x==null?g:Os(x),f=w==null?g:Os(w),g=new j(b,u+"leave",x,s,y),g.target=P,g.relatedTarget=f,b=null,ls(y)===d&&(j=new j(p,u+"enter",w,s,y),j.target=f,j.relatedTarget=P,b=j),P=b,x&&w)t:{for(j=x,p=w,u=0,f=j;f;f=Ts(f))u++;for(f=0,b=p;b;b=Ts(b))f++;for(;0<u-f;)j=Ts(j),u--;for(;0<f-u;)p=Ts(p),f--;for(;u--;){if(j===p||p!==null&&j===p.alternate)break t;j=Ts(j),p=Ts(p)}j=null}else j=null;x!==null&&wd(m,g,x,j,!1),w!==null&&P!==null&&wd(m,P,w,j,!0)}}e:{if(g=d?Os(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var S=dx;else if(fd(g))if(Im)S=hx;else{S=mx;var E=ux}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=px);if(S&&(S=S(e,d))){_m(m,S,s,y);break e}E&&E(e,g,d),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Zi(g,"number",g.value)}switch(E=d?Os(d):window,e){case"focusin":(fd(E)||E.contentEditable==="true")&&(_s=E,mo=d,Wn=null);break;case"focusout":Wn=mo=_s=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,jd(m,s,y);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":jd(m,s,y)}var v;if(cc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ds?Am(e,s)&&(T="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(T="onCompositionStart");T&&(Rm&&s.locale!=="ko"&&(Ds||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ds&&(v=Lm()):(Lr=y,lc="value"in Lr?Lr.value:Lr.textContent,Ds=!0)),E=bl(d,T),0<E.length&&(T=new ud(T,e,null,s,y),m.push({event:T,listeners:E}),v?T.data=v:(v=Dm(s),v!==null&&(T.data=v)))),(v=ax?lx(e,s):ix(e,s))&&(d=bl(d,"onBeforeInput"),0<d.length&&(y=new ud("onBeforeInput","beforeinput",null,s,y),m.push({event:y,listeners:d}),y.data=v))}Jm(m,t)})}function la(e,t,s){return{instance:e,listener:t,currentTarget:s}}function bl(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Zn(e,s),l!=null&&n.unshift(la(e,l,a)),l=Zn(e,t),l!=null&&n.push(la(e,l,a))),e=e.return}return n}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,t,s,n,a){for(var l=t._reactName,i=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Zn(s,l),c!=null&&i.unshift(la(s,c,o))):a||(c=Zn(s,l),c!=null&&i.push(la(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var bx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(bx,`
`).replace(Nx,"")}function Ja(e,t,s){if(t=Ed(t),Ed(e)!==t&&s)throw Error(z(425))}function Nl(){}var ho=null,fo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var go=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(Cx)}:go;function Cx(e){setTimeout(function(){throw e})}function Mi(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),ra(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);ra(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var cn=Math.random().toString(36).slice(2),nr="__reactFiber$"+cn,ia="__reactProps$"+cn,yr="__reactContainer$"+cn,vo="__reactEvents$"+cn,Sx="__reactListeners$"+cn,kx="__reactHandles$"+cn;function ls(e){var t=e[nr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[yr]||s[nr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Sd(e);e!==null;){if(s=e[nr])return s;e=Sd(e)}return t}e=s,s=e.parentNode}return null}function ba(e){return e=e[nr]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function ql(e){return e[ia]||null}var yo=[],zs=-1;function Gr(e){return{current:e}}function Se(e){0>zs||(e.current=yo[zs],yo[zs]=null,zs--)}function Ee(e,t){zs++,yo[zs]=e.current,e.current=t}var Wr={},at=Gr(Wr),xt=Gr(!1),hs=Wr;function Ks(e,t){var s=e.type.contextTypes;if(!s)return Wr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gt(e){return e=e.childContextTypes,e!=null}function wl(){Se(xt),Se(at)}function kd(e,t,s){if(at.current!==Wr)throw Error(z(168));Ee(at,t),Ee(xt,s)}function qm(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(z(108,uf(e)||"Unknown",a));return Ae({},s,n)}function El(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,hs=at.current,Ee(at,e),Ee(xt,xt.current),!0}function Pd(e,t,s){var n=e.stateNode;if(!n)throw Error(z(169));s?(e=qm(e,t,hs),n.__reactInternalMemoizedMergedChildContext=e,Se(xt),Se(at),Ee(at,e)):Se(xt),Ee(xt,s)}var mr=null,Gl=!1,Li=!1;function Gm(e){mr===null?mr=[e]:mr.push(e)}function Px(e){Gl=!0,Gm(e)}function Xr(){if(!Li&&mr!==null){Li=!0;var e=0,t=ye;try{var s=mr;for(ye=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}mr=null,Gl=!1}catch(a){throw mr!==null&&(mr=mr.slice(e+1)),jm(rc,Xr),a}finally{ye=t,Li=!1}}return null}var Fs=[],$s=0,Cl=null,Sl=0,Tt=[],Mt=0,fs=null,pr=1,hr="";function rs(e,t){Fs[$s++]=Sl,Fs[$s++]=Cl,Cl=e,Sl=t}function Xm(e,t,s){Tt[Mt++]=pr,Tt[Mt++]=hr,Tt[Mt++]=fs,fs=e;var n=pr;e=hr;var a=32-Gt(n)-1;n&=~(1<<a),s+=1;var l=32-Gt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,pr=1<<32-Gt(t)+a|s<<a|n,hr=l+e}else pr=1<<l|s<<a|n,hr=e}function uc(e){e.return!==null&&(rs(e,1),Xm(e,1,0))}function mc(e){for(;e===Cl;)Cl=Fs[--$s],Fs[$s]=null,Sl=Fs[--$s],Fs[$s]=null;for(;e===fs;)fs=Tt[--Mt],Tt[Mt]=null,hr=Tt[--Mt],Tt[Mt]=null,pr=Tt[--Mt],Tt[Mt]=null}var wt=null,Nt=null,Te=!1,Qt=null;function Km(e,t){var s=Lt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Td(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,Nt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=fs!==null?{id:pr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Lt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,wt=e,Nt=null,!0):!1;default:return!1}}function jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bo(e){if(Te){var t=Nt;if(t){var s=t;if(!Td(e,t)){if(jo(e))throw Error(z(418));t=Or(s.nextSibling);var n=wt;t&&Td(e,t)?Km(n,s):(e.flags=e.flags&-4097|2,Te=!1,wt=e)}}else{if(jo(e))throw Error(z(418));e.flags=e.flags&-4097|2,Te=!1,wt=e}}}function Md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Qa(e){if(e!==wt)return!1;if(!Te)return Md(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=Nt)){if(jo(e))throw Ym(),Error(z(418));for(;t;)Km(e,t),t=Or(t.nextSibling)}if(Md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Nt=Or(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=wt?Or(e.stateNode.nextSibling):null;return!0}function Ym(){for(var e=Nt;e;)e=Or(e.nextSibling)}function Ys(){Nt=wt=null,Te=!1}function pc(e){Qt===null?Qt=[e]:Qt.push(e)}var Tx=Nr.ReactCurrentBatchConfig;function kn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(z(309));var n=s.stateNode}if(!n)throw Error(z(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(z(284));if(!s._owner)throw Error(z(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ld(e){var t=e._init;return t(e._payload)}function Zm(e){function t(p,u){if(e){var f=p.deletions;f===null?(p.deletions=[u],p.flags|=16):f.push(u)}}function s(p,u){if(!e)return null;for(;u!==null;)t(p,u),u=u.sibling;return null}function n(p,u){for(p=new Map;u!==null;)u.key!==null?p.set(u.key,u):p.set(u.index,u),u=u.sibling;return p}function a(p,u){return p=Ur(p,u),p.index=0,p.sibling=null,p}function l(p,u,f){return p.index=f,e?(f=p.alternate,f!==null?(f=f.index,f<u?(p.flags|=2,u):f):(p.flags|=2,u)):(p.flags|=1048576,u)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,u,f,b){return u===null||u.tag!==6?(u=zi(f,p.mode,b),u.return=p,u):(u=a(u,f),u.return=p,u)}function c(p,u,f,b){var S=f.type;return S===As?y(p,u,f.props.children,b,f.key):u!==null&&(u.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&Ld(S)===u.type)?(b=a(u,f.props),b.ref=kn(p,u,f),b.return=p,b):(b=ul(f.type,f.key,f.props,null,p.mode,b),b.ref=kn(p,u,f),b.return=p,b)}function d(p,u,f,b){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=Fi(f,p.mode,b),u.return=p,u):(u=a(u,f.children||[]),u.return=p,u)}function y(p,u,f,b,S){return u===null||u.tag!==7?(u=us(f,p.mode,b,S),u.return=p,u):(u=a(u,f),u.return=p,u)}function m(p,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=zi(""+u,p.mode,f),u.return=p,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Oa:return f=ul(u.type,u.key,u.props,null,p.mode,f),f.ref=kn(p,null,u),f.return=p,f;case Rs:return u=Fi(u,p.mode,f),u.return=p,u;case Sr:var b=u._init;return m(p,b(u._payload),f)}if(In(u)||Nn(u))return u=us(u,p.mode,f,null),u.return=p,u;qa(p,u)}return null}function g(p,u,f,b){var S=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:o(p,u,""+f,b);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Oa:return f.key===S?c(p,u,f,b):null;case Rs:return f.key===S?d(p,u,f,b):null;case Sr:return S=f._init,g(p,u,S(f._payload),b)}if(In(f)||Nn(f))return S!==null?null:y(p,u,f,b,null);qa(p,f)}return null}function x(p,u,f,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(f)||null,o(u,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oa:return p=p.get(b.key===null?f:b.key)||null,c(u,p,b,S);case Rs:return p=p.get(b.key===null?f:b.key)||null,d(u,p,b,S);case Sr:var E=b._init;return x(p,u,f,E(b._payload),S)}if(In(b)||Nn(b))return p=p.get(f)||null,y(u,p,b,S,null);qa(u,b)}return null}function w(p,u,f,b){for(var S=null,E=null,v=u,T=u=0,N=null;v!==null&&T<f.length;T++){v.index>T?(N=v,v=null):N=v.sibling;var R=g(p,v,f[T],b);if(R===null){v===null&&(v=N);break}e&&v&&R.alternate===null&&t(p,v),u=l(R,u,T),E===null?S=R:E.sibling=R,E=R,v=N}if(T===f.length)return s(p,v),Te&&rs(p,T),S;if(v===null){for(;T<f.length;T++)v=m(p,f[T],b),v!==null&&(u=l(v,u,T),E===null?S=v:E.sibling=v,E=v);return Te&&rs(p,T),S}for(v=n(p,v);T<f.length;T++)N=x(v,p,T,f[T],b),N!==null&&(e&&N.alternate!==null&&v.delete(N.key===null?T:N.key),u=l(N,u,T),E===null?S=N:E.sibling=N,E=N);return e&&v.forEach(function(U){return t(p,U)}),Te&&rs(p,T),S}function j(p,u,f,b){var S=Nn(f);if(typeof S!="function")throw Error(z(150));if(f=S.call(f),f==null)throw Error(z(151));for(var E=S=null,v=u,T=u=0,N=null,R=f.next();v!==null&&!R.done;T++,R=f.next()){v.index>T?(N=v,v=null):N=v.sibling;var U=g(p,v,R.value,b);if(U===null){v===null&&(v=N);break}e&&v&&U.alternate===null&&t(p,v),u=l(U,u,T),E===null?S=U:E.sibling=U,E=U,v=N}if(R.done)return s(p,v),Te&&rs(p,T),S;if(v===null){for(;!R.done;T++,R=f.next())R=m(p,R.value,b),R!==null&&(u=l(R,u,T),E===null?S=R:E.sibling=R,E=R);return Te&&rs(p,T),S}for(v=n(p,v);!R.done;T++,R=f.next())R=x(v,p,T,R.value,b),R!==null&&(e&&R.alternate!==null&&v.delete(R.key===null?T:R.key),u=l(R,u,T),E===null?S=R:E.sibling=R,E=R);return e&&v.forEach(function(O){return t(p,O)}),Te&&rs(p,T),S}function P(p,u,f,b){if(typeof f=="object"&&f!==null&&f.type===As&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Oa:e:{for(var S=f.key,E=u;E!==null;){if(E.key===S){if(S=f.type,S===As){if(E.tag===7){s(p,E.sibling),u=a(E,f.props.children),u.return=p,p=u;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&Ld(S)===E.type){s(p,E.sibling),u=a(E,f.props),u.ref=kn(p,E,f),u.return=p,p=u;break e}s(p,E);break}else t(p,E);E=E.sibling}f.type===As?(u=us(f.props.children,p.mode,b,f.key),u.return=p,p=u):(b=ul(f.type,f.key,f.props,null,p.mode,b),b.ref=kn(p,u,f),b.return=p,p=b)}return i(p);case Rs:e:{for(E=f.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){s(p,u.sibling),u=a(u,f.children||[]),u.return=p,p=u;break e}else{s(p,u);break}else t(p,u);u=u.sibling}u=Fi(f,p.mode,b),u.return=p,p=u}return i(p);case Sr:return E=f._init,P(p,u,E(f._payload),b)}if(In(f))return w(p,u,f,b);if(Nn(f))return j(p,u,f,b);qa(p,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(s(p,u.sibling),u=a(u,f),u.return=p,p=u):(s(p,u),u=zi(f,p.mode,b),u.return=p,p=u),i(p)):s(p,u)}return P}var Zs=Zm(!0),ep=Zm(!1),kl=Gr(null),Pl=null,Us=null,hc=null;function fc(){hc=Us=Pl=null}function xc(e){var t=kl.current;Se(kl),e._currentValue=t}function No(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function qs(e,t){Pl=e,hc=Us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(hc!==e)if(e={context:e,memoizedValue:t,next:null},Us===null){if(Pl===null)throw Error(z(308));Us=e,Pl.dependencies={lanes:0,firstContext:e}}else Us=Us.next=e;return t}var is=null;function gc(e){is===null?is=[e]:is.push(e)}function tp(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,gc(t)):(s.next=a.next,a.next=s),t.interleaved=s,jr(e,n)}function jr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var kr=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,fe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,jr(e,s)}return a=n.interleaved,a===null?(t.next=t,gc(n)):(t.next=a.next,a.next=t),n.interleaved=t,jr(e,s)}function al(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,sc(e,s)}}function Rd(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Tl(e,t,s,n){var a=e.updateQueue;kr=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==i&&(o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=c))}if(l!==null){var m=a.baseState;i=0,y=d=c=null,o=l;do{var g=o.lane,x=o.eventTime;if((n&g)===g){y!==null&&(y=y.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,j=o;switch(g=t,x=s,j.tag){case 1:if(w=j.payload,typeof w=="function"){m=w.call(x,m,g);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,g=typeof w=="function"?w.call(x,m,g):w,g==null)break e;m=Ae({},m,g);break e;case 2:kr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else x={eventTime:x,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(d=y=x,c=m):y=y.next=x,i|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(y===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=y,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);gs|=i,e.lanes=i,e.memoizedState=m}}function Ad(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(z(191,a));a.call(n)}}}var Na={},lr=Gr(Na),oa=Gr(Na),ca=Gr(Na);function os(e){if(e===Na)throw Error(z(174));return e}function yc(e,t){switch(Ee(ca,t),Ee(oa,e),Ee(lr,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:to(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=to(t,e)}Se(lr),Ee(lr,t)}function en(){Se(lr),Se(oa),Se(ca)}function sp(e){os(ca.current);var t=os(lr.current),s=to(t,e.type);t!==s&&(Ee(oa,e),Ee(lr,s))}function jc(e){oa.current===e&&(Se(lr),Se(oa))}var Le=Gr(0);function Ml(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ri=[];function bc(){for(var e=0;e<Ri.length;e++)Ri[e]._workInProgressVersionPrimary=null;Ri.length=0}var ll=Nr.ReactCurrentDispatcher,Ai=Nr.ReactCurrentBatchConfig,xs=0,Re=null,Ve=null,Qe=null,Ll=!1,Jn=!1,da=0,Mx=0;function rt(){throw Error(z(321))}function Nc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Kt(e[s],t[s]))return!1;return!0}function wc(e,t,s,n,a,l){if(xs=l,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ll.current=e===null||e.memoizedState===null?Dx:_x,e=s(n,a),Jn){l=0;do{if(Jn=!1,da=0,25<=l)throw Error(z(301));l+=1,Qe=Ve=null,t.updateQueue=null,ll.current=Ix,e=s(n,a)}while(Jn)}if(ll.current=Rl,t=Ve!==null&&Ve.next!==null,xs=0,Qe=Ve=Re=null,Ll=!1,t)throw Error(z(300));return e}function Ec(){var e=da!==0;return da=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Dt(){if(Ve===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Qe===null?Re.memoizedState:Qe.next;if(t!==null)Qe=t,Ve=e;else{if(e===null)throw Error(z(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ua(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=Dt(),s=t.queue;if(s===null)throw Error(z(311));s.lastRenderedReducer=e;var n=Ve,a=n.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var y=d.lane;if((xs&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,i=n):c=c.next=m,Re.lanes|=y,gs|=y}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Kt(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Re.lanes|=l,gs|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function _i(e){var t=Dt(),s=t.queue;if(s===null)throw Error(z(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Kt(l,t.memoizedState)||(ft=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,n]}function np(){}function ap(e,t){var s=Re,n=Dt(),a=t(),l=!Kt(n.memoizedState,a);if(l&&(n.memoizedState=a,ft=!0),n=n.queue,Cc(op.bind(null,s,n,e),[e]),n.getSnapshot!==t||l||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,ma(9,ip.bind(null,s,n,a,t),void 0,null),qe===null)throw Error(z(349));xs&30||lp(s,t,a)}return a}function lp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ip(e,t,s,n){t.value=s,t.getSnapshot=n,cp(t)&&dp(e)}function op(e,t,s){return s(function(){cp(t)&&dp(e)})}function cp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Kt(e,s)}catch{return!0}}function dp(e){var t=jr(e,1);t!==null&&Xt(t,e,1,-1)}function Dd(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e},t.queue=e,e=e.dispatch=Ax.bind(null,Re,e),[t.memoizedState,e]}function ma(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function up(){return Dt().memoizedState}function il(e,t,s,n){var a=rr();Re.flags|=e,a.memoizedState=ma(1|t,s,void 0,n===void 0?null:n)}function Xl(e,t,s,n){var a=Dt();n=n===void 0?null:n;var l=void 0;if(Ve!==null){var i=Ve.memoizedState;if(l=i.destroy,n!==null&&Nc(n,i.deps)){a.memoizedState=ma(t,s,l,n);return}}Re.flags|=e,a.memoizedState=ma(1|t,s,l,n)}function _d(e,t){return il(8390656,8,e,t)}function Cc(e,t){return Xl(2048,8,e,t)}function mp(e,t){return Xl(4,2,e,t)}function pp(e,t){return Xl(4,4,e,t)}function hp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fp(e,t,s){return s=s!=null?s.concat([e]):null,Xl(4,4,hp.bind(null,t,e),s)}function Sc(){}function xp(e,t){var s=Dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Nc(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function gp(e,t){var s=Dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Nc(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function vp(e,t,s){return xs&21?(Kt(s,t)||(s=wm(),Re.lanes|=s,gs|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=s)}function Lx(e,t){var s=ye;ye=s!==0&&4>s?s:4,e(!0);var n=Ai.transition;Ai.transition={};try{e(!1),t()}finally{ye=s,Ai.transition=n}}function yp(){return Dt().memoizedState}function Rx(e,t,s){var n=$r(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},jp(e))bp(t,s);else if(s=tp(e,t,s,n),s!==null){var a=ct();Xt(s,e,n,a),Np(s,t,n)}}function Ax(e,t,s){var n=$r(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(jp(e))bp(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,Kt(o,i)){var c=t.interleaved;c===null?(a.next=a,gc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=tp(e,t,a,n),s!==null&&(a=ct(),Xt(s,e,n,a),Np(s,t,n))}}function jp(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function bp(e,t){Jn=Ll=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Np(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,sc(e,s)}}var Rl={readContext:At,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Dx={readContext:At,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:_d,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,il(4194308,4,hp.bind(null,t,e),s)},useLayoutEffect:function(e,t){return il(4194308,4,e,t)},useInsertionEffect:function(e,t){return il(4,2,e,t)},useMemo:function(e,t){var s=rr();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=rr();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Rx.bind(null,Re,e),[n.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:Dd,useDebugValue:Sc,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=Dd(!1),t=e[0];return e=Lx.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Re,a=rr();if(Te){if(s===void 0)throw Error(z(407));s=s()}else{if(s=t(),qe===null)throw Error(z(349));xs&30||lp(n,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,_d(op.bind(null,n,l,e),[e]),n.flags|=2048,ma(9,ip.bind(null,n,l,s,t),void 0,null),s},useId:function(){var e=rr(),t=qe.identifierPrefix;if(Te){var s=hr,n=pr;s=(n&~(1<<32-Gt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=da++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Mx++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_x={readContext:At,useCallback:xp,useContext:At,useEffect:Cc,useImperativeHandle:fp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:gp,useReducer:Di,useRef:up,useState:function(){return Di(ua)},useDebugValue:Sc,useDeferredValue:function(e){var t=Dt();return vp(t,Ve.memoizedState,e)},useTransition:function(){var e=Di(ua)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:ap,useId:yp,unstable_isNewReconciler:!1},Ix={readContext:At,useCallback:xp,useContext:At,useEffect:Cc,useImperativeHandle:fp,useInsertionEffect:mp,useLayoutEffect:pp,useMemo:gp,useReducer:_i,useRef:up,useState:function(){return _i(ua)},useDebugValue:Sc,useDeferredValue:function(e){var t=Dt();return Ve===null?t.memoizedState=e:vp(t,Ve.memoizedState,e)},useTransition:function(){var e=_i(ua)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:ap,useId:yp,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function wo(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ae({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Kl={isMounted:function(e){return(e=e._reactInternals)?bs(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ct(),a=$r(e),l=fr(n,a);l.payload=t,s!=null&&(l.callback=s),t=zr(e,l,a),t!==null&&(Xt(t,e,a,n),al(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ct(),a=$r(e),l=fr(n,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=zr(e,l,a),t!==null&&(Xt(t,e,a,n),al(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ct(),n=$r(e),a=fr(s,n);a.tag=2,t!=null&&(a.callback=t),t=zr(e,a,n),t!==null&&(Xt(t,e,n,s),al(t,e,n))}};function Id(e,t,s,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!na(s,n)||!na(a,l):!0}function wp(e,t,s){var n=!1,a=Wr,l=t.contextType;return typeof l=="object"&&l!==null?l=At(l):(a=gt(t)?hs:at.current,n=t.contextTypes,l=(n=n!=null)?Ks(e,a):Wr),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function Od(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Kl.enqueueReplaceState(t,t.state,null)}function Eo(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},vc(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=At(l):(l=gt(t)?hs:at.current,a.context=Ks(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(wo(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Kl.enqueueReplaceState(a,a.state,null),Tl(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var s="",n=t;do s+=df(n),n=n.return;while(n);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function Ii(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Co(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function Ep(e,t,s){s=fr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Dl||(Dl=!0,_o=n),Co(e,t)},s}function Cp(e,t,s){s=fr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Co(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Co(e,t),typeof n!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function zd(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Ox;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Kx.bind(null,e,t,s),t.then(e,e))}function Fd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $d(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=fr(-1,1),t.tag=2,zr(s,t,1))),s.lanes|=1),e)}var zx=Nr.ReactCurrentOwner,ft=!1;function it(e,t,s,n){t.child=e===null?ep(t,null,s,n):Zs(t,e.child,s,n)}function Ud(e,t,s,n,a){s=s.render;var l=t.ref;return qs(t,a),n=wc(e,t,s,n,l,a),s=Ec(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,br(e,t,a)):(Te&&s&&uc(t),t.flags|=1,it(e,t,n,a),t.child)}function Bd(e,t,s,n,a){if(e===null){var l=s.type;return typeof l=="function"&&!Dc(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,Sp(e,t,l,n,a)):(e=ul(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:na,s(i,n)&&e.ref===t.ref)return br(e,t,a)}return t.flags|=1,e=Ur(l,n),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,s,n,a){if(e!==null){var l=e.memoizedProps;if(na(l,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,br(e,t,a)}return So(e,t,s,n,a)}function kp(e,t,s){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Vs,jt),jt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Vs,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:s,Ee(Vs,jt),jt|=n}else l!==null?(n=l.baseLanes|s,t.memoizedState=null):n=s,Ee(Vs,jt),jt|=n;return it(e,t,a,s),t.child}function Pp(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,s,n,a){var l=gt(s)?hs:at.current;return l=Ks(t,l),qs(t,a),s=wc(e,t,s,n,l,a),n=Ec(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,br(e,t,a)):(Te&&n&&uc(t),t.flags|=1,it(e,t,s,a),t.child)}function Vd(e,t,s,n,a){if(gt(s)){var l=!0;El(t)}else l=!1;if(qs(t,a),t.stateNode===null)ol(e,t),wp(t,s,n),Eo(t,s,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=At(d):(d=gt(s)?hs:at.current,d=Ks(t,d));var y=s.getDerivedStateFromProps,m=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Od(t,i,n,d),kr=!1;var g=t.memoizedState;i.state=g,Tl(t,n,i,a),c=t.memoizedState,o!==n||g!==c||xt.current||kr?(typeof y=="function"&&(wo(t,s,y,n),c=t.memoizedState),(o=kr||Id(t,s,o,n,g,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ht(t.type,o),i.props=d,m=t.pendingProps,g=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=At(c):(c=gt(s)?hs:at.current,c=Ks(t,c));var x=s.getDerivedStateFromProps;(y=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||g!==c)&&Od(t,i,n,c),kr=!1,g=t.memoizedState,i.state=g,Tl(t,n,i,a);var w=t.memoizedState;o!==m||g!==w||xt.current||kr?(typeof x=="function"&&(wo(t,s,x,n),w=t.memoizedState),(d=kr||Id(t,s,d,n,g,w,c)||!1)?(y||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return ko(e,t,s,n,l,a)}function ko(e,t,s,n,a,l){Pp(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Pd(t,s,!1),br(e,t,l);n=t.stateNode,zx.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Zs(t,e.child,null,l),t.child=Zs(t,null,o,l)):it(e,t,o,l),t.memoizedState=n.state,a&&Pd(t,s,!0),t.child}function Tp(e){var t=e.stateNode;t.pendingContext?kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kd(e,t.context,!1),yc(e,t.containerInfo)}function Hd(e,t,s,n,a){return Ys(),pc(a),t.flags|=256,it(e,t,s,n),t.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function To(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mp(e,t,s){var n=t.pendingProps,a=Le.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ee(Le,a&1),e===null)return bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ei(i,n,0,null),e=us(e,n,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=To(s),t.memoizedState=Po,e):kc(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Fx(e,t,i,n,o,a,s);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ur(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Ur(o,l):(l=us(l,i,s,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?To(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=Po,n}return l=e.child,e=l.sibling,n=Ur(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function kc(e,t){return t=ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,s,n){return n!==null&&pc(n),Zs(t,e.child,null,s),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fx(e,t,s,n,a,l,i){if(s)return t.flags&256?(t.flags&=-257,n=Ii(Error(z(422))),Ga(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=ei({mode:"visible",children:n.children},a,0,null),l=us(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Zs(t,e.child,null,i),t.child.memoizedState=To(i),t.memoizedState=Po,l);if(!(t.mode&1))return Ga(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(z(419)),n=Ii(l,n,void 0),Ga(e,t,i,n)}if(o=(i&e.childLanes)!==0,ft||o){if(n=qe,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,jr(e,a),Xt(n,e,a,-1))}return Ac(),n=Ii(Error(z(421))),Ga(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Yx.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Nt=Or(a.nextSibling),wt=t,Te=!0,Qt=null,e!==null&&(Tt[Mt++]=pr,Tt[Mt++]=hr,Tt[Mt++]=fs,pr=e.id,hr=e.overflow,fs=t),t=kc(t,n.children),t.flags|=4096,t)}function Wd(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),No(e.return,t,s)}function Oi(e,t,s,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=a)}function Lp(e,t,s){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(it(e,t,n.children,s),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,s,t);else if(e.tag===19)Wd(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ee(Le,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Ml(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Oi(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ml(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Oi(t,!0,s,null,l);break;case"together":Oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ol(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),gs|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,s=Ur(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ur(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function $x(e,t,s){switch(t.tag){case 3:Tp(t),Ys();break;case 5:sp(t);break;case 1:gt(t.type)&&El(t);break;case 4:yc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ee(kl,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Le,Le.current&1),t.flags|=128,null):s&t.child.childLanes?Mp(e,t,s):(Ee(Le,Le.current&1),e=br(e,t,s),e!==null?e.sibling:null);Ee(Le,Le.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return Lp(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,kp(e,t,s)}return br(e,t,s)}var Rp,Mo,Ap,Dp;Rp=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Mo=function(){};Ap=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,os(lr.current);var l=null;switch(s){case"input":a=Ki(e,a),n=Ki(e,n),l=[];break;case"select":a=Ae({},a,{value:void 0}),n=Ae({},n,{value:void 0}),l=[];break;case"textarea":a=eo(e,a),n=eo(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Nl)}ro(s,n);var i;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Kn.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(l||(l=[]),l.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Kn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ce("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Dp=function(e,t,s,n){s!==n&&(t.flags|=4)};function Pn(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Ux(e,t,s){var n=t.pendingProps;switch(mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return gt(t.type)&&wl(),st(t),null;case 3:return n=t.stateNode,en(),Se(xt),Se(at),bc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(zo(Qt),Qt=null))),Mo(e,t),st(t),null;case 5:jc(t);var a=os(ca.current);if(s=t.type,e!==null&&t.stateNode!=null)Ap(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return st(t),null}if(e=os(lr.current),Qa(t)){n=t.stateNode,s=t.type;var l=t.memoizedProps;switch(n[nr]=t,n[ia]=l,e=(t.mode&1)!==0,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(a=0;a<zn.length;a++)Ce(zn[a],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":ed(n,l),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Ce("invalid",n);break;case"textarea":rd(n,l),Ce("invalid",n)}ro(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ja(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ja(n.textContent,o,e),a=["children",""+o]):Kn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ce("scroll",n)}switch(s){case"input":za(n),td(n,l,!0);break;case"textarea":za(n),sd(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Nl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=om(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(s,{is:n.is}):(e=i.createElement(s),s==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,s),e[nr]=t,e[ia]=n,Rp(e,t,!1,!1),t.stateNode=e;e:{switch(i=so(s,n),s){case"dialog":Ce("cancel",e),Ce("close",e),a=n;break;case"iframe":case"object":case"embed":Ce("load",e),a=n;break;case"video":case"audio":for(a=0;a<zn.length;a++)Ce(zn[a],e);a=n;break;case"source":Ce("error",e),a=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),a=n;break;case"details":Ce("toggle",e),a=n;break;case"input":ed(e,n),a=Ki(e,n),Ce("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ae({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":rd(e,n),a=eo(e,n),Ce("invalid",e);break;default:a=n}ro(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?um(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cm(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Yn(e,c):typeof c=="number"&&Yn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Kn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ce("scroll",e):c!=null&&Ko(e,l,c,i))}switch(s){case"input":za(e),td(e,n,!1);break;case"textarea":za(e),sd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Hr(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Hs(e,!!n.multiple,l,!1):n.defaultValue!=null&&Hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Nl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)Dp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(s=os(ca.current),os(lr.current),Qa(t)){if(n=t.stateNode,s=t.memoizedProps,n[nr]=t,(l=n.nodeValue!==s)&&(e=wt,e!==null))switch(e.tag){case 3:Ja(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(n.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[nr]=t,t.stateNode=n}return st(t),null;case 13:if(Se(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Nt!==null&&t.mode&1&&!(t.flags&128))Ym(),Ys(),t.flags|=98560,l=!1;else if(l=Qa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[nr]=t}else Ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),l=!1}else Qt!==null&&(zo(Qt),Qt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?He===0&&(He=3):Ac())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return en(),Mo(e,t),e===null&&aa(t.stateNode.containerInfo),st(t),null;case 10:return xc(t.type._context),st(t),null;case 17:return gt(t.type)&&wl(),st(t),null;case 19:if(Se(Le),l=t.memoizedState,l===null)return st(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Pn(l,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ml(e),i!==null){for(t.flags|=128,Pn(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)l=s,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ee(Le,Le.current&1|2),t.child}e=e.sibling}l.tail!==null&&Fe()>rn&&(t.flags|=128,n=!0,Pn(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ml(i),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Pn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Te)return st(t),null}else 2*Fe()-l.renderingStartTime>rn&&s!==1073741824&&(t.flags|=128,n=!0,Pn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Fe(),t.sibling=null,s=Le.current,Ee(Le,n?s&1|2:s&1),t):(st(t),null);case 22:case 23:return Rc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Bx(e,t){switch(mc(t),t.tag){case 1:return gt(t.type)&&wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),Se(xt),Se(at),bc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jc(t),null;case 13:if(Se(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Le),null;case 4:return en(),null;case 10:return xc(t.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var Xa=!1,nt=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Bs(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Oe(e,t,n)}else s.current=null}function Lo(e,t,s){try{s()}catch(n){Oe(e,t,n)}}var Jd=!1;function Hx(e,t){if(ho=yl,e=Fm(),dc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,d=0,y=0,m=e,g=null;t:for(;;){for(var x;m!==s||a!==0&&m.nodeType!==3||(o=i+a),m!==l||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===e)break t;if(g===s&&++d===a&&(o=i),g===l&&++y===n&&(c=i),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fo={focusedElem:e,selectionRange:s},yl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,P=w.memoizedState,p=t.stateNode,u=p.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ht(t.type,j),P);p.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){Oe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=Jd,Jd=!1,w}function Qn(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Lo(t,s,l)}a=a.next}while(a!==n)}}function Yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Ro(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[ia],delete t[vo],delete t[Sx],delete t[kx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ip(e){return e.tag===5||e.tag===3||e.tag===4}function Qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Nl));else if(n!==4&&(e=e.child,e!==null))for(Ao(e,t,s),e=e.sibling;e!==null;)Ao(e,t,s),e=e.sibling}function Do(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Do(e,t,s),e=e.sibling;e!==null;)Do(e,t,s),e=e.sibling}var Xe=null,Wt=!1;function Er(e,t,s){for(s=s.child;s!==null;)Op(e,t,s),s=s.sibling}function Op(e,t,s){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Hl,s)}catch{}switch(s.tag){case 5:nt||Bs(s,t);case 6:var n=Xe,a=Wt;Xe=null,Er(e,t,s),Xe=n,Wt=a,Xe!==null&&(Wt?(e=Xe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Xe.removeChild(s.stateNode));break;case 18:Xe!==null&&(Wt?(e=Xe,s=s.stateNode,e.nodeType===8?Mi(e.parentNode,s):e.nodeType===1&&Mi(e,s),ra(e)):Mi(Xe,s.stateNode));break;case 4:n=Xe,a=Wt,Xe=s.stateNode.containerInfo,Wt=!0,Er(e,t,s),Xe=n,Wt=a;break;case 0:case 11:case 14:case 15:if(!nt&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Lo(s,t,i),a=a.next}while(a!==n)}Er(e,t,s);break;case 1:if(!nt&&(Bs(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){Oe(s,t,o)}Er(e,t,s);break;case 21:Er(e,t,s);break;case 22:s.mode&1?(nt=(n=nt)||s.memoizedState!==null,Er(e,t,s),nt=n):Er(e,t,s);break;default:Er(e,t,s)}}function qd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Vx),t.forEach(function(n){var a=Zx.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Ut(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Xe=o.stateNode,Wt=!1;break e;case 3:Xe=o.stateNode.containerInfo,Wt=!0;break e;case 4:Xe=o.stateNode.containerInfo,Wt=!0;break e}o=o.return}if(Xe===null)throw Error(z(160));Op(l,i,a),Xe=null,Wt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Oe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zp(t,e),t=t.sibling}function zp(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),er(e),n&4){try{Qn(3,e,e.return),Yl(3,e)}catch(j){Oe(e,e.return,j)}try{Qn(5,e,e.return)}catch(j){Oe(e,e.return,j)}}break;case 1:Ut(t,e),er(e),n&512&&s!==null&&Bs(s,s.return);break;case 5:if(Ut(t,e),er(e),n&512&&s!==null&&Bs(s,s.return),e.flags&32){var a=e.stateNode;try{Yn(a,"")}catch(j){Oe(e,e.return,j)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&lm(a,l),so(o,i);var d=so(o,l);for(i=0;i<c.length;i+=2){var y=c[i],m=c[i+1];y==="style"?um(a,m):y==="dangerouslySetInnerHTML"?cm(a,m):y==="children"?Yn(a,m):Ko(a,y,m,d)}switch(o){case"input":Yi(a,l);break;case"textarea":im(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Hs(a,!!l.multiple,x,!1):g!==!!l.multiple&&(l.defaultValue!=null?Hs(a,!!l.multiple,l.defaultValue,!0):Hs(a,!!l.multiple,l.multiple?[]:"",!1))}a[ia]=l}catch(j){Oe(e,e.return,j)}}break;case 6:if(Ut(t,e),er(e),n&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(j){Oe(e,e.return,j)}}break;case 3:if(Ut(t,e),er(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{ra(t.containerInfo)}catch(j){Oe(e,e.return,j)}break;case 4:Ut(t,e),er(e);break;case 13:Ut(t,e),er(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Mc=Fe())),n&4&&qd(e);break;case 22:if(y=s!==null&&s.memoizedState!==null,e.mode&1?(nt=(d=nt)||y,Ut(t,e),nt=d):Ut(t,e),er(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(Q=e,y=e.child;y!==null;){for(m=Q=y;Q!==null;){switch(g=Q,x=g.child,g.tag){case 0:case 11:case 14:case 15:Qn(4,g,g.return);break;case 1:Bs(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){n=g,s=g.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(j){Oe(n,s,j)}}break;case 5:Bs(g,g.return);break;case 22:if(g.memoizedState!==null){Xd(m);continue}}x!==null?(x.return=g,Q=x):Xd(m)}y=y.sibling}e:for(y=null,m=e;;){if(m.tag===5){if(y===null){y=m;try{a=m.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=dm("display",i))}catch(j){Oe(e,e.return,j)}}}else if(m.tag===6){if(y===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(j){Oe(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;y===m&&(y=null),m=m.return}y===m&&(y=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ut(t,e),er(e),n&4&&qd(e);break;case 21:break;default:Ut(t,e),er(e)}}function er(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ip(s)){var n=s;break e}s=s.return}throw Error(z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yn(a,""),n.flags&=-33);var l=Qd(e);Do(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Qd(e);Ao(e,o,i);break;default:throw Error(z(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e,t,s){Q=e,Fp(e)}function Fp(e,t,s){for(var n=(e.mode&1)!==0;Q!==null;){var a=Q,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Xa;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||nt;o=Xa;var d=nt;if(Xa=i,(nt=c)&&!d)for(Q=a;Q!==null;)i=Q,c=i.child,i.tag===22&&i.memoizedState!==null?Kd(a):c!==null?(c.return=i,Q=c):Kd(a);for(;l!==null;)Q=l,Fp(l),l=l.sibling;Q=a,Xa=o,nt=d}Gd(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Q=l):Gd(e)}}function Gd(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||Yl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!nt)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Ht(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ad(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ad(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var m=y.dehydrated;m!==null&&ra(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}nt||t.flags&512&&Ro(t)}catch(g){Oe(t,t.return,g)}}if(t===e){Q=null;break}if(s=t.sibling,s!==null){s.return=t.return,Q=s;break}Q=t.return}}function Xd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Q=s;break}Q=t.return}}function Kd(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Yl(4,t)}catch(c){Oe(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Oe(t,a,c)}}var l=t.return;try{Ro(t)}catch(c){Oe(t,l,c)}break;case 5:var i=t.return;try{Ro(t)}catch(c){Oe(t,i,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){Q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Q=o;break}Q=t.return}}var Jx=Math.ceil,Al=Nr.ReactCurrentDispatcher,Pc=Nr.ReactCurrentOwner,Rt=Nr.ReactCurrentBatchConfig,fe=0,qe=null,Be=null,Ze=0,jt=0,Vs=Gr(0),He=0,pa=null,gs=0,Zl=0,Tc=0,qn=null,ht=null,Mc=0,rn=1/0,ur=null,Dl=!1,_o=null,Fr=null,Ka=!1,Rr=null,_l=0,Gn=0,Io=null,cl=-1,dl=0;function ct(){return fe&6?Fe():cl!==-1?cl:cl=Fe()}function $r(e){return e.mode&1?fe&2&&Ze!==0?Ze&-Ze:Tx.transition!==null?(dl===0&&(dl=wm()),dl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Mm(e.type)),e):1}function Xt(e,t,s,n){if(50<Gn)throw Gn=0,Io=null,Error(z(185));ya(e,s,n),(!(fe&2)||e!==qe)&&(e===qe&&(!(fe&2)&&(Zl|=s),He===4&&Tr(e,Ze)),vt(e,n),s===1&&fe===0&&!(t.mode&1)&&(rn=Fe()+500,Gl&&Xr()))}function vt(e,t){var s=e.callbackNode;Tf(e,t);var n=vl(e,e===qe?Ze:0);if(n===0)s!==null&&ld(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&ld(s),t===1)e.tag===0?Px(Yd.bind(null,e)):Gm(Yd.bind(null,e)),Ex(function(){!(fe&6)&&Xr()}),s=null;else{switch(Em(n)){case 1:s=rc;break;case 4:s=bm;break;case 16:s=gl;break;case 536870912:s=Nm;break;default:s=gl}s=Qp(s,$p.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function $p(e,t){if(cl=-1,dl=0,fe&6)throw Error(z(327));var s=e.callbackNode;if(Gs()&&e.callbackNode!==s)return null;var n=vl(e,e===qe?Ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Il(e,n);else{t=n;var a=fe;fe|=2;var l=Bp();(qe!==e||Ze!==t)&&(ur=null,rn=Fe()+500,ds(e,t));do try{Gx();break}catch(o){Up(e,o)}while(!0);fc(),Al.current=l,fe=a,Be!==null?t=0:(qe=null,Ze=0,t=He)}if(t!==0){if(t===2&&(a=oo(e),a!==0&&(n=a,t=Oo(e,a))),t===1)throw s=pa,ds(e,0),Tr(e,n),vt(e,Fe()),s;if(t===6)Tr(e,n);else{if(a=e.current.alternate,!(n&30)&&!Qx(a)&&(t=Il(e,n),t===2&&(l=oo(e),l!==0&&(n=l,t=Oo(e,l))),t===1))throw s=pa,ds(e,0),Tr(e,n),vt(e,Fe()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:ss(e,ht,ur);break;case 3:if(Tr(e,n),(n&130023424)===n&&(t=Mc+500-Fe(),10<t)){if(vl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ct(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=go(ss.bind(null,e,ht,ur),t);break}ss(e,ht,ur);break;case 4:if(Tr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Gt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jx(n/1960))-n,10<n){e.timeoutHandle=go(ss.bind(null,e,ht,ur),n);break}ss(e,ht,ur);break;case 5:ss(e,ht,ur);break;default:throw Error(z(329))}}}return vt(e,Fe()),e.callbackNode===s?$p.bind(null,e):null}function Oo(e,t){var s=qn;return e.current.memoizedState.isDehydrated&&(ds(e,t).flags|=256),e=Il(e,t),e!==2&&(t=ht,ht=s,t!==null&&zo(t)),e}function zo(e){ht===null?ht=e:ht.push.apply(ht,e)}function Qx(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],l=a.getSnapshot;a=a.value;try{if(!Kt(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Tc,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Gt(t),n=1<<s;e[s]=-1,t&=~n}}function Yd(e){if(fe&6)throw Error(z(327));Gs();var t=vl(e,0);if(!(t&1))return vt(e,Fe()),null;var s=Il(e,t);if(e.tag!==0&&s===2){var n=oo(e);n!==0&&(t=n,s=Oo(e,n))}if(s===1)throw s=pa,ds(e,0),Tr(e,t),vt(e,Fe()),s;if(s===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,ht,ur),vt(e,Fe()),null}function Lc(e,t){var s=fe;fe|=1;try{return e(t)}finally{fe=s,fe===0&&(rn=Fe()+500,Gl&&Xr())}}function vs(e){Rr!==null&&Rr.tag===0&&!(fe&6)&&Gs();var t=fe;fe|=1;var s=Rt.transition,n=ye;try{if(Rt.transition=null,ye=1,e)return e()}finally{ye=n,Rt.transition=s,fe=t,!(fe&6)&&Xr()}}function Rc(){jt=Vs.current,Se(Vs)}function ds(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,wx(s)),Be!==null)for(s=Be.return;s!==null;){var n=s;switch(mc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wl();break;case 3:en(),Se(xt),Se(at),bc();break;case 5:jc(n);break;case 4:en();break;case 13:Se(Le);break;case 19:Se(Le);break;case 10:xc(n.type._context);break;case 22:case 23:Rc()}s=s.return}if(qe=e,Be=e=Ur(e.current,null),Ze=jt=t,He=0,pa=null,Tc=Zl=gs=0,ht=qn=null,is!==null){for(t=0;t<is.length;t++)if(s=is[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}s.pending=n}is=null}return e}function Up(e,t){do{var s=Be;try{if(fc(),ll.current=Rl,Ll){for(var n=Re.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ll=!1}if(xs=0,Qe=Ve=Re=null,Jn=!1,da=0,Pc.current=null,s===null||s.return===null){He=1,pa=t,Be=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=o,m=y.tag;if(!(y.mode&1)&&(m===0||m===11||m===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var x=Fd(i);if(x!==null){x.flags&=-257,$d(x,i,o,l,t),x.mode&1&&zd(l,d,t),t=x,c=d;var w=t.updateQueue;if(w===null){var j=new Set;j.add(c),t.updateQueue=j}else w.add(c);break e}else{if(!(t&1)){zd(l,d,t),Ac();break e}c=Error(z(426))}}else if(Te&&o.mode&1){var P=Fd(i);if(P!==null){!(P.flags&65536)&&(P.flags|=256),$d(P,i,o,l,t),pc(tn(c,o));break e}}l=c=tn(c,o),He!==4&&(He=2),qn===null?qn=[l]:qn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Ep(l,c,t);Rd(l,p);break e;case 1:o=c;var u=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fr===null||!Fr.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=Cp(l,o,t);Rd(l,b);break e}}l=l.return}while(l!==null)}Hp(s)}catch(S){t=S,Be===s&&s!==null&&(Be=s=s.return);continue}break}while(!0)}function Bp(){var e=Al.current;return Al.current=Rl,e===null?Rl:e}function Ac(){(He===0||He===3||He===2)&&(He=4),qe===null||!(gs&268435455)&&!(Zl&268435455)||Tr(qe,Ze)}function Il(e,t){var s=fe;fe|=2;var n=Bp();(qe!==e||Ze!==t)&&(ur=null,ds(e,t));do try{qx();break}catch(a){Up(e,a)}while(!0);if(fc(),fe=s,Al.current=n,Be!==null)throw Error(z(261));return qe=null,Ze=0,He}function qx(){for(;Be!==null;)Vp(Be)}function Gx(){for(;Be!==null&&!jf();)Vp(Be)}function Vp(e){var t=Jp(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?Hp(e):Be=t,Pc.current=null}function Hp(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Bx(s,t),s!==null){s.flags&=32767,Be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Be=null;return}}else if(s=Ux(s,t,jt),s!==null){Be=s;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);He===0&&(He=5)}function ss(e,t,s){var n=ye,a=Rt.transition;try{Rt.transition=null,ye=1,Xx(e,t,s,n)}finally{Rt.transition=a,ye=n}return null}function Xx(e,t,s,n){do Gs();while(Rr!==null);if(fe&6)throw Error(z(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(Mf(e,l),e===qe&&(Be=qe=null,Ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ka||(Ka=!0,Qp(gl,function(){return Gs(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=Rt.transition,Rt.transition=null;var i=ye;ye=1;var o=fe;fe|=4,Pc.current=null,Hx(e,s),zp(s,e),xx(fo),yl=!!ho,fo=ho=null,e.current=s,Wx(s),bf(),fe=o,ye=i,Rt.transition=l}else e.current=s;if(Ka&&(Ka=!1,Rr=e,_l=a),l=e.pendingLanes,l===0&&(Fr=null),Ef(s.stateNode),vt(e,Fe()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Dl)throw Dl=!1,e=_o,_o=null,e;return _l&1&&e.tag!==0&&Gs(),l=e.pendingLanes,l&1?e===Io?Gn++:(Gn=0,Io=e):Gn=0,Xr(),null}function Gs(){if(Rr!==null){var e=Em(_l),t=Rt.transition,s=ye;try{if(Rt.transition=null,ye=16>e?16:e,Rr===null)var n=!1;else{if(e=Rr,Rr=null,_l=0,fe&6)throw Error(z(331));var a=fe;for(fe|=4,Q=e.current;Q!==null;){var l=Q,i=l.child;if(Q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Q=d;Q!==null;){var y=Q;switch(y.tag){case 0:case 11:case 15:Qn(8,y,l)}var m=y.child;if(m!==null)m.return=y,Q=m;else for(;Q!==null;){y=Q;var g=y.sibling,x=y.return;if(_p(y),y===d){Q=null;break}if(g!==null){g.return=x,Q=g;break}Q=x}}}var w=l.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var P=j.sibling;j.sibling=null,j=P}while(j!==null)}}Q=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Q=i;else e:for(;Q!==null;){if(l=Q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Qn(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,Q=p;break e}Q=l.return}}var u=e.current;for(Q=u;Q!==null;){i=Q;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,Q=f;else e:for(i=u;Q!==null;){if(o=Q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Yl(9,o)}}catch(S){Oe(o,o.return,S)}if(o===i){Q=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Q=b;break e}Q=o.return}}if(fe=a,Xr(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Hl,e)}catch{}n=!0}return n}finally{ye=s,Rt.transition=t}}return!1}function Zd(e,t,s){t=tn(s,t),t=Ep(e,t,1),e=zr(e,t,1),t=ct(),e!==null&&(ya(e,1,t),vt(e,t))}function Oe(e,t,s){if(e.tag===3)Zd(e,e,s);else for(;t!==null;){if(t.tag===3){Zd(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fr===null||!Fr.has(n))){e=tn(s,e),e=Cp(t,e,1),t=zr(t,e,1),e=ct(),t!==null&&(ya(t,1,e),vt(t,e));break}}t=t.return}}function Kx(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&s,qe===e&&(Ze&s)===s&&(He===4||He===3&&(Ze&130023424)===Ze&&500>Fe()-Mc?ds(e,0):Tc|=s),vt(e,t)}function Wp(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var s=ct();e=jr(e,t),e!==null&&(ya(e,t,s),vt(e,s))}function Yx(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Wp(e,s)}function Zx(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),Wp(e,s)}var Jp;Jp=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)ft=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ft=!1,$x(e,t,s);ft=!!(e.flags&131072)}else ft=!1,Te&&t.flags&1048576&&Xm(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ol(e,t),e=t.pendingProps;var a=Ks(t,at.current);qs(t,s),a=wc(null,t,n,e,a,s);var l=Ec();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(l=!0,El(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,vc(t),a.updater=Kl,t.stateNode=a,a._reactInternals=t,Eo(t,n,e,s),t=ko(null,t,n,!0,l,s)):(t.tag=0,Te&&l&&uc(t),it(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(ol(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=t0(n),e=Ht(n,e),a){case 0:t=So(null,t,n,e,s);break e;case 1:t=Vd(null,t,n,e,s);break e;case 11:t=Ud(null,t,n,e,s);break e;case 14:t=Bd(null,t,n,Ht(n.type,e),s);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ht(n,a),So(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ht(n,a),Vd(e,t,n,a,s);case 3:e:{if(Tp(t),e===null)throw Error(z(387));n=t.pendingProps,l=t.memoizedState,a=l.element,rp(e,t),Tl(t,n,null,s);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=tn(Error(z(423)),t),t=Hd(e,t,n,s,a);break e}else if(n!==a){a=tn(Error(z(424)),t),t=Hd(e,t,n,s,a);break e}else for(Nt=Or(t.stateNode.containerInfo.firstChild),wt=t,Te=!0,Qt=null,s=ep(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ys(),n===a){t=br(e,t,s);break e}it(e,t,n,s)}t=t.child}return t;case 5:return sp(t),e===null&&bo(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,xo(n,a)?i=null:l!==null&&xo(n,l)&&(t.flags|=32),Pp(e,t),it(e,t,i,s),t.child;case 6:return e===null&&bo(t),null;case 13:return Mp(e,t,s);case 4:return yc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zs(t,null,n,s):it(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ht(n,a),Ud(e,t,n,a,s);case 7:return it(e,t,t.pendingProps,s),t.child;case 8:return it(e,t,t.pendingProps.children,s),t.child;case 12:return it(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Ee(kl,n._currentValue),n._currentValue=i,l!==null)if(Kt(l.value,i)){if(l.children===a.children&&!xt.current){t=br(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=fr(-1,s&-s),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),No(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(z(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),No(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}it(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,qs(t,s),a=At(a),n=n(a),t.flags|=1,it(e,t,n,s),t.child;case 14:return n=t.type,a=Ht(n,t.pendingProps),a=Ht(n.type,a),Bd(e,t,n,a,s);case 15:return Sp(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ht(n,a),ol(e,t),t.tag=1,gt(n)?(e=!0,El(t)):e=!1,qs(t,s),wp(t,n,a),Eo(t,n,a,s),ko(null,t,n,!0,e,s);case 19:return Lp(e,t,s);case 22:return kp(e,t,s)}throw Error(z(156,t.tag))};function Qp(e,t){return jm(e,t)}function e0(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,s,n){return new e0(e,t,s,n)}function Dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t0(e){if(typeof e=="function")return Dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zo)return 11;if(e===ec)return 14}return 2}function Ur(e,t){var s=e.alternate;return s===null?(s=Lt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ul(e,t,s,n,a,l){var i=2;if(n=e,typeof e=="function")Dc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case As:return us(s.children,a,l,t);case Yo:i=8,a|=8;break;case Qi:return e=Lt(12,s,t,a|2),e.elementType=Qi,e.lanes=l,e;case qi:return e=Lt(13,s,t,a),e.elementType=qi,e.lanes=l,e;case Gi:return e=Lt(19,s,t,a),e.elementType=Gi,e.lanes=l,e;case sm:return ei(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tm:i=10;break e;case rm:i=9;break e;case Zo:i=11;break e;case ec:i=14;break e;case Sr:i=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Lt(i,s,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function us(e,t,s,n){return e=Lt(7,e,n,t),e.lanes=s,e}function ei(e,t,s,n){return e=Lt(22,e,n,t),e.elementType=sm,e.lanes=s,e.stateNode={isHidden:!1},e}function zi(e,t,s){return e=Lt(6,e,null,t),e.lanes=s,e}function Fi(e,t,s){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r0(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _c(e,t,s,n,a,l,i,o,c){return e=new r0(e,t,s,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Lt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(l),e}function s0(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function qp(e){if(!e)return Wr;e=e._reactInternals;e:{if(bs(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var s=e.type;if(gt(s))return qm(e,s,t)}return t}function Gp(e,t,s,n,a,l,i,o,c){return e=_c(s,n,!0,e,a,l,i,o,c),e.context=qp(null),s=e.current,n=ct(),a=$r(s),l=fr(n,a),l.callback=t??null,zr(s,l,a),e.current.lanes=a,ya(e,a,n),vt(e,n),e}function ti(e,t,s,n){var a=t.current,l=ct(),i=$r(a);return s=qp(s),t.context===null?t.context=s:t.pendingContext=s,t=fr(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zr(a,t,i),e!==null&&(Xt(e,a,i,l),al(e,a,i)),i}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ic(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}function n0(){return null}var Xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oc(e){this._internalRoot=e}ri.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));ti(e,t,null,null)};ri.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vs(function(){ti(null,e,null,null)}),t[yr]=null}};function ri(e){this._internalRoot=e}ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=km();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Pr.length&&t!==0&&t<Pr[s].priority;s++);Pr.splice(s,0,e),s===0&&Tm(e)}};function zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tu(){}function a0(e,t,s,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=Ol(i);l.call(d)}}var i=Gp(t,n,e,0,null,!1,!1,"",tu);return e._reactRootContainer=i,e[yr]=i.current,aa(e.nodeType===8?e.parentNode:e),vs(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Ol(c);o.call(d)}}var c=_c(e,0,!1,null,null,!1,!1,"",tu);return e._reactRootContainer=c,e[yr]=c.current,aa(e.nodeType===8?e.parentNode:e),vs(function(){ti(t,c,s,n)}),c}function ni(e,t,s,n,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Ol(i);o.call(c)}}ti(t,i,e,a)}else i=a0(s,t,e,a,n);return Ol(i)}Cm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=On(t.pendingLanes);s!==0&&(sc(t,s|1),vt(t,Fe()),!(fe&6)&&(rn=Fe()+500,Xr()))}break;case 13:vs(function(){var n=jr(e,1);if(n!==null){var a=ct();Xt(n,e,1,a)}}),Ic(e,1)}};nc=function(e){if(e.tag===13){var t=jr(e,134217728);if(t!==null){var s=ct();Xt(t,e,134217728,s)}Ic(e,134217728)}};Sm=function(e){if(e.tag===13){var t=$r(e),s=jr(e,t);if(s!==null){var n=ct();Xt(s,e,t,n)}Ic(e,t)}};km=function(){return ye};Pm=function(e,t){var s=ye;try{return ye=e,t()}finally{ye=s}};ao=function(e,t,s){switch(t){case"input":if(Yi(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=ql(n);if(!a)throw Error(z(90));am(n),Yi(n,a)}}}break;case"textarea":im(e,s);break;case"select":t=s.value,t!=null&&Hs(e,!!s.multiple,t,!1)}};hm=Lc;fm=vs;var l0={usingClientEntryPoint:!1,Events:[ba,Os,ql,mm,pm,Lc]},Tn={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i0={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vm(e),e===null?null:e.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{Hl=Ya.inject(i0),ar=Ya}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l0;Ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(t))throw Error(z(200));return s0(e,t,null,s)};Ct.createRoot=function(e,t){if(!zc(e))throw Error(z(299));var s=!1,n="",a=Xp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=_c(e,1,!1,null,null,s,!1,n,a),e[yr]=t.current,aa(e.nodeType===8?e.parentNode:e),new Oc(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=vm(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return vs(e)};Ct.hydrate=function(e,t,s){if(!si(t))throw Error(z(200));return ni(null,e,t,!0,s)};Ct.hydrateRoot=function(e,t,s){if(!zc(e))throw Error(z(405));var n=s!=null&&s.hydratedSources||null,a=!1,l="",i=Xp;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Gp(t,null,e,1,s??null,a,!1,l,i),e[yr]=t.current,aa(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new ri(t)};Ct.render=function(e,t,s){if(!si(t))throw Error(z(200));return ni(null,e,t,!1,s)};Ct.unmountComponentAtNode=function(e){if(!si(e))throw Error(z(40));return e._reactRootContainer?(vs(function(){ni(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1};Ct.unstable_batchedUpdates=Lc;Ct.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!si(s))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return ni(e,t,s,!1,n)};Ct.version="18.3.1-next-f1338f8080-20240426";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),Ku.exports=Ct;var Fc=Ku.exports;const o0=Fu(Fc),c0=zu({__proto__:null,default:o0},[Fc]);var Yp,ru=Fc;Yp=ru.createRoot,ru.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Pe.apply(this,arguments)}var Ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ue||(Ue={}));const su="popstate";function d0(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return ha("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:ys(a)}return m0(t,s,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u0(){return Math.random().toString(36).substr(2,8)}function nu(e,t){return{usr:e.state,key:e.key,idx:t}}function ha(e,t,s,n){return s===void 0&&(s=null),Pe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kr(t):t,{state:s,key:t&&t.key||n||u0()})}function ys(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function m0(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=Ue.Pop,c=null,d=y();d==null&&(d=0,i.replaceState(Pe({},i.state,{idx:d}),""));function y(){return(i.state||{idx:null}).idx}function m(){o=Ue.Pop;let P=y(),p=P==null?null:P-d;d=P,c&&c({action:o,location:j.location,delta:p})}function g(P,p){o=Ue.Push;let u=ha(j.location,P,p);d=y()+1;let f=nu(u,d),b=j.createHref(u);try{i.pushState(f,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}l&&c&&c({action:o,location:j.location,delta:1})}function x(P,p){o=Ue.Replace;let u=ha(j.location,P,p);d=y();let f=nu(u,d),b=j.createHref(u);i.replaceState(f,"",b),l&&c&&c({action:o,location:j.location,delta:0})}function w(P){let p=a.location.origin!=="null"?a.location.origin:a.location.href,u=typeof P=="string"?P:ys(P);return u=u.replace(/ $/,"%20"),me(p,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,p)}let j={get action(){return o},get location(){return e(a,i)},listen(P){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(su,m),c=P,()=>{a.removeEventListener(su,m),c=null}},createHref(P){return t(a,P)},createURL:w,encodeLocation(P){let p=w(P);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:x,go(P){return i.go(P)}};return j}var ve;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ve||(ve={}));const p0=new Set(["lazy","caseSensitive","path","id","index","children"]);function h0(e){return e.index===!0}function zl(e,t,s,n){return s===void 0&&(s=[]),n===void 0&&(n={}),e.map((a,l)=>{let i=[...s,String(l)],o=typeof a.id=="string"?a.id:i.join("-");if(me(a.index!==!0||!a.children,"Cannot specify children on an index route"),me(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),h0(a)){let c=Pe({},a,t(a),{id:o});return n[o]=c,c}else{let c=Pe({},a,t(a),{id:o,children:void 0});return n[o]=c,a.children&&(c.children=zl(a.children,t,i,n)),c}})}function ns(e,t,s){return s===void 0&&(s="/"),ml(e,t,s,!1)}function ml(e,t,s,n){let a=typeof t=="string"?Kr(t):t,l=dn(a.pathname||"/",s);if(l==null)return null;let i=Zp(e);x0(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=k0(l);o=C0(i[c],d,n)}return o}function f0(e,t){let{route:s,pathname:n,params:a}=e;return{id:s.id,pathname:n,params:a,data:t[s.id],handle:s.handle}}function Zp(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=xr([n,c.relativePath]),y=s.concat(c);l.children&&l.children.length>0&&(me(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Zp(l.children,t,y,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:w0(d,l.index),routesMeta:y})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of eh(l.path))a(l,i,c)}),t}function eh(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=eh(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function x0(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:E0(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const g0=/^:[\w-]+$/,v0=3,y0=2,j0=1,b0=10,N0=-2,au=e=>e==="*";function w0(e,t){let s=e.split("/"),n=s.length;return s.some(au)&&(n+=N0),t&&(n+=y0),s.filter(a=>!au(a)).reduce((a,l)=>a+(g0.test(l)?v0:l===""?j0:b0),n)}function E0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function C0(e,t,s){s===void 0&&(s=!1);let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,y=l==="/"?t:t.slice(l.length)||"/",m=lu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},y),g=c.route;if(!m&&d&&s&&!n[n.length-1].route.index&&(m=lu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},y)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:xr([l,m.pathname]),pathnameBase:M0(xr([l,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(l=xr([l,m.pathnameBase]))}return i}function lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=S0(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,y,m)=>{let{paramName:g,isOptional:x}=y;if(g==="*"){let j=o[m]||"";i=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const w=o[m];return x&&!w?d[g]=void 0:d[g]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function S0(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function k0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function P0(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Kr(e):e;return{pathname:s?s.startsWith("/")?s:T0(s,t):t,search:L0(n),hash:R0(a)}}function T0(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function $i(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function th(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function ai(e,t){let s=th(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function li(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Kr(e):(a=Pe({},e),me(!a.pathname||!a.pathname.includes("?"),$i("?","pathname","search",a)),me(!a.pathname||!a.pathname.includes("#"),$i("#","pathname","hash",a)),me(!a.search||!a.search.includes("#"),$i("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=s;else{let m=t.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?t[m]:"/"}let c=P0(a,o),d=i&&i!=="/"&&i.endsWith("/"),y=(l||i===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||y)&&(c.pathname+="/"),c}const xr=e=>e.join("/").replace(/\/\/+/g,"/"),M0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Fl{constructor(t,s,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=s||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function fa(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rh=["post","put","patch","delete"],A0=new Set(rh),D0=["get",...rh],_0=new Set(D0),I0=new Set([301,302,303,307,308]),O0=new Set([307,308]),Ui={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},z0={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mn={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$c=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F0=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),sh="remix-router-transitions";function $0(e){const t=e.window?e.window:typeof window<"u"?window:void 0,s=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!s;me(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let k=e.detectErrorBoundary;a=M=>({hasErrorBoundary:k(M)})}else a=F0;let l={},i=zl(e.routes,a,void 0,l),o,c=e.basename||"/",d=e.dataStrategy||H0,y=e.patchRoutesOnNavigation,m=Pe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),g=null,x=new Set,w=null,j=null,P=null,p=e.hydrationData!=null,u=ns(i,e.history.location,c),f=!1,b=null;if(u==null&&!y){let k=pt(404,{pathname:e.history.location.pathname}),{matches:M,route:A}=gu(i);u=M,b={[A.id]:k}}u&&!e.hydrationData&&Ft(u,i,e.history.location.pathname).active&&(u=null);let S;if(u)if(u.some(k=>k.route.lazy))S=!1;else if(!u.some(k=>k.route.loader))S=!0;else if(m.v7_partialHydration){let k=e.hydrationData?e.hydrationData.loaderData:null,M=e.hydrationData?e.hydrationData.errors:null;if(M){let A=u.findIndex(I=>M[I.route.id]!==void 0);S=u.slice(0,A+1).every(I=>!$o(I.route,k,M))}else S=u.every(A=>!$o(A.route,k,M))}else S=e.hydrationData!=null;else if(S=!1,u=[],m.v7_partialHydration){let k=Ft(null,i,e.history.location.pathname);k.active&&k.matches&&(f=!0,u=k.matches)}let E,v={historyAction:e.history.action,location:e.history.location,matches:u,initialized:S,navigation:Ui,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},T=Ue.Pop,N=!1,R,U=!1,O=new Map,B=null,oe=!1,Ne=!1,je=[],ze=new Set,_=new Map,X=0,G=-1,ae=new Map,D=new Set,J=new Map,le=new Map,ue=new Set,Me=new Map,De=new Map,lt;function or(){if(g=e.history.listen(k=>{let{action:M,location:A,delta:I}=k;if(lt){lt(),lt=void 0;return}sn(De.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let V=Aa({currentLocation:v.location,nextLocation:A,historyAction:M});if(V&&I!=null){let re=new Promise(ie=>{lt=ie});e.history.go(I*-1),Es(V,{state:"blocked",location:A,proceed(){Es(V,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),re.then(()=>e.history.go(I))},reset(){let ie=new Map(v.blockers);ie.set(V,Mn),W({blockers:ie})}});return}return We(M,A)}),s){ng(t,O);let k=()=>ag(t,O);t.addEventListener("pagehide",k),B=()=>t.removeEventListener("pagehide",k)}return v.initialized||We(Ue.Pop,v.location,{initialHydration:!0}),E}function _t(){g&&g(),B&&B(),x.clear(),R&&R.abort(),v.fetchers.forEach((k,M)=>ws(M)),v.blockers.forEach((k,M)=>Ra(M))}function C(k){return x.add(k),()=>x.delete(k)}function W(k,M){M===void 0&&(M={}),v=Pe({},v,k);let A=[],I=[];m.v7_fetcherPersist&&v.fetchers.forEach((V,re)=>{V.state==="idle"&&(ue.has(re)?I.push(re):A.push(re))}),ue.forEach(V=>{!v.fetchers.has(V)&&!_.has(V)&&I.push(V)}),[...x].forEach(V=>V(v,{deletedFetchers:I,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),m.v7_fetcherPersist?(A.forEach(V=>v.fetchers.delete(V)),I.forEach(V=>ws(V))):I.forEach(V=>ue.delete(V))}function K(k,M,A){var I,V;let{flushSync:re}=A===void 0?{}:A,ie=v.actionData!=null&&v.navigation.formMethod!=null&&Jt(v.navigation.formMethod)&&v.navigation.state==="loading"&&((I=k.state)==null?void 0:I._isRedirect)!==!0,Y;M.actionData?Object.keys(M.actionData).length>0?Y=M.actionData:Y=null:ie?Y=v.actionData:Y=null;let Z=M.loaderData?fu(v.loaderData,M.loaderData,M.matches||[],M.errors):v.loaderData,q=v.blockers;q.size>0&&(q=new Map(q),q.forEach((he,Ge)=>q.set(Ge,Mn)));let ee=N===!0||v.navigation.formMethod!=null&&Jt(v.navigation.formMethod)&&((V=k.state)==null?void 0:V._isRedirect)!==!0;o&&(i=o,o=void 0),oe||T===Ue.Pop||(T===Ue.Push?e.history.push(k,k.state):T===Ue.Replace&&e.history.replace(k,k.state));let ce;if(T===Ue.Pop){let he=O.get(v.location.pathname);he&&he.has(k.pathname)?ce={currentLocation:v.location,nextLocation:k}:O.has(k.pathname)&&(ce={currentLocation:k,nextLocation:v.location})}else if(U){let he=O.get(v.location.pathname);he?he.add(k.pathname):(he=new Set([k.pathname]),O.set(v.location.pathname,he)),ce={currentLocation:v.location,nextLocation:k}}W(Pe({},M,{actionData:Y,loaderData:Z,historyAction:T,location:k,initialized:!0,navigation:Ui,revalidation:"idle",restoreScrollPosition:tt(k,M.matches||v.matches),preventScrollReset:ee,blockers:q}),{viewTransitionOpts:ce,flushSync:re===!0}),T=Ue.Pop,N=!1,U=!1,oe=!1,Ne=!1,je=[]}async function F(k,M){if(typeof k=="number"){e.history.go(k);return}let A=Fo(v.location,v.matches,c,m.v7_prependBasename,k,m.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:I,submission:V,error:re}=iu(m.v7_normalizeFormMethod,!1,A,M),ie=v.location,Y=ha(v.location,I,M&&M.state);Y=Pe({},Y,e.history.encodeLocation(Y));let Z=M&&M.replace!=null?M.replace:void 0,q=Ue.Push;Z===!0?q=Ue.Replace:Z===!1||V!=null&&Jt(V.formMethod)&&V.formAction===v.location.pathname+v.location.search&&(q=Ue.Replace);let ee=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,ce=(M&&M.flushSync)===!0,he=Aa({currentLocation:ie,nextLocation:Y,historyAction:q});if(he){Es(he,{state:"blocked",location:Y,proceed(){Es(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),F(k,M)},reset(){let Ge=new Map(v.blockers);Ge.set(he,Mn),W({blockers:Ge})}});return}return await We(q,Y,{submission:V,pendingError:re,preventScrollReset:ee,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:ce})}function H(){if(xn(),W({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){We(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}We(T||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation,enableViewTransition:U===!0})}}async function We(k,M,A){R&&R.abort(),R=null,T=k,oe=(A&&A.startUninterruptedRevalidation)===!0,ke(v.location,v.matches),N=(A&&A.preventScrollReset)===!0,U=(A&&A.enableViewTransition)===!0;let I=o||i,V=A&&A.overrideNavigation,re=A!=null&&A.initialHydration&&v.matches&&v.matches.length>0&&!f?v.matches:ns(I,M,c),ie=(A&&A.flushSync)===!0;if(re&&v.initialized&&!Ne&&X0(v.location,M)&&!(A&&A.submission&&Jt(A.submission.formMethod))){K(M,{matches:re},{flushSync:ie});return}let Y=Ft(re,I,M.pathname);if(Y.active&&Y.matches&&(re=Y.matches),!re){let{error:we,notFoundMatches:ge,route:_e}=L(M.pathname);K(M,{matches:ge,loaderData:{},errors:{[_e.id]:we}},{flushSync:ie});return}R=new AbortController;let Z=Ms(e.history,M,R.signal,A&&A.submission),q;if(A&&A.pendingError)q=[as(re).route.id,{type:ve.error,error:A.pendingError}];else if(A&&A.submission&&Jt(A.submission.formMethod)){let we=await It(Z,M,A.submission,re,Y.active,{replace:A.replace,flushSync:ie});if(we.shortCircuited)return;if(we.pendingActionResult){let[ge,_e]=we.pendingActionResult;if(bt(_e)&&fa(_e.error)&&_e.error.status===404){R=null,K(M,{matches:we.matches,loaderData:{},errors:{[ge]:_e.error}});return}}re=we.matches||re,q=we.pendingActionResult,V=Bi(M,A.submission),ie=!1,Y.active=!1,Z=Ms(e.history,Z.url,Z.signal)}let{shortCircuited:ee,matches:ce,loaderData:he,errors:Ge}=await ci(Z,M,re,Y.active,V,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,ie,q);ee||(R=null,K(M,Pe({matches:ce||re},xu(q),{loaderData:he,errors:Ge})))}async function It(k,M,A,I,V,re){re===void 0&&(re={}),xn();let ie=rg(M,A);if(W({navigation:ie},{flushSync:re.flushSync===!0}),V){let q=await Je(I,M.pathname,k.signal);if(q.type==="aborted")return{shortCircuited:!0};if(q.type==="error"){let ee=as(q.partialMatches).route.id;return{matches:q.partialMatches,pendingActionResult:[ee,{type:ve.error,error:q.error}]}}else if(q.matches)I=q.matches;else{let{notFoundMatches:ee,error:ce,route:he}=L(M.pathname);return{matches:ee,pendingActionResult:[he.id,{type:ve.error,error:ce}]}}}let Y,Z=Fn(I,M);if(!Z.route.action&&!Z.route.lazy)Y={type:ve.error,error:pt(405,{method:k.method,pathname:M.pathname,routeId:Z.route.id})};else if(Y=(await es("action",v,k,[Z],I,null))[Z.route.id],k.signal.aborted)return{shortCircuited:!0};if(cs(Y)){let q;return re&&re.replace!=null?q=re.replace:q=mu(Y.response.headers.get("Location"),new URL(k.url),c)===v.location.pathname+v.location.search,await mt(k,Y,!0,{submission:A,replace:q}),{shortCircuited:!0}}if(Ar(Y))throw pt(400,{type:"defer-action"});if(bt(Y)){let q=as(I,Z.route.id);return(re&&re.replace)!==!0&&(T=Ue.Push),{matches:I,pendingActionResult:[q.route.id,Y]}}return{matches:I,pendingActionResult:[Z.route.id,Y]}}async function ci(k,M,A,I,V,re,ie,Y,Z,q,ee){let ce=V||Bi(M,re),he=re||ie||yu(ce),Ge=!oe&&(!m.v7_partialHydration||!Z);if(I){if(Ge){let Ie=Ca(ee);W(Pe({navigation:ce},Ie!==void 0?{actionData:Ie}:{}),{flushSync:q})}let xe=await Je(A,M.pathname,k.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let Ie=as(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[Ie]:xe.error}}}else if(xe.matches)A=xe.matches;else{let{error:Ie,notFoundMatches:ks,route:jn}=L(M.pathname);return{matches:ks,loaderData:{},errors:{[jn.id]:Ie}}}}let we=o||i,[ge,_e]=cu(e.history,v,A,he,M,m.v7_partialHydration&&Z===!0,m.v7_skipActionErrorRevalidation,Ne,je,ze,ue,J,D,we,c,ee);if($(xe=>!(A&&A.some(Ie=>Ie.route.id===xe))||ge&&ge.some(Ie=>Ie.route.id===xe)),G=++X,ge.length===0&&_e.length===0){let xe=gn();return K(M,Pe({matches:A,loaderData:{},errors:ee&&bt(ee[1])?{[ee[0]]:ee[1].error}:null},xu(ee),xe?{fetchers:new Map(v.fetchers)}:{}),{flushSync:q}),{shortCircuited:!0}}if(Ge){let xe={};if(!I){xe.navigation=ce;let Ie=Ca(ee);Ie!==void 0&&(xe.actionData=Ie)}_e.length>0&&(xe.fetchers=di(_e)),W(xe,{flushSync:q})}_e.forEach(xe=>{Yt(xe.key),xe.controller&&_.set(xe.key,xe.controller)});let Ss=()=>_e.forEach(xe=>Yt(xe.key));R&&R.signal.addEventListener("abort",Ss);let{loaderResults:vn,fetcherResults:cr}=await ka(v,A,ge,_e,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Ss),_e.forEach(xe=>_.delete(xe.key));let Zt=Za(vn);if(Zt)return await mt(k,Zt.result,!0,{replace:Y}),{shortCircuited:!0};if(Zt=Za(cr),Zt)return D.add(Zt.key),await mt(k,Zt.result,!0,{replace:Y}),{shortCircuited:!0};let{loaderData:pi,errors:yn}=hu(v,A,vn,ee,_e,cr,Me);Me.forEach((xe,Ie)=>{xe.subscribe(ks=>{(ks||xe.done)&&Me.delete(Ie)})}),m.v7_partialHydration&&Z&&v.errors&&(yn=Pe({},v.errors,yn));let ts=gn(),Da=Ma(G),_a=ts||Da||_e.length>0;return Pe({matches:A,loaderData:pi,errors:yn},_a?{fetchers:new Map(v.fetchers)}:{})}function Ca(k){if(k&&!bt(k[1]))return{[k[0]]:k[1].data};if(v.actionData)return Object.keys(v.actionData).length===0?null:v.actionData}function di(k){return k.forEach(M=>{let A=v.fetchers.get(M.key),I=Ln(void 0,A?A.data:void 0);v.fetchers.set(M.key,I)}),new Map(v.fetchers)}function Sa(k,M,A,I){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Yt(k);let V=(I&&I.flushSync)===!0,re=o||i,ie=Fo(v.location,v.matches,c,m.v7_prependBasename,A,m.v7_relativeSplatPath,M,I==null?void 0:I.relative),Y=ns(re,ie,c),Z=Ft(Y,re,ie);if(Z.active&&Z.matches&&(Y=Z.matches),!Y){zt(k,M,pt(404,{pathname:ie}),{flushSync:V});return}let{path:q,submission:ee,error:ce}=iu(m.v7_normalizeFormMethod,!0,ie,I);if(ce){zt(k,M,ce,{flushSync:V});return}let he=Fn(Y,q),Ge=(I&&I.preventScrollReset)===!0;if(ee&&Jt(ee.formMethod)){ui(k,M,q,he,Y,Z.active,V,Ge,ee);return}J.set(k,{routeId:M,path:q}),fn(k,M,q,he,Y,Z.active,V,Ge,ee)}async function ui(k,M,A,I,V,re,ie,Y,Z){xn(),J.delete(k);function q($e){if(!$e.route.action&&!$e.route.lazy){let Ps=pt(405,{method:Z.formMethod,pathname:A,routeId:M});return zt(k,M,Ps,{flushSync:ie}),!0}return!1}if(!re&&q(I))return;let ee=v.fetchers.get(k);Ot(k,sg(Z,ee),{flushSync:ie});let ce=new AbortController,he=Ms(e.history,A,ce.signal,Z);if(re){let $e=await Je(V,new URL(he.url).pathname,he.signal,k);if($e.type==="aborted")return;if($e.type==="error"){zt(k,M,$e.error,{flushSync:ie});return}else if($e.matches){if(V=$e.matches,I=Fn(V,A),q(I))return}else{zt(k,M,pt(404,{pathname:A}),{flushSync:ie});return}}_.set(k,ce);let Ge=X,ge=(await es("action",v,he,[I],V,k))[I.route.id];if(he.signal.aborted){_.get(k)===ce&&_.delete(k);return}if(m.v7_fetcherPersist&&ue.has(k)){if(cs(ge)||bt(ge)){Ot(k,Cr(void 0));return}}else{if(cs(ge))if(_.delete(k),G>Ge){Ot(k,Cr(void 0));return}else return D.add(k),Ot(k,Ln(Z)),mt(he,ge,!1,{fetcherSubmission:Z,preventScrollReset:Y});if(bt(ge)){zt(k,M,ge.error);return}}if(Ar(ge))throw pt(400,{type:"defer-action"});let _e=v.navigation.location||v.location,Ss=Ms(e.history,_e,ce.signal),vn=o||i,cr=v.navigation.state!=="idle"?ns(vn,v.navigation.location,c):v.matches;me(cr,"Didn't find any matches after fetcher action");let Zt=++X;ae.set(k,Zt);let pi=Ln(Z,ge.data);v.fetchers.set(k,pi);let[yn,ts]=cu(e.history,v,cr,Z,_e,!1,m.v7_skipActionErrorRevalidation,Ne,je,ze,ue,J,D,vn,c,[I.route.id,ge]);ts.filter($e=>$e.key!==k).forEach($e=>{let Ps=$e.key,Qc=v.fetchers.get(Ps),Rh=Ln(void 0,Qc?Qc.data:void 0);v.fetchers.set(Ps,Rh),Yt(Ps),$e.controller&&_.set(Ps,$e.controller)}),W({fetchers:new Map(v.fetchers)});let Da=()=>ts.forEach($e=>Yt($e.key));ce.signal.addEventListener("abort",Da);let{loaderResults:_a,fetcherResults:xe}=await ka(v,cr,yn,ts,Ss);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Da),ae.delete(k),_.delete(k),ts.forEach($e=>_.delete($e.key));let Ie=Za(_a);if(Ie)return mt(Ss,Ie.result,!1,{preventScrollReset:Y});if(Ie=Za(xe),Ie)return D.add(Ie.key),mt(Ss,Ie.result,!1,{preventScrollReset:Y});let{loaderData:ks,errors:jn}=hu(v,cr,_a,void 0,ts,xe,Me);if(v.fetchers.has(k)){let $e=Cr(ge.data);v.fetchers.set(k,$e)}Ma(Zt),v.navigation.state==="loading"&&Zt>G?(me(T,"Expected pending action"),R&&R.abort(),K(v.navigation.location,{matches:cr,loaderData:ks,errors:jn,fetchers:new Map(v.fetchers)})):(W({errors:jn,loaderData:fu(v.loaderData,ks,cr,jn),fetchers:new Map(v.fetchers)}),Ne=!1)}async function fn(k,M,A,I,V,re,ie,Y,Z){let q=v.fetchers.get(k);Ot(k,Ln(Z,q?q.data:void 0),{flushSync:ie});let ee=new AbortController,ce=Ms(e.history,A,ee.signal);if(re){let ge=await Je(V,new URL(ce.url).pathname,ce.signal,k);if(ge.type==="aborted")return;if(ge.type==="error"){zt(k,M,ge.error,{flushSync:ie});return}else if(ge.matches)V=ge.matches,I=Fn(V,A);else{zt(k,M,pt(404,{pathname:A}),{flushSync:ie});return}}_.set(k,ee);let he=X,we=(await es("loader",v,ce,[I],V,k))[I.route.id];if(Ar(we)&&(we=await Uc(we,ce.signal,!0)||we),_.get(k)===ee&&_.delete(k),!ce.signal.aborted){if(ue.has(k)){Ot(k,Cr(void 0));return}if(cs(we))if(G>he){Ot(k,Cr(void 0));return}else{D.add(k),await mt(ce,we,!1,{preventScrollReset:Y});return}if(bt(we)){zt(k,M,we.error);return}me(!Ar(we),"Unhandled fetcher deferred data"),Ot(k,Cr(we.data))}}async function mt(k,M,A,I){let{submission:V,fetcherSubmission:re,preventScrollReset:ie,replace:Y}=I===void 0?{}:I;M.response.headers.has("X-Remix-Revalidate")&&(Ne=!0);let Z=M.response.headers.get("Location");me(Z,"Expected a Location header on the redirect Response"),Z=mu(Z,new URL(k.url),c);let q=ha(v.location,Z,{_isRedirect:!0});if(s){let ge=!1;if(M.response.headers.has("X-Remix-Reload-Document"))ge=!0;else if($c.test(Z)){const _e=e.history.createURL(Z);ge=_e.origin!==t.location.origin||dn(_e.pathname,c)==null}if(ge){Y?t.location.replace(Z):t.location.assign(Z);return}}R=null;let ee=Y===!0||M.response.headers.has("X-Remix-Replace")?Ue.Replace:Ue.Push,{formMethod:ce,formAction:he,formEncType:Ge}=v.navigation;!V&&!re&&ce&&he&&Ge&&(V=yu(v.navigation));let we=V||re;if(O0.has(M.response.status)&&we&&Jt(we.formMethod))await We(ee,q,{submission:Pe({},we,{formAction:Z}),preventScrollReset:ie||N,enableViewTransition:A?U:void 0});else{let ge=Bi(q,V);await We(ee,q,{overrideNavigation:ge,fetcherSubmission:re,preventScrollReset:ie||N,enableViewTransition:A?U:void 0})}}async function es(k,M,A,I,V,re){let ie,Y={};try{ie=await W0(d,k,M,A,I,V,re,l,a)}catch(Z){return I.forEach(q=>{Y[q.route.id]={type:ve.error,error:Z}}),Y}for(let[Z,q]of Object.entries(ie))if(K0(q)){let ee=q.result;Y[Z]={type:ve.redirect,response:q0(ee,A,Z,V,c,m.v7_relativeSplatPath)}}else Y[Z]=await Q0(q);return Y}async function ka(k,M,A,I,V){let re=k.matches,ie=es("loader",k,V,A,M,null),Y=Promise.all(I.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let he=(await es("loader",k,Ms(e.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:he}}else return Promise.resolve({[ee.key]:{type:ve.error,error:pt(404,{pathname:ee.path})}})})),Z=await ie,q=(await Y).reduce((ee,ce)=>Object.assign(ee,ce),{});return await Promise.all([eg(M,Z,V.signal,re,k.loaderData),tg(M,q,I)]),{loaderResults:Z,fetcherResults:q}}function xn(){Ne=!0,je.push(...$()),J.forEach((k,M)=>{_.has(M)&&ze.add(M),Yt(M)})}function Ot(k,M,A){A===void 0&&(A={}),v.fetchers.set(k,M),W({fetchers:new Map(v.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function zt(k,M,A,I){I===void 0&&(I={});let V=as(v.matches,M);ws(k),W({errors:{[V.route.id]:A},fetchers:new Map(v.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Pa(k){return le.set(k,(le.get(k)||0)+1),ue.has(k)&&ue.delete(k),v.fetchers.get(k)||z0}function ws(k){let M=v.fetchers.get(k);_.has(k)&&!(M&&M.state==="loading"&&ae.has(k))&&Yt(k),J.delete(k),ae.delete(k),D.delete(k),m.v7_fetcherPersist&&ue.delete(k),ze.delete(k),v.fetchers.delete(k)}function mi(k){let M=(le.get(k)||0)-1;M<=0?(le.delete(k),ue.add(k),m.v7_fetcherPersist||ws(k)):le.set(k,M),W({fetchers:new Map(v.fetchers)})}function Yt(k){let M=_.get(k);M&&(M.abort(),_.delete(k))}function Ta(k){for(let M of k){let A=Pa(M),I=Cr(A.data);v.fetchers.set(M,I)}}function gn(){let k=[],M=!1;for(let A of D){let I=v.fetchers.get(A);me(I,"Expected fetcher: "+A),I.state==="loading"&&(D.delete(A),k.push(A),M=!0)}return Ta(k),M}function Ma(k){let M=[];for(let[A,I]of ae)if(I<k){let V=v.fetchers.get(A);me(V,"Expected fetcher: "+A),V.state==="loading"&&(Yt(A),ae.delete(A),M.push(A))}return Ta(M),M.length>0}function La(k,M){let A=v.blockers.get(k)||Mn;return De.get(k)!==M&&De.set(k,M),A}function Ra(k){v.blockers.delete(k),De.delete(k)}function Es(k,M){let A=v.blockers.get(k)||Mn;me(A.state==="unblocked"&&M.state==="blocked"||A.state==="blocked"&&M.state==="blocked"||A.state==="blocked"&&M.state==="proceeding"||A.state==="blocked"&&M.state==="unblocked"||A.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+M.state);let I=new Map(v.blockers);I.set(k,M),W({blockers:I})}function Aa(k){let{currentLocation:M,nextLocation:A,historyAction:I}=k;if(De.size===0)return;De.size>1&&sn(!1,"A router only supports one blocker at a time");let V=Array.from(De.entries()),[re,ie]=V[V.length-1],Y=v.blockers.get(re);if(!(Y&&Y.state==="proceeding")&&ie({currentLocation:M,nextLocation:A,historyAction:I}))return re}function L(k){let M=pt(404,{pathname:k}),A=o||i,{matches:I,route:V}=gu(A);return $(),{notFoundMatches:I,route:V,error:M}}function $(k){let M=[];return Me.forEach((A,I)=>{(!k||k(I))&&(A.cancel(),M.push(I),Me.delete(I))}),M}function te(k,M,A){if(w=k,P=M,j=A||null,!p&&v.navigation===Ui){p=!0;let I=tt(v.location,v.matches);I!=null&&W({restoreScrollPosition:I})}return()=>{w=null,P=null,j=null}}function be(k,M){return j&&j(k,M.map(I=>f0(I,v.loaderData)))||k.key}function ke(k,M){if(w&&P){let A=be(k,M);w[A]=P()}}function tt(k,M){if(w){let A=be(k,M),I=w[A];if(typeof I=="number")return I}return null}function Ft(k,M,A){if(y)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:ml(M,A,c,!0)}}else return{active:!0,matches:ml(M,A,c,!0)||[]};return{active:!1,matches:null}}async function Je(k,M,A,I){if(!y)return{type:"success",matches:k};let V=k;for(;;){let re=o==null,ie=o||i,Y=l;try{await y({signal:A,path:M,matches:V,fetcherKey:I,patch:(ee,ce)=>{A.aborted||uu(ee,ce,ie,Y,a)}})}catch(ee){return{type:"error",error:ee,partialMatches:V}}finally{re&&!A.aborted&&(i=[...i])}if(A.aborted)return{type:"aborted"};let Z=ns(ie,M,c);if(Z)return{type:"success",matches:Z};let q=ml(ie,M,c,!0);if(!q||V.length===q.length&&V.every((ee,ce)=>ee.route.id===q[ce].route.id))return{type:"success",matches:null};V=q}}function Cs(k){l={},o=zl(k,a,void 0,l)}function $t(k,M){let A=o==null;uu(k,M,o||i,l,a),A&&(i=[...i],W({}))}return E={get basename(){return c},get future(){return m},get state(){return v},get routes(){return i},get window(){return t},initialize:or,subscribe:C,enableScrollRestoration:te,navigate:F,fetch:Sa,revalidate:H,createHref:k=>e.history.createHref(k),encodeLocation:k=>e.history.encodeLocation(k),getFetcher:Pa,deleteFetcher:mi,dispose:_t,getBlocker:La,deleteBlocker:Ra,patchRoutes:$t,_internalFetchControllers:_,_internalActiveDeferreds:Me,_internalSetRoutes:Cs},E}function U0(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Fo(e,t,s,n,a,l,i,o){let c,d;if(i){c=[];for(let m of t)if(c.push(m),m.route.id===i){d=m;break}}else c=t,d=t[t.length-1];let y=li(a||".",ai(c,l),dn(e.pathname,s)||e.pathname,o==="path");if(a==null&&(y.search=e.search,y.hash=e.hash),(a==null||a===""||a===".")&&d){let m=Bc(y.search);if(d.route.index&&!m)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let g=new URLSearchParams(y.search),x=g.getAll("index");g.delete("index"),x.filter(j=>j).forEach(j=>g.append("index",j));let w=g.toString();y.search=w?"?"+w:""}}return n&&s!=="/"&&(y.pathname=y.pathname==="/"?s:xr([s,y.pathname])),ys(y)}function iu(e,t,s,n){if(!n||!U0(n))return{path:s};if(n.formMethod&&!Z0(n.formMethod))return{path:s,error:pt(405,{method:n.formMethod})};let a=()=>({path:s,error:pt(400,{type:"invalid-body"})}),l=n.formMethod||"get",i=e?l.toUpperCase():l.toLowerCase(),o=lh(s);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jt(i))return a();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,w)=>{let[j,P]=w;return""+x+j+"="+P+`
`},""):String(n.body);return{path:s,submission:{formMethod:i,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Jt(i))return a();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:s,submission:{formMethod:i,formAction:o,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return a()}}}me(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Uo(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Uo(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=pu(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=pu(c)}catch{return a()}let y={formMethod:i,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Jt(y.formMethod))return{path:s,submission:y};let m=Kr(s);return t&&m.search&&Bc(m.search)&&c.append("index",""),m.search="?"+c,{path:ys(m),submission:y}}function ou(e,t,s){s===void 0&&(s=!1);let n=e.findIndex(a=>a.route.id===t);return n>=0?e.slice(0,s?n+1:n):e}function cu(e,t,s,n,a,l,i,o,c,d,y,m,g,x,w,j){let P=j?bt(j[1])?j[1].error:j[1].data:void 0,p=e.createURL(t.location),u=e.createURL(a),f=s;l&&t.errors?f=ou(s,Object.keys(t.errors)[0],!0):j&&bt(j[1])&&(f=ou(s,j[0]));let b=j?j[1].statusCode:void 0,S=i&&b&&b>=400,E=f.filter((T,N)=>{let{route:R}=T;if(R.lazy)return!0;if(R.loader==null)return!1;if(l)return $o(R,t.loaderData,t.errors);if(B0(t.loaderData,t.matches[N],T)||c.some(B=>B===T.route.id))return!0;let U=t.matches[N],O=T;return du(T,Pe({currentUrl:p,currentParams:U.params,nextUrl:u,nextParams:O.params},n,{actionResult:P,actionStatus:b,defaultShouldRevalidate:S?!1:o||p.pathname+p.search===u.pathname+u.search||p.search!==u.search||nh(U,O)}))}),v=[];return m.forEach((T,N)=>{if(l||!s.some(oe=>oe.route.id===T.routeId)||y.has(N))return;let R=ns(x,T.path,w);if(!R){v.push({key:N,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let U=t.fetchers.get(N),O=Fn(R,T.path),B=!1;g.has(N)?B=!1:d.has(N)?(d.delete(N),B=!0):U&&U.state!=="idle"&&U.data===void 0?B=o:B=du(O,Pe({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:u,nextParams:s[s.length-1].params},n,{actionResult:P,actionStatus:b,defaultShouldRevalidate:S?!1:o})),B&&v.push({key:N,routeId:T.routeId,path:T.path,matches:R,match:O,controller:new AbortController})}),[E,v]}function $o(e,t,s){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&t[e.id]!==void 0,a=s!=null&&s[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function B0(e,t,s){let n=!t||s.route.id!==t.route.id,a=e[s.route.id]===void 0;return n||a}function nh(e,t){let s=e.route.path;return e.pathname!==t.pathname||s!=null&&s.endsWith("*")&&e.params["*"]!==t.params["*"]}function du(e,t){if(e.route.shouldRevalidate){let s=e.route.shouldRevalidate(t);if(typeof s=="boolean")return s}return t.defaultShouldRevalidate}function uu(e,t,s,n,a){var l;let i;if(e){let d=n[e];me(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),i=d.children}else i=s;let o=t.filter(d=>!i.some(y=>ah(d,y))),c=zl(o,a,[e||"_","patch",String(((l=i)==null?void 0:l.length)||"0")],n);i.push(...c)}function ah(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((s,n)=>{var a;return(a=t.children)==null?void 0:a.some(l=>ah(s,l))}):!1}async function V0(e,t,s){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=s[e.id];me(a,"No route found in manifest");let l={};for(let i in n){let c=a[i]!==void 0&&i!=="hasErrorBoundary";sn(!c,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!p0.has(i)&&(l[i]=n[i])}Object.assign(a,l),Object.assign(a,Pe({},t(a),{lazy:void 0}))}async function H0(e){let{matches:t}=e,s=t.filter(a=>a.shouldLoad);return(await Promise.all(s.map(a=>a.resolve()))).reduce((a,l,i)=>Object.assign(a,{[s[i].route.id]:l}),{})}async function W0(e,t,s,n,a,l,i,o,c,d){let y=l.map(x=>x.route.lazy?V0(x.route,c,o):void 0),m=l.map((x,w)=>{let j=y[w],P=a.some(u=>u.route.id===x.route.id);return Pe({},x,{shouldLoad:P,resolve:async u=>(u&&n.method==="GET"&&(x.route.lazy||x.route.loader)&&(P=!0),P?J0(t,n,x,j,u,d):Promise.resolve({type:ve.data,result:void 0}))})}),g=await e({matches:m,request:n,params:l[0].params,fetcherKey:i,context:d});try{await Promise.all(y)}catch{}return g}async function J0(e,t,s,n,a,l){let i,o,c=d=>{let y,m=new Promise((w,j)=>y=j);o=()=>y(),t.signal.addEventListener("abort",o);let g=w=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+s.route.id+"]"))):d({request:t,params:s.params,context:l},...w!==void 0?[w]:[]),x=(async()=>{try{return{type:"data",result:await(a?a(j=>g(j)):g())}}catch(w){return{type:"error",result:w}}})();return Promise.race([x,m])};try{let d=s.route[e];if(n)if(d){let y,[m]=await Promise.all([c(d).catch(g=>{y=g}),n]);if(y!==void 0)throw y;i=m}else if(await n,d=s.route[e],d)i=await c(d);else if(e==="action"){let y=new URL(t.url),m=y.pathname+y.search;throw pt(405,{method:t.method,pathname:m,routeId:s.route.id})}else return{type:ve.data,result:void 0};else if(d)i=await c(d);else{let y=new URL(t.url),m=y.pathname+y.search;throw pt(404,{pathname:m})}me(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+s.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:ve.error,result:d}}finally{o&&t.signal.removeEventListener("abort",o)}return i}async function Q0(e){let{result:t,type:s}=e;if(ih(t)){let m;try{let g=t.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?t.body==null?m=null:m=await t.json():m=await t.text()}catch(g){return{type:ve.error,error:g}}return s===ve.error?{type:ve.error,error:new Fl(t.status,t.statusText,m),statusCode:t.status,headers:t.headers}:{type:ve.data,data:m,statusCode:t.status,headers:t.headers}}if(s===ve.error){if(vu(t)){var n,a;if(t.data instanceof Error){var l,i;return{type:ve.error,error:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:ve.error,error:new Fl(((n=t.init)==null?void 0:n.status)||500,void 0,t.data),statusCode:fa(t)?t.status:void 0,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:ve.error,error:t,statusCode:fa(t)?t.status:void 0}}if(Y0(t)){var o,c;return{type:ve.deferred,deferredData:t,statusCode:(o=t.init)==null?void 0:o.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if(vu(t)){var d,y;return{type:ve.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(y=t.init)!=null&&y.headers?new Headers(t.init.headers):void 0}}return{type:ve.data,data:t}}function q0(e,t,s,n,a,l){let i=e.headers.get("Location");if(me(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!$c.test(i)){let o=n.slice(0,n.findIndex(c=>c.route.id===s)+1);i=Fo(new URL(t.url),o,a,!0,i,l),e.headers.set("Location",i)}return e}function mu(e,t,s){if($c.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),l=dn(a.pathname,s)!=null;if(a.origin===t.origin&&l)return a.pathname+a.search+a.hash}return e}function Ms(e,t,s,n){let a=e.createURL(lh(t)).toString(),l={signal:s};if(n&&Jt(n.formMethod)){let{formMethod:i,formEncType:o}=n;l.method=i.toUpperCase(),o==="application/json"?(l.headers=new Headers({"Content-Type":o}),l.body=JSON.stringify(n.json)):o==="text/plain"?l.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?l.body=Uo(n.formData):l.body=n.formData}return new Request(a,l)}function Uo(e){let t=new URLSearchParams;for(let[s,n]of e.entries())t.append(s,typeof n=="string"?n:n.name);return t}function pu(e){let t=new FormData;for(let[s,n]of e.entries())t.append(s,n);return t}function G0(e,t,s,n,a){let l={},i=null,o,c=!1,d={},y=s&&bt(s[1])?s[1].error:void 0;return e.forEach(m=>{if(!(m.route.id in t))return;let g=m.route.id,x=t[g];if(me(!cs(x),"Cannot handle redirect results in processLoaderData"),bt(x)){let w=x.error;y!==void 0&&(w=y,y=void 0),i=i||{};{let j=as(e,g);i[j.route.id]==null&&(i[j.route.id]=w)}l[g]=void 0,c||(c=!0,o=fa(x.error)?x.error.status:500),x.headers&&(d[g]=x.headers)}else Ar(x)?(n.set(g,x.deferredData),l[g]=x.deferredData.data,x.statusCode!=null&&x.statusCode!==200&&!c&&(o=x.statusCode),x.headers&&(d[g]=x.headers)):(l[g]=x.data,x.statusCode&&x.statusCode!==200&&!c&&(o=x.statusCode),x.headers&&(d[g]=x.headers))}),y!==void 0&&s&&(i={[s[0]]:y},l[s[0]]=void 0),{loaderData:l,errors:i,statusCode:o||200,loaderHeaders:d}}function hu(e,t,s,n,a,l,i){let{loaderData:o,errors:c}=G0(t,s,n,i);return a.forEach(d=>{let{key:y,match:m,controller:g}=d,x=l[y];if(me(x,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(bt(x)){let w=as(e.matches,m==null?void 0:m.route.id);c&&c[w.route.id]||(c=Pe({},c,{[w.route.id]:x.error})),e.fetchers.delete(y)}else if(cs(x))me(!1,"Unhandled fetcher revalidation redirect");else if(Ar(x))me(!1,"Unhandled fetcher deferred data");else{let w=Cr(x.data);e.fetchers.set(y,w)}}),{loaderData:o,errors:c}}function fu(e,t,s,n){let a=Pe({},t);for(let l of s){let i=l.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&l.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function xu(e){return e?bt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function as(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function gu(e){let t=e.length===1?e[0]:e.find(s=>s.index||!s.path||s.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function pt(e,t){let{pathname:s,routeId:n,method:a,type:l,message:i}=t===void 0?{}:t,o="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&s&&n?c="You made a "+a+' request to "'+s+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":l==="defer-action"?c="defer() is not supported in actions":l==="invalid-body"&&(c="Unable to encode submission body")):e===403?(o="Forbidden",c='Route "'+n+'" does not match URL "'+s+'"'):e===404?(o="Not Found",c='No route matches URL "'+s+'"'):e===405&&(o="Method Not Allowed",a&&s&&n?c="You made a "+a.toUpperCase()+' request to "'+s+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new Fl(e||500,o,new Error(c),!0)}function Za(e){let t=Object.entries(e);for(let s=t.length-1;s>=0;s--){let[n,a]=t[s];if(cs(a))return{key:n,result:a}}}function lh(e){let t=typeof e=="string"?Kr(e):e;return ys(Pe({},t,{hash:""}))}function X0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function K0(e){return ih(e.result)&&I0.has(e.result.status)}function Ar(e){return e.type===ve.deferred}function bt(e){return e.type===ve.error}function cs(e){return(e&&e.type)===ve.redirect}function vu(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Y0(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ih(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Z0(e){return _0.has(e.toLowerCase())}function Jt(e){return A0.has(e.toLowerCase())}async function eg(e,t,s,n,a){let l=Object.entries(t);for(let i=0;i<l.length;i++){let[o,c]=l[i],d=e.find(g=>(g==null?void 0:g.route.id)===o);if(!d)continue;let y=n.find(g=>g.route.id===d.route.id),m=y!=null&&!nh(y,d)&&(a&&a[d.route.id])!==void 0;Ar(c)&&m&&await Uc(c,s,!1).then(g=>{g&&(t[o]=g)})}}async function tg(e,t,s){for(let n=0;n<s.length;n++){let{key:a,routeId:l,controller:i}=s[n],o=t[a];e.find(d=>(d==null?void 0:d.route.id)===l)&&Ar(o)&&(me(i,"Expected an AbortController for revalidating fetcher deferred result"),await Uc(o,i.signal,!0).then(d=>{d&&(t[a]=d)}))}}async function Uc(e,t,s){if(s===void 0&&(s=!1),!await e.deferredData.resolveData(t)){if(s)try{return{type:ve.data,data:e.deferredData.unwrappedData}}catch(a){return{type:ve.error,error:a}}return{type:ve.data,data:e.deferredData.data}}}function Bc(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fn(e,t){let s=typeof t=="string"?Kr(t).search:t.search;if(e[e.length-1].route.index&&Bc(s||""))return e[e.length-1];let n=th(e);return n[n.length-1]}function yu(e){let{formMethod:t,formAction:s,formEncType:n,text:a,formData:l,json:i}=e;if(!(!t||!s||!n)){if(a!=null)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:s,formEncType:n,formData:l,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:s,formEncType:n,formData:void 0,json:i,text:void 0}}}function Bi(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rg(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ln(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sg(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Cr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ng(e,t){try{let s=e.sessionStorage.getItem(sh);if(s){let n=JSON.parse(s);for(let[a,l]of Object.entries(n||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function ag(e,t){if(t.size>0){let s={};for(let[n,a]of t)s[n]=[...a];try{e.sessionStorage.setItem(sh,JSON.stringify(s))}catch(n){sn(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},$l.apply(this,arguments)}const ii=h.createContext(null),oh=h.createContext(null),Yr=h.createContext(null),Vc=h.createContext(null),ir=h.createContext({outlet:null,matches:[],isDataRoute:!1}),ch=h.createContext(null);function lg(e,t){let{relative:s}=t===void 0?{}:t;un()||me(!1);let{basename:n,navigator:a}=h.useContext(Yr),{hash:l,pathname:i,search:o}=uh(e,{relative:s}),c=i;return n!=="/"&&(c=i==="/"?n:xr([n,i])),a.createHref({pathname:c,search:o,hash:l})}function un(){return h.useContext(Vc)!=null}function Zr(){return un()||me(!1),h.useContext(Vc).location}function dh(e){h.useContext(Yr).static||h.useLayoutEffect(e)}function kt(){let{isDataRoute:e}=h.useContext(ir);return e?jg():ig()}function ig(){un()||me(!1);let e=h.useContext(ii),{basename:t,future:s,navigator:n}=h.useContext(Yr),{matches:a}=h.useContext(ir),{pathname:l}=Zr(),i=JSON.stringify(ai(a,s.v7_relativeSplatPath)),o=h.useRef(!1);return dh(()=>{o.current=!0}),h.useCallback(function(d,y){if(y===void 0&&(y={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=li(d,JSON.parse(i),l,y.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:xr([t,m.pathname])),(y.replace?n.replace:n.push)(m,y.state,y)},[t,n,i,l,e])}const og=h.createContext(null);function cg(e){let t=h.useContext(ir).outlet;return t&&h.createElement(og.Provider,{value:e},t)}function mn(){let{matches:e}=h.useContext(ir),t=e[e.length-1];return t?t.params:{}}function uh(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=h.useContext(Yr),{matches:a}=h.useContext(ir),{pathname:l}=Zr(),i=JSON.stringify(ai(a,n.v7_relativeSplatPath));return h.useMemo(()=>li(e,JSON.parse(i),l,s==="path"),[e,i,l,s])}function dg(e,t,s,n){un()||me(!1);let{navigator:a}=h.useContext(Yr),{matches:l}=h.useContext(ir),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Zr(),y;y=d;let m=y.pathname||"/",g=m;if(c!=="/"){let j=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=ns(e,{pathname:g});return fg(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:xr([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:xr([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,s,n)}function ug(){let e=yg(),t=fa(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),s?h.createElement("pre",{style:a},s):null,null)}const mg=h.createElement(ug,null);class pg extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?h.createElement(ir.Provider,{value:this.props.routeContext},h.createElement(ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hg(e){let{routeContext:t,match:s,children:n}=e,a=h.useContext(ii);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),h.createElement(ir.Provider,{value:t},n)}function fg(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var l;if(!s)return null;if(s.errors)e=s.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let i=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let y=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);y>=0||me(!1),i=i.slice(0,Math.min(i.length,y+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let y=0;y<i.length;y++){let m=i[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=y),m.route.id){let{loaderData:g,errors:x}=s,w=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((y,m,g)=>{let x,w=!1,j=null,P=null;s&&(x=o&&m.route.id?o[m.route.id]:void 0,j=m.route.errorElement||mg,c&&(d<0&&g===0?(bg("route-fallback"),w=!0,P=null):d===g&&(w=!0,P=m.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,g+1)),u=()=>{let f;return x?f=j:w?f=P:m.route.Component?f=h.createElement(m.route.Component,null):m.route.element?f=m.route.element:f=y,h.createElement(hg,{match:m,routeContext:{outlet:y,matches:p,isDataRoute:s!=null},children:f})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?h.createElement(pg,{location:s.location,revalidation:s.revalidation,component:j,error:x,children:u(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):u()},null)}var mh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mh||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function xg(e){let t=h.useContext(ii);return t||me(!1),t}function gg(e){let t=h.useContext(oh);return t||me(!1),t}function vg(e){let t=h.useContext(ir);return t||me(!1),t}function hh(e){let t=vg(),s=t.matches[t.matches.length-1];return s.route.id||me(!1),s.route.id}function yg(){var e;let t=h.useContext(ch),s=gg(ph.UseRouteError),n=hh();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function jg(){let{router:e}=xg(mh.UseNavigateStable),t=hh(),s=h.useRef(!1);return dh(()=>{s.current=!0}),h.useCallback(function(a,l){l===void 0&&(l={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,$l({fromRouteId:t},l)))},[e,t])}const ju={};function bg(e,t,s){ju[e]||(ju[e]=!0)}function Ng(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function wg(e){let{to:t,replace:s,state:n,relative:a}=e;un()||me(!1);let{future:l,static:i}=h.useContext(Yr),{matches:o}=h.useContext(ir),{pathname:c}=Zr(),d=kt(),y=li(t,ai(o,l.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(y);return h.useEffect(()=>d(JSON.parse(m),{replace:s,state:n,relative:a}),[d,m,a,s,n]),null}function Eg(e){return cg(e.context)}function Cg(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Ue.Pop,navigator:l,static:i=!1,future:o}=e;un()&&me(!1);let c=t.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:l,static:i,future:$l({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=Kr(n));let{pathname:y="/",search:m="",hash:g="",state:x=null,key:w="default"}=n,j=h.useMemo(()=>{let P=dn(y,c);return P==null?null:{location:{pathname:P,search:m,hash:g,state:x,key:w},navigationType:a}},[c,y,m,g,x,w,a]);return j==null?null:h.createElement(Yr.Provider,{value:d},h.createElement(Vc.Provider,{children:s,value:j}))}new Promise(()=>{});function Sg(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:h.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:h.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:h.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},xa.apply(this,arguments)}function kg(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function Pg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tg(e,t){return e.button===0&&(!t||t==="_self")&&!Pg(e)}const Mg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lg="6";try{window.__reactRouterVersion=Lg}catch{}function Rg(e,t){return $0({basename:void 0,future:xa({},void 0,{v7_prependBasename:!0}),history:d0({window:void 0}),hydrationData:Ag(),routes:e,mapRouteProperties:Sg,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Ag(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=xa({},t,{errors:Dg(t.errors)})),t}function Dg(e){if(!e)return null;let t=Object.entries(e),s={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")s[n]=new Fl(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let i=new l(a.message);i.stack="",s[n]=i}catch{}}if(s[n]==null){let l=new Error(a.message);l.stack="",s[n]=l}}else s[n]=a;return s}const _g=h.createContext({isTransitioning:!1}),Ig=h.createContext(new Map),Og="startTransition",bu=Xh[Og],zg="flushSync",Nu=c0[zg];function Fg(e){bu?bu(e):e()}function Rn(e){Nu?Nu(e):e()}class $g{constructor(){this.status="pending",this.promise=new Promise((t,s)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",s(n))}})}}function Ug(e){let{fallbackElement:t,router:s,future:n}=e,[a,l]=h.useState(s.state),[i,o]=h.useState(),[c,d]=h.useState({isTransitioning:!1}),[y,m]=h.useState(),[g,x]=h.useState(),[w,j]=h.useState(),P=h.useRef(new Map),{v7_startTransition:p}=n||{},u=h.useCallback(T=>{p?Fg(T):T()},[p]),f=h.useCallback((T,N)=>{let{deletedFetchers:R,flushSync:U,viewTransitionOpts:O}=N;T.fetchers.forEach((oe,Ne)=>{oe.data!==void 0&&P.current.set(Ne,oe.data)}),R.forEach(oe=>P.current.delete(oe));let B=s.window==null||s.window.document==null||typeof s.window.document.startViewTransition!="function";if(!O||B){U?Rn(()=>l(T)):u(()=>l(T));return}if(U){Rn(()=>{g&&(y&&y.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let oe=s.window.document.startViewTransition(()=>{Rn(()=>l(T))});oe.finished.finally(()=>{Rn(()=>{m(void 0),x(void 0),o(void 0),d({isTransitioning:!1})})}),Rn(()=>x(oe));return}g?(y&&y.resolve(),g.skipTransition(),j({state:T,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(o(T),d({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[s.window,g,y,P,u]);h.useLayoutEffect(()=>s.subscribe(f),[s,f]),h.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new $g)},[c]),h.useEffect(()=>{if(y&&i&&s.window){let T=i,N=y.promise,R=s.window.document.startViewTransition(async()=>{u(()=>l(T)),await N});R.finished.finally(()=>{m(void 0),x(void 0),o(void 0),d({isTransitioning:!1})}),x(R)}},[u,i,y,s.window]),h.useEffect(()=>{y&&i&&a.location.key===i.location.key&&y.resolve()},[y,g,a.location,i]),h.useEffect(()=>{!c.isTransitioning&&w&&(o(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),j(void 0))},[c.isTransitioning,w]),h.useEffect(()=>{},[]);let b=h.useMemo(()=>({createHref:s.createHref,encodeLocation:s.encodeLocation,go:T=>s.navigate(T),push:(T,N,R)=>s.navigate(T,{state:N,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(T,N,R)=>s.navigate(T,{replace:!0,state:N,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[s]),S=s.basename||"/",E=h.useMemo(()=>({router:s,navigator:b,static:!1,basename:S}),[s,b,S]),v=h.useMemo(()=>({v7_relativeSplatPath:s.future.v7_relativeSplatPath}),[s.future.v7_relativeSplatPath]);return h.useEffect(()=>Ng(n,s.future),[n,s.future]),h.createElement(h.Fragment,null,h.createElement(ii.Provider,{value:E},h.createElement(oh.Provider,{value:a},h.createElement(Ig.Provider,{value:P.current},h.createElement(_g.Provider,{value:c},h.createElement(Cg,{basename:S,location:a.location,navigationType:a.historyAction,navigator:b,future:v},a.initialized||s.future.v7_partialHydration?h.createElement(Bg,{routes:s.routes,future:s.future,state:a}):t))))),null)}const Bg=h.memo(Vg);function Vg(e){let{routes:t,future:s,state:n}=e;return dg(t,void 0,n,s)}const Hg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=h.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:y,viewTransition:m}=t,g=kg(t,Mg),{basename:x}=h.useContext(Yr),w,j=!1;if(typeof d=="string"&&Wg.test(d)&&(w=d,Hg))try{let f=new URL(window.location.href),b=d.startsWith("//")?new URL(f.protocol+d):new URL(d),S=dn(b.pathname,x);b.origin===f.origin&&S!=null?d=S+b.search+b.hash:j=!0}catch{}let P=lg(d,{relative:a}),p=Jg(d,{replace:i,state:o,target:c,preventScrollReset:y,relative:a,viewTransition:m});function u(f){n&&n(f),f.defaultPrevented||p(f)}return h.createElement("a",xa({},g,{href:w||P,onClick:j||l?n:u,ref:s,target:c}))});var wu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wu||(wu={}));var Eu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eu||(Eu={}));function Jg(e,t){let{target:s,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=kt(),d=Zr(),y=uh(e,{relative:i});return h.useCallback(m=>{if(Tg(m,s)){m.preventDefault();let g=n!==void 0?n:ys(d)===ys(y);c(e,{replace:g,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,y,n,a,s,e,l,i,o])}/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fh=(...e)=>e.filter((t,s,n)=>!!t&&n.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:i,...o},c)=>h.createElement("svg",{ref:c,...qg,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:fh("lucide",a),...o},[...i.map(([d,y])=>h.createElement(d,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const s=h.forwardRef(({className:n,...a},l)=>h.createElement(Gg,{ref:l,iconNode:t,className:fh(`lucide-${Qg(e)}`,n),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ne("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ne("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ne("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ne("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ne("Component",[["path",{d:"M5.5 8.5 9 12l-3.5 3.5L2 12l3.5-3.5Z",key:"1kciei"}],["path",{d:"m12 2 3.5 3.5L12 9 8.5 5.5 12 2Z",key:"1ome0g"}],["path",{d:"M18.5 8.5 22 12l-3.5 3.5L15 12l3.5-3.5Z",key:"vbupec"}],["path",{d:"m12 15 3.5 3.5L12 22l-3.5-3.5L12 15Z",key:"16csic"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ne("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ne("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ne("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ne("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class xv{constructor(){bn(this,"AUTH_SERVICE_URL","/api");bn(this,"OAUTH_URL","/oauth2")}login(t){let s=`${this.OAUTH_URL}/authorization/keycloak`;t&&(s+=`?kc_idp_hint=${t}`),window.location.href=s}async checkAuth(){try{const t=await fetch(`${this.AUTH_SERVICE_URL}/me`,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok){if(t.status===401)throw new Error("401 - Session expire");return{authenticated:!1}}return await t.json()}catch(t){throw console.error("Erreur lors de la vrification de l'authentification:",t),t}}async registerWithPassword(t){try{const s=await fetch(`${this.AUTH_SERVICE_URL}/gateway/auth/register`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}),n=s.headers.get("content-type");let a={};if(n&&n.includes("application/json")){const l=await s.text();l&&(a=JSON.parse(l))}return s.ok?{success:!0,utilisateur:a.utilisateur}:{success:!1,message:a.message||`Erreur ${s.status}: ${s.statusText}`}}catch(s){return console.error("Erreur lors de l'inscription:",s),{success:!1,message:s.message||"Erreur rseau"}}}async loginWithPassword(t,s){try{const n=await fetch(`${this.AUTH_SERVICE_URL}/gateway/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,motDePasse:s})}),a=n.headers.get("content-type");let l={};if(a&&a.includes("application/json")){const i=await n.text();i&&(l=JSON.parse(i))}return n.ok?{success:!0,utilisateur:l.utilisateur}:{success:!1,message:l.message||"Email ou mot de passe incorrect"}}catch(n){return console.error("Erreur lors de la connexion:",n),{success:!1,message:n.message||"Erreur rseau"}}}async logout(){try{await fetch("/logout",{method:"POST",credentials:"include"}),window.location.href="/"}catch(t){console.error("Erreur lors de la dconnexion:",t),window.location.href="/"}}}const an=new xv;function gv({isOpen:e,onClose:t,onRetourConnexion:s}){const[n,a]=h.useState("social"),[l,i]=h.useState(""),[o,c]=h.useState(""),[d,y]=h.useState(""),[m,g]=h.useState(""),[x,w]=h.useState(""),[j,P]=h.useState(!1),[p,u]=h.useState(!1),[f,b]=h.useState(""),[S,E]=h.useState(!1);if(!e)return null;const v=N=>{an.login(N)},T=async()=>{if(b(""),!l||!o||!d||!m||!x){b("Tous les champs sont obligatoires");return}if(m!==x){b("Les mots de passe ne correspondent pas");return}if(m.length<8){b("Le mot de passe doit contenir au moins 8 caractres");return}E(!0);try{const N=await an.registerWithPassword({nom:l,prenom:o,email:d,motDePasse:m});N.success?(console.log(" [INSCRIPTION EMAIL] Inscription russie:",N.utilisateur),console.log(" [INSCRIPTION EMAIL] Redirection vers /mon-compte pour complter le profil"),window.location.href="/mon-compte?auth=success"):b(N.message||"chec de l'inscription")}catch(N){console.error("Erreur d'inscription:",N),b(N.message||"Erreur lors de l'inscription")}finally{E(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-5",children:[r.jsx("h2",{className:"text-xl font-bold text-center flex-1 text-gray-900",children:"Crer un compte PITM"}),r.jsx("button",{onClick:t,className:"text-gray-800 hover:text-black transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex border-t border-gray-200",children:[r.jsx("button",{onClick:()=>a("social"),className:`flex-1 py-3 text-center font-medium border-b-2 transition-colors ${n==="social"?"text-primary border-primary":"text-gray-600 hover:text-gray-900 border-transparent hover:border-gray-300"}`,children:"Rseaux sociaux"}),r.jsx("button",{onClick:()=>a("email"),className:`flex-1 py-3 text-center font-medium border-b-2 transition-colors ${n==="email"?"text-primary border-primary":"text-gray-600 hover:text-gray-900 border-transparent hover:border-gray-300"}`,children:"Email / Mot de passe"})]})]}),r.jsx("div",{className:"p-6",children:n==="social"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("p",{className:"text-gray-600",children:"Choisissez votre mthode d'inscription"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>v("facebook"),disabled:!1,className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Facebook"})]}),r.jsxs("button",{onClick:()=>v("google"),disabled:!1,className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Google"})]}),r.jsxs("button",{onClick:()=>v("apple"),disabled:!1,className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Apple"})]})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Inscription par email"}),r.jsx("p",{className:"text-gray-700 text-sm mt-2",children:"Crez votre compte avec votre adresse email"})]}),f&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:f}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Nom",value:l,onChange:N=>i(N.target.value),className:"flex-1 bg-gray-100 border-0 rounded-lg p-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"family-name"}),r.jsx("input",{type:"text",placeholder:"Prnom",value:o,onChange:N=>c(N.target.value),className:"flex-1 bg-gray-100 border-0 rounded-lg p-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"given-name"})]}),r.jsx("div",{children:r.jsx("input",{type:"email",placeholder:"Adresse email",value:d,onChange:N=>y(N.target.value),className:"w-full bg-gray-100 border-0 rounded-lg p-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"email"})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:j?"text":"password",placeholder:"Mot de passe (min. 8 caractres)",value:m,onChange:N=>g(N.target.value),className:"w-full bg-gray-100 border-0 rounded-lg p-3 pr-12 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>P(!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:p?"text":"password",placeholder:"Confirmer le mot de passe",value:x,onChange:N=>w(N.target.value),onKeyPress:N=>N.key==="Enter"&&!S&&l&&o&&d&&m&&x&&T(),className:"w-full bg-gray-100 border-0 rounded-lg p-3 pr-12 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>u(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),r.jsx("button",{onClick:T,disabled:!l||!o||!d||!m||!x||S,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed hover:bg-primary-800 transition-colors",children:S?"Inscription...":"Crer mon compte"})]})}),r.jsx("div",{className:"border-t border-gray-200 p-5",children:r.jsxs("div",{className:"text-center text-sm text-gray-700",children:[r.jsxs("p",{className:"mb-3 leading-relaxed",children:["En crant un compte, tu acceptes nos"," ",r.jsx("button",{className:"text-black underline font-medium hover:text-gray-700",children:"Conditions d'utilisation"})," ","et reconnais avoir lu notre"," ",r.jsx("button",{className:"text-black underline font-medium hover:text-gray-700",children:"Politique de confidentialit"}),"."]}),r.jsx("p",{className:"text-xs text-gray-600 mt-2 mb-3",children:'Aprs inscription, vous pourrez complter votre profil dans la section "Mon Compte"'}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-gray-800",children:"Tu as dj un compte ? "}),r.jsx("button",{onClick:s||t,className:"text-primary font-semibold hover:text-primary/90 transition-colors",children:"Se connecter"})]})]})})]})})}async function Vi(e,t){const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})});if(!s.ok)throw new Error(`HTTP ${s.status}`);return s.json()}const Vr={start:async e=>Vi("/api/acceuil/api/start",{visiteurId:e||void 0}),notifierAuthentification:async(e,t)=>{try{const s=await fetch("/api/acceuil/api/authentifier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visiteurId:e,instanceKey:t})});if(!s.ok){console.error(" [API Service] Erreur notification authentification:",s.status);return}const n=await s.json();console.log(" [API Service] Notification authentification envoye:",n);const a=new Date(Date.now()+60*60*1e3).toUTCString();document.cookie=`bpmn_instanceKey=${t}; path=/; expires=${a}; SameSite=Lax`,document.cookie=`bpmn_visiteurId=${e}; path=/; expires=${a}; SameSite=Lax`,console.log(" [API Service] BPMN context stock:",{instanceKey:t,visiteurId:e})}catch(s){console.error(" [API Service] Erreur lors de la notification:",s)}},scrollNext:async(e,t,s=5)=>Vi("/api/acceuil/api/scroll-next",{visiteurId:e,afterCursor:t,batchSize:s}),dwell:async(e,t,s,n)=>{const a={visiteurId:e,itemId:t,eventType:s};return n!==void 0&&(a.dureeDwellMs=n),Vi("/api/acceuil/api/dwell",a)}},vv=24*60*60*1e3,Pu=(e,t)=>{try{localStorage.setItem("visiteurId",e),t&&localStorage.setItem("instanceKey",String(t)),localStorage.setItem("sessionTs",String(Date.now()))}catch(s){console.error("Failed to save session:",s)}},Eh=()=>{try{const e=localStorage.getItem("visiteurId")||"",t=localStorage.getItem("instanceKey")||"",s=Number(localStorage.getItem("sessionTs")||"0");return{visiteurId:e,instanceKey:t,ts:s}}catch(e){return console.error("Failed to load session:",e),{visiteurId:"",instanceKey:"",ts:0}}},yv=()=>{try{localStorage.removeItem("visiteurId"),localStorage.removeItem("instanceKey"),localStorage.removeItem("sessionTs")}catch(e){console.error("Failed to clear session:",e)}},Tu=e=>!e||isNaN(e)?!0:Date.now()-e>vv,Ch=h.createContext(void 0),jv=({children:e})=>{const[t,s]=h.useState(null),[n,a]=h.useState(!1),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,y]=h.useState(null),m=h.useCallback(async(u=0)=>{var b;i(!0);const f=window.location.search.includes("auth=success");f&&u===0&&(console.log(" [AUTH CONTEXT] Callback OAuth dtect, attente de 500ms pour la session..."),await new Promise(S=>setTimeout(S,500)));try{const S=await an.checkAuth();if(console.log(" [AUTH CONTEXT] Refresh auth response:",S),f&&!S.authenticated&&u===0)return console.log(" [AUTH CONTEXT] Pas encore authentifi aprs OAuth, retry dans 1s..."),i(!1),await new Promise(E=>setTimeout(E,1e3)),m(1);a(S.authenticated),s(S.utilisateur||null),S.authenticated&&(localStorage.removeItem("auth_redirect_url"),document.cookie="auth_redirect_url=; path=/; max-age=0",sessionStorage.removeItem("auth_redirecting"),console.log(" [AUTH CONTEXT] Nettoyage des donnes de redirection OAuth"))}catch(S){console.error(" [AUTH CONTEXT] Erreur lors du refresh de l'authentification:",S),(b=S.message)!=null&&b.includes("401")||S.status===401?(console.log(" [AUTH CONTEXT] Session expire, dconnexion automatique"),a(!1),s(null),window.location.pathname!=="/"&&(window.location.href="/")):(a(!1),s(null))}finally{i(!1)}},[]);h.useEffect(()=>{m()},[m]);const g=()=>{w()},x=async()=>{await an.logout(),a(!1),s(null)},w=h.useCallback(u=>{const f=u||window.location.pathname+window.location.search;console.log(" [AUTH CONTEXT] Ouverture du modal d'authentification"),console.log(" [AUTH CONTEXT] URL de retour sauvegarde:",f),y(f),c(!0)},[]),j=h.useCallback(()=>{console.log(" [AUTH CONTEXT] Fermeture du modal d'authentification"),c(!1)},[]),P=h.useCallback(()=>d,[d]),p=h.useCallback(()=>{console.log(" [AUTH CONTEXT] Nettoyage de l'URL de redirection"),y(null)},[]);return r.jsx(Ch.Provider,{value:{user:t,isAuthenticated:n,isLoading:l,showAuthModal:o,redirectUrl:d,login:g,logout:x,refreshAuth:m,openAuthModal:w,closeAuthModal:j,getRedirectUrl:P,clearRedirectUrl:p},children:e})},hn=()=>{const e=h.useContext(Ch);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};function Sh({isOpen:e,onClose:t}){const{getRedirectUrl:s,clearRedirectUrl:n}=hn(),[a,l]=h.useState("principal"),[i,o]=h.useState(""),[c,d]=h.useState(""),[y,m]=h.useState(!1),[g,x]=h.useState(!1),[w,j]=h.useState(e),[P,p]=h.useState(""),[u,f]=h.useState(!1);if(e&&!w&&!g&&j(!0),!w&&!g)return null;const b=async()=>{if(!(!i||!c)){f(!0),p("");try{const N=await an.loginWithPassword(i,c);if(N.success){console.log(" [CONNEXION EMAIL] Connexion russie:",N.utilisateur);const R=s();console.log(" [CONNEXION EMAIL] URL de redirection:",R),N.utilisateur&&!N.utilisateur.profilComplet?(console.log(" [CONNEXION EMAIL] Profil incomplet, redirection vers /mon-compte"),n(),window.location.href="/mon-compte?auth=success"):R&&R!==window.location.pathname+window.location.search?(console.log(" [CONNEXION EMAIL] Redirection vers:",R),n(),window.location.href=R):(console.log(" [CONNEXION EMAIL] Rechargement de la page actuelle"),n(),window.location.reload())}else p(N.message||"Erreur lors de la connexion")}catch(N){console.error("Erreur lors de la connexion:",N),p(N.message||"Une erreur est survenue")}finally{f(!1)}}},S=async N=>{const R=s();R&&(console.log(" [MODAL] Sauvegarde de l'URL de redirection pour OAuth:",R),localStorage.setItem("auth_redirect_url",R),document.cookie=`auth_redirect_url=${encodeURIComponent(R)}; path=/; max-age=600; SameSite=Lax`,console.log(" [MODAL] Cookie auth_redirect_url cr (encod):",encodeURIComponent(R)));const U=Eh(),O=U==null?void 0:U.visiteurId,B=U==null?void 0:U.instanceKey;O&&B?(console.log(" [MODAL] Notification du processus BPMN avant OAuth2...",{visiteurId:O,instanceKey:B}),await Vr.notifierAuthentification(O,B)):console.warn(" [MODAL] visiteurId ou instanceKey manquant, notification BPMN ignore",{visiteurId:O,instanceKey:B}),an.login(N)},E=()=>{j(!1),setTimeout(()=>{x(!0)},200)},v=()=>{j(!1),t()},T=()=>{x(!1),setTimeout(()=>{j(!0)},200)};return r.jsxs(r.Fragment,{children:[w&&!g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md mx-4 overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-5",children:[a==="email"&&r.jsx("button",{onClick:()=>l("principal"),className:"text-gray-800 hover:text-black transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("h2",{className:"text-xl font-bold text-center flex-1 text-gray-900",children:"Connecte-toi  PITM"}),r.jsx("button",{onClick:v,className:"text-gray-800 hover:text-black transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a==="principal"&&r.jsxs("div",{className:"flex border-t border-gray-200",children:[r.jsx("button",{onClick:()=>l("principal"),className:"flex-1 py-3 text-center font-medium text-primary border-b-2 border-primary",children:"Rseaux sociaux"}),r.jsx("button",{onClick:()=>l("email"),className:"flex-1 py-3 text-center font-medium text-gray-600 hover:text-gray-900 border-b-2 border-transparent hover:border-gray-300 transition-colors",children:"Email / Mot de passe"})]})]}),r.jsx("div",{className:"p-6",children:a==="principal"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("button",{onClick:()=>S("facebook"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg",children:r.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Facebook"})]}),r.jsxs("button",{onClick:()=>S("google"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:r.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Google"})]}),r.jsxs("button",{onClick:()=>S("apple"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-300 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[r.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:r.jsx("svg",{className:"w-6 h-6 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})}),r.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Continuer avec Apple"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Connexion par email"}),r.jsx("p",{className:"text-gray-700 text-sm mt-2",children:"Utilisez votre adresse email et votre mot de passe"})]}),P&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:P}),r.jsx("div",{children:r.jsx("input",{type:"email",placeholder:"Adresse email",value:i,onChange:N=>o(N.target.value),className:"w-full bg-gray-100 border-0 rounded-lg p-3 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"email"})}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:y?"text":"password",placeholder:"Mot de passe",value:c,onChange:N=>d(N.target.value),onKeyPress:N=>N.key==="Enter"&&!u&&i&&c&&b(),className:"w-full bg-gray-100 border-0 rounded-lg p-3 pr-12 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary",autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>m(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),r.jsx("div",{className:"text-right",children:r.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"Mot de passe oubli ?"})}),r.jsx("button",{onClick:b,disabled:!i||!c||u,className:"w-full bg-primary text-white py-3 rounded-xl font-semibold disabled:bg-gray-300 disabled:text-gray-500 disabled:cursor-not-allowed hover:bg-primary-800 transition-colors",children:u?"Connexion...":"Se connecter"})]})}),r.jsx("div",{className:"border-t border-gray-200 p-5",children:r.jsxs("div",{className:"text-center text-sm text-gray-700",children:[a==="principal"&&r.jsx(r.Fragment,{children:r.jsxs("p",{className:"mb-3 leading-relaxed",children:["En continuant avec un compte bas dans le pays suivant :"," ",r.jsx("span",{className:"font-semibold text-black",children:"Burkina Faso"}),", tu acceptes nos"," ",r.jsx("button",{className:"text-black underline font-medium hover:text-gray-700",children:"Conditions d'utilisation"})," et reconnais avoir lu notre"," ",r.jsx("button",{className:"text-black underline font-medium hover:text-gray-700",children:"Politique de confidentialit"}),"."]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-gray-800",children:"Tu n'as pas de compte ? "}),r.jsx("button",{onClick:E,className:"text-primary font-semibold hover:text-primary/90 transition-colors",children:"S'inscrire"})]})]})})]})}),r.jsx(gv,{isOpen:g,onClose:()=>{x(!1),t()},onRetourConnexion:T})]})}const An={"pitm-light":{name:"pitm-light",displayName:"Thme Clair",primaryColor:"#1A3D64",secondaryColor:"#64748b",backgroundColor:"#f8fafc",textColor:"#1e293b"},"pitm-dark":{name:"pitm-dark",displayName:"Thme Sombre",primaryColor:"#1A3D64",secondaryColor:"#94a3b8",backgroundColor:"#0f172a",textColor:"#f1f5f9"}},Mu="pitm-theme",Lu="pitm-light";function bv(){const[e,t]=h.useState(Lu);h.useEffect(()=>{const o=localStorage.getItem(Mu);o&&An[o]?(t(o),s(o)):s(Lu)},[]);const s=o=>{document.documentElement.setAttribute("data-theme",o);const d=An[o],y=document.documentElement.style;y.setProperty("--current-primary",d.primaryColor),y.setProperty("--current-background",d.backgroundColor),y.setProperty("--current-text",d.textColor)},n=o=>{t(o),s(o),localStorage.setItem(Mu,o)},a=()=>{const o=Object.keys(An),d=(o.indexOf(e)+1)%o.length;n(o[d])},l=o=>{const c=document.documentElement.style;c.setProperty("--primary-500",o),c.setProperty("--current-primary",o),localStorage.setItem("pitm-custom-primary",o),i(o)},i=o=>{const c=P=>{const p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(P);if(!p)return{h:0,s:0,l:0};const u=parseInt(p[1],16)/255,f=parseInt(p[2],16)/255,b=parseInt(p[3],16)/255,S=Math.max(u,f,b),E=Math.min(u,f,b);let v,T,N=(S+E)/2;if(S===E)v=T=0;else{const R=S-E;switch(T=N>.5?R/(2-S-E):R/(S+E),S){case u:v=(f-b)/R+(f<b?6:0);break;case f:v=(b-u)/R+2;break;case b:v=(u-f)/R+4;break;default:v=0}v/=6}return{h:v*360,s:T*100,l:N*100}},d=(P,p,u)=>{u/=100;const f=p*Math.min(u,1-u)/100,b=S=>{const E=(S+P/30)%12,v=u-f*Math.max(Math.min(E-3,9-E,1),-1);return Math.round(255*v).toString(16).padStart(2,"0")};return`#${b(0)}${b(8)}${b(4)}`},{h:y,s:m,l:g}=c(o),x=document.documentElement.style,w=[50,100,200,300,400,500,600,700,800,900],j=[95,90,80,65,50,g,35,25,15,10];w.forEach((P,p)=>{const u=d(y,m,j[p]);x.setProperty(`--primary-${P}`,u)})};return h.useEffect(()=>{const o=localStorage.getItem("pitm-custom-primary");o&&l(o)},[]),{currentTheme:e,themeConfig:An[e],availableThemes:An,changeTheme:n,toggleTheme:a,customizePrimaryColor:l,isLight:e==="pitm-light",isDark:e==="pitm-dark"}}const kh=h.createContext(void 0);function Nv({children:e}){const t=bv();return r.jsx(kh.Provider,{value:t,children:e})}function wv(){const e=h.useContext(kh);if(e===void 0)throw new Error("useThemeContext must be used within a ThemeProvider");return e}function Ev({isOpen:e,onClose:t}){const{currentTheme:s,themeConfig:n,availableThemes:a,changeTheme:l,customizePrimaryColor:i}=wv(),[o,c]=h.useState(n.primaryColor);if(!e)return null;const d=()=>{i(o)},y=[{nom:"Bleu PITM",couleur:"#1A3D64"},{nom:"Bleu Moderne",couleur:"#3B82F6"},{nom:"Violet",couleur:"#8B5CF6"},{nom:"Vert",couleur:"#10B981"},{nom:"Orange",couleur:"#F59E0B"},{nom:"Rouge",couleur:"#EF4444"},{nom:"Rose",couleur:"#EC4899"},{nom:"Cyan",couleur:"#06B6D4"}];return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Personnaliser le thme"}),r.jsx("button",{onClick:t,className:"text-gray-600 hover:text-gray-800 transition-colors",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thme"}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(a).map(([m,g])=>r.jsx("button",{onClick:()=>l(m),className:`p-4 rounded-lg border-2 transition-all text-left ${s===m?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300 bg-white"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:g.displayName}),r.jsx("div",{className:"text-sm text-gray-600",children:m==="pitm-light"?"Interface claire et moderne":"Interface sombre et lgante"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:g.backgroundColor}}),r.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:g.primaryColor}})]})]})},m))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Couleur principale"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Couleurs prdfinies"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:y.map(m=>r.jsx("button",{onClick:()=>{c(m.couleur),i(m.couleur)},className:`aspect-square rounded-lg border-2 transition-all hover:scale-105 ${o===m.couleur?"border-gray-900 shadow-lg":"border-gray-300"}`,style:{backgroundColor:m.couleur},title:m.nom,children:o===m.couleur&&r.jsx("svg",{className:"w-6 h-6 text-gray-900 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},m.couleur))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Couleur personnalise"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"color",value:o,onChange:m=>c(m.target.value),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),r.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"#166064",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"}),r.jsx("button",{onClick:d,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-800 transition-colors",children:"Appliquer"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Aperu"}),r.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-slate-50",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-800 transition-colors",children:"Bouton principal"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:"Badge"}),r.jsx("span",{className:"px-3 py-1 bg-primary/5 text-primary border border-primary rounded-full text-sm",children:"Badge bord"})]}),r.jsxs("p",{className:"text-gray-600",children:["Texte d'exemple avec ",r.jsx("span",{className:"text-primary font-medium",children:"couleur principale"})]})]})})]})]}),r.jsx("div",{className:"border-t border-gray-200 p-6",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:()=>{i("#166064"),c("#166064")},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Rinitialiser"}),r.jsx("button",{onClick:t,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-800 transition-colors",children:"Termin"})]})})]})})}function Cv({collapsed:e,onToggle:t}){const s=Zr(),{isAuthenticated:n,logout:a,user:l,openAuthModal:i}=hn(),[o,c]=h.useState(!1),[d,y]=h.useState(!1),[m,g]=h.useState(!1);h.useEffect(()=>{console.log(" [SIDEBAR] tat authentification:",{isAuthenticated:n,user:l})},[n,l]);const x=async()=>{n?await a():c(!0)},w=(f,b,S=!1)=>{if(S&&!n){f.preventDefault(),console.log(" [SIDEBAR] Accs ",b,"ncessite une authentification"),i(b);return}},j=[{icon:cv,label:"Aperu",path:"/"},{icon:sv,label:"Explorer",path:"/explorer"},{icon:pn,label:"Rechercher",path:"/rechercher"},{icon:Jc,label:"Mon rseau",path:"/reseau"},{icon:gr,label:"Projets",path:"/projets"},{icon:av,label:"Plus",path:"/plus"}],P=[{icon:iv,label:"Mon expertise",path:"/expertise"},{icon:Bo,label:"Comptences",path:"/competences"},{icon:Br,label:"Localisations",path:"/competences/localisations"},{icon:Jr,label:"Certifications",path:"/competences/certifications"},{icon:dv,label:"File traitant",path:"/traitant/file",dividerBefore:!0,traitantOnly:!0}],p=f=>s.pathname===f,u=P.some(f=>s.pathname.startsWith(f.path));return h.useEffect(()=>{u&&!e&&g(!0)},[u,e]),r.jsxs("aside",{className:`fixed left-0 top-0 h-screen bg-white border-r border-slate-200 flex flex-col z-50 transition-all duration-300 shadow-lg ${e?"w-20":"w-64"}`,children:["      ",r.jsx("button",{onClick:t,className:"absolute -right-3 top-8 w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white hover:bg-primary-800 shadow-lg transition-all duration-200 z-10","aria-label":e?"Afficher le sidebar":"Masquer le sidebar",children:e?r.jsx(Zg,{size:16}):r.jsx(Yg,{size:16})}),r.jsx("div",{className:"px-6 py-8",children:r.jsxs(Ke,{to:"/",className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"P"})}),!e&&r.jsx("span",{className:"text-xl font-bold text-primary-900",children:"PITM"})]})}),r.jsx("nav",{className:"flex-1 px-3 overflow-y-auto",children:j.map(f=>{const b=f.icon,S=p(f.path);if(f.label==="Projets")return r.jsxs(Wi.Fragment,{children:[r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{onClick:()=>!e&&g(!m),className:`w-full flex items-center gap-4 px-4 py-3 rounded-lg transition-all duration-200 ${e?"justify-center":"justify-between"} ${u?"text-primary-900 font-semibold":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:e?"Expertise":void 0,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Bo,{size:24,strokeWidth:u?2.5:2}),!e&&r.jsx("span",{className:"text-base",children:"Expertise"})]}),!e&&r.jsx(vh,{size:18,className:`transition-transform duration-200 ${m?"rotate-180":""}`})]}),!e&&m&&r.jsx("div",{className:"ml-4 mt-1 space-y-1",children:P.map(v=>{const T=v.icon,N=p(v.path),R=!0;return r.jsxs(Wi.Fragment,{children:[v.dividerBefore&&r.jsx("div",{className:"border-t border-gray-200 my-2"}),r.jsxs(Ke,{to:v.path,onClick:U=>w(U,v.path,R),className:`flex items-center gap-3 px-4 py-2 rounded-lg transition-all duration-200 ${N?"text-primary-900 font-semibold bg-primary/10":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx(T,{size:20,strokeWidth:N?2.5:2}),r.jsx("span",{className:"text-sm",children:v.label})]})]},v.path)})})]}),r.jsxs(Ke,{to:f.path,className:`flex items-center gap-4 px-4 py-3 rounded-lg mb-1 transition-all duration-200 ${e?"justify-center":""} ${S?"text-primary-900 font-semibold":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:e?f.label:void 0,children:[r.jsx(b,{size:24,strokeWidth:S?2.5:2}),!e&&r.jsx("span",{className:"text-base",children:f.label})]})]},"expertise-and-projets");const E=f.path==="/reseau";return r.jsxs(Ke,{to:f.path,onClick:v=>w(v,f.path,E),className:`flex items-center gap-4 px-4 py-3 rounded-lg mb-1 transition-all duration-200 ${e?"justify-center":""} ${S?"text-primary-900 font-semibold":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,title:e?f.label:void 0,children:[r.jsx(b,{size:24,strokeWidth:S?2.5:2}),!e&&r.jsx("span",{className:"text-base",children:f.label})]},f.path)})}),!e&&r.jsx("div",{className:"px-6 py-4 space-y-3",children:r.jsx("button",{onClick:x,className:`w-full font-semibold py-3 px-6 rounded-lg transition-all duration-200 shadow-lg flex items-center justify-center gap-2 ${n?"bg-rose-500 hover:bg-rose-600 text-white hover:shadow-rose-400/50":"bg-primary hover:bg-primary-800 text-white hover:shadow-primary/50"}`,children:n?r.jsxs(r.Fragment,{children:[r.jsx(ku,{size:20}),"Se dconnecter"]}):r.jsxs(r.Fragment,{children:[r.jsx(Su,{size:20}),"Se connecter"]})})}),e&&r.jsx("div",{className:"px-3 py-4 space-y-2",children:r.jsx("button",{onClick:x,className:`w-full flex items-center justify-center font-medium py-3 rounded-lg transition-all duration-200 shadow-lg ${n?"bg-rose-500 hover:bg-rose-600 text-white hover:shadow-rose-400/50":"bg-primary hover:bg-primary-800 text-white hover:shadow-primary/50"}`,title:n?"Se dconnecter":"Se connecter",children:n?r.jsx(ku,{size:20}):r.jsx(Su,{size:20})})}),!e&&r.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 space-y-2 text-sm",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(Ke,{to:"/entreprise",className:"block text-gray-600 hover:text-primary transition-colors",children:"Entreprise"}),r.jsx(Ke,{to:"/programme",className:"block text-gray-600 hover:text-primary transition-colors",children:"Programme"}),r.jsx(Ke,{to:"/conditions",className:"block text-gray-600 hover:text-primary transition-colors",children:"Conditions gnrales"})]}),r.jsx("div",{className:"text-gray-600 text-xs pt-2",children:" 2025 PITM"})]}),r.jsx(Sh,{isOpen:o,onClose:()=>c(!1)}),r.jsx(Ev,{isOpen:d,onClose:()=>y(!1)})]})}const Ph=h.createContext(void 0),Hi={};function Sv({children:e}){const[t,s]=h.useState(Hi),n=l=>{s({...Hi,...l})},a=()=>{s(Hi)};return r.jsx(Ph.Provider,{value:{config:t,setConfig:n,resetConfig:a},children:e})}function Th(){const e=h.useContext(Ph);if(!e)throw new Error("useHeader doit tre utilis dans un HeaderProvider");return e}function kv(){const{config:e}=Th(),{title:t,actions:s,tabs:n,activeTab:a,onTabChange:l}=e,i=Zr(),{isAuthenticated:o}=hn(),c=()=>{if(t)return t;const d=i.pathname;return d==="/"?"Aperu":d==="/explorer"?"Explorer":d==="/rechercher"?"Rechercher des Expertises":d.startsWith("/expertise-profil/")?"Profil d'Expertise":d==="/suivis"?"Suivis":d==="/profil"?"Mon Profil":d==="/mon-compte"?"Mon Compte":d==="/expertise"?"Mon Expertise":d==="/competences/certifications"?"Certifications":d==="/competences/localisations"?"Localisations":d==="/competences"?"Rfrentiel de Comptences":d==="/projets"?"Mes Projets":d==="/plus"?"Plus":d.startsWith("/expert/")?"Dtail Expert":"PITM"};return r.jsxs("header",{className:"sticky top-0 bg-white border-b border-slate-200 z-40",children:[r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex-1",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c()})}),r.jsxs("div",{className:"flex items-center gap-4",children:[s,o&&r.jsx(Ke,{to:"/mon-compte",className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Mon Compte",children:r.jsx(ev,{size:24,className:"text-gray-600 hover:text-gray-800"})}),r.jsxs("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors relative",children:[r.jsx(Xg,{size:24,className:"text-gray-600 hover:text-gray-800"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-error rounded-full"})]}),r.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:r.jsx(hv,{size:24,className:"text-gray-600 hover:text-gray-800"})})]})]})}),n&&n.length>0&&r.jsx("div",{className:"border-t border-slate-200",children:r.jsx("div",{className:"flex gap-1 px-6",children:n.map(d=>r.jsxs("button",{onClick:()=>l==null?void 0:l(d.id),className:`px-6 py-3 font-medium text-sm transition-all relative
                  ${a===d.id?"text-primary":"text-gray-600 hover:text-gray-800"}`,children:[d.label,a===d.id&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]},d.id))})})]})}function Pv(){const[e,t]=h.useState(!1);return r.jsx(Sv,{children:r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx(Cv,{collapsed:e,onToggle:()=>t(!e)}),r.jsxs("div",{className:`transition-all duration-300 ${e?"ml-20":"ml-64"}`,children:[r.jsx(kv,{}),r.jsx(Eg,{})]})]})})}const Tv=()=>{const[e,t]=h.useState(""),[s,n]=h.useState(!1);return h.useEffect(()=>{(async()=>{console.log(" [SESSION] Initialisation de la session...");const i=Eh();if(console.log(" [SESSION] Session charge:",i),i.visiteurId&&!Tu(i.ts))console.log(" [SESSION] Session existante valide:",i.visiteurId),t(i.visiteurId);else{i.visiteurId&&Tu(i.ts)?(console.log(" [SESSION] Session expire, nettoyage..."),yv()):console.log(" [SESSION] Pas de session, cration d'une nouvelle...");try{console.log(" [SESSION] Appel API /api/start...");const{visiteurId:o,instanceKey:c}=await Vr.start();console.log(" [SESSION] Processus BPMN dmarr:",{visiteurId:o,instanceKey:c}),t(o),Pu(o,c),console.log(" [SESSION] Session sauvegarde")}catch(o){console.error(" [SESSION] Erreur lors de l'initialisation:",o)}}n(!0),console.log(" [SESSION] Initialisation termine")})()},[]),{visiteurId:e,isInitialized:s,startNewSession:async l=>{try{const{visiteurId:i,instanceKey:o}=await Vr.start(l);t(i),Pu(i,o)}catch(i){throw console.error("Failed to start new session:",i),i}}}},Mv=({visiteurId:e,batchSize:t=5})=>{const[s,n]=h.useState([]),[a,l]=h.useState("0"),[i,o]=h.useState(!0),[c,d]=h.useState(!1);h.useEffect(()=>{if(!e)return;(async()=>{try{o(!0);const g=await Vr.scrollNext(e,"0",t);n(g.pileContenu||[]),l(g.nextCursor||"0")}catch(g){console.error("Failed to load initial experts:",g)}finally{o(!1)}})()},[e,t]);const y=h.useCallback(async()=>{if(!(!e||c))try{d(!0);const m=await Vr.scrollNext(e,a,t);n(g=>[...g,...m.pileContenu||[]]),l(m.nextCursor||a)}catch(m){console.error("Failed to load more experts:",m)}finally{d(!1)}},[e,a,t,c]);return{experts:s,loading:i,isLoadingMore:c,loadMore:y}};function wr(e){const{setConfig:t,resetConfig:s}=Th();h.useEffect(()=>(t(e),()=>{s()}),[e.title,e.showSearch,e.visiteurId,e.activeTab])}function Lv({expert:e}){const t=e.prenom&&e.prenom.trim()!==""?`${e.prenom} ${e.nom}`:e.nom,s=e.disponible?"bg-success/20 text-success":"bg-error/20 text-error";return r.jsxs("div",{className:"flex gap-6 mb-6",children:[r.jsx("img",{src:e.photoUrl,alt:t,className:"w-40 h-40 rounded-full object-cover border-4 border-slate-200 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),r.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm ${s}`,children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${e.disponible?"bg-success":"bg-error"}`}),r.jsx("span",{children:e.disponible?"Disponible":"Occup"})]})]}),r.jsx("p",{className:"text-lg text-primary font-medium mb-4",children:e.titre})]})]})}function Rv({competence:e}){return r.jsxs("div",{className:`bg-slate-50 border ${e.favorite?"border-warning":"border-slate-200"} rounded-lg p-3`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-1",children:[e.nom,e.favorite&&r.jsx(nn,{className:"w-4 h-4 fill-warning text-warning"})]}),e.niveauMaitrise&&r.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((t,s)=>r.jsx(nn,{className:`w-3 h-3 ${s<e.niveauMaitrise?"fill-warning text-warning":"text-gray-300"}`},s))})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[e.anneesExperience!==void 0&&e.anneesExperience>0&&r.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Exp.: ",e.anneesExperience," an",e.anneesExperience>1?"s":""]}),e.thm&&r.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:["THM: ",e.thm.toLocaleString()," FCFA/h"]}),e.nombreProjets!==void 0&&e.nombreProjets>0&&r.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Nbre projet: ",e.nombreProjets]})]}),e.certifications&&r.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Certifications: "}),e.certifications]})]})}function Av({competences:e}){return r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Comptences et expertise:"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map((t,s)=>r.jsx(Rv,{competence:t},s))})]})}function Dv({expert:e}){return r.jsx("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{children:e.localisation})]})})}function _v({expert:e,onPropose:t,onViewProfile:s,onShare:n}){return r.jsxs("div",{className:"relative w-full max-w-4xl",children:[r.jsxs("article",{"data-id":e.id,className:`card bg-white border border-slate-200 rounded-2xl p-8 w-full 
                   h-[75vh] flex flex-col 
                   shadow-2xl`,children:[r.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"#2a2f45 transparent"},children:[r.jsx(Lv,{expert:e}),r.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:e.description}),r.jsx(Av,{competences:e.competences})]}),r.jsx("div",{className:"mt-4 flex-shrink-0 h-24 relative",children:r.jsx(Dv,{expert:e,onPropose:t,onViewProfile:s,onShare:n})})]}),r.jsxs("div",{className:"absolute bottom-0 -right-20 flex flex-col gap-4",children:[n&&r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("button",{onClick:()=>n(e),className:"w-12 h-12 bg-primary hover:bg-primary-800 rounded-full flex items-center justify-center text-white transition-colors backdrop-blur-sm shadow-lg",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),r.jsx("span",{className:"text-xs text-gray-700 mt-1 font-medium",children:"Partager"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("button",{onClick:()=>s(e.id),className:"w-12 h-12 bg-primary hover:bg-primary-800 rounded-full flex items-center justify-center text-white transition-colors backdrop-blur-sm shadow-lg",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),r.jsx("span",{className:"text-xs text-gray-700 mt-1 font-medium",children:"Profil"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("button",{onClick:()=>t(e.id),className:"w-14 h-14 bg-primary hover:bg-primary-800 rounded-full flex items-center justify-center text-white transition-colors shadow-lg",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),r.jsx("span",{className:"text-xs text-primary font-semibold mt-1",children:"Proposer"})]})]})]})}function Ye({children:e,variant:t="primary",size:s="md",className:n="",...a}){const l={primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost"},i={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return r.jsx("button",{className:`btn ${l[t]} ${i[s]} ${n}`,...a,children:e})}function Iv({expert:e,isOpen:t,onClose:s}){const[n,a]=h.useState(!1),[l,i]=h.useState(""),[o,c]=h.useState("");if(!t)return null;const d=`${window.location.origin}/expert/${e.id}`,y=async()=>{try{await navigator.clipboard.writeText(d),a(!0),setTimeout(()=>a(!1),2e3)}catch(P){console.error("Erreur lors de la copie:",P);const p=document.createElement("textarea");p.value=d,document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p),a(!0),setTimeout(()=>a(!1),2e3)}},m=()=>{const P=o.trim()||`Dcouvrez le profil de ${e.prenom} ${e.nom}, ${e.titre}`,p=`https://wa.me/?text=${encodeURIComponent(`${P}

${d}`)}`;window.open(p,"_blank")},g=()=>{const P=`Profil expert - ${e.prenom} ${e.nom}`,p=o.trim()||`Bonjour,

Je vous partage le profil de ${e.prenom} ${e.nom}, ${e.titre}.

Vous pouvez consulter son profil ici :`,u=`mailto:${l}?subject=${encodeURIComponent(P)}&body=${encodeURIComponent(`${p}

${d}`)}`;window.location.href=u},x=()=>{const P=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}`;window.open(P,"_blank","width=600,height=400")},w=()=>{const P=o.trim()||`Dcouvrez le profil de ${e.prenom} ${e.nom}, ${e.titre}`,p=`https://twitter.com/intent/tweet?text=${encodeURIComponent(P)}&url=${encodeURIComponent(d)}`;window.open(p,"_blank","width=600,height=400")},j=()=>{const P=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(d)}`;window.open(P,"_blank","width=600,height=400")};return r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Partager le profil"}),r.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800 text-xl",children:""})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[r.jsx("img",{src:e.photoUrl,alt:`${e.prenom} ${e.nom}`,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:[e.prenom," ",e.nom]}),r.jsx("p",{className:"text-sm text-gray-600",children:e.titre})]})]})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Copier le lien"}),r.jsx("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"text",value:d,readOnly:!0,className:"flex-1 bg-transparent text-gray-700 text-sm focus:outline-none"}),r.jsx(Ye,{onClick:y,size:"sm",className:n?"bg-success/20 text-success":"",children:n?" Copi":"Copier"})]})})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Message personnalis (optionnel)"}),r.jsx("textarea",{value:o,onChange:P=>c(P.target.value),rows:3,className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                       text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                       focus:ring-primary focus:border-transparent resize-none`,placeholder:"Ajoutez un message personnel  votre partage..."})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800 mb-4",children:"Partager via"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[r.jsxs("button",{onClick:m,className:`flex items-center gap-3 p-3 bg-green-500/10 border border-green-500/20 
                         rounded-lg hover:bg-green-500/20 transition-colors`,children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-gray-900 font-bold",children:"W"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"WhatsApp"})]}),r.jsxs("button",{onClick:x,className:`flex items-center gap-3 p-3 bg-primary/10 border border-primary/20 
                         rounded-lg hover:bg-primary/20 transition-colors`,children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-gray-900 font-bold",children:"f"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"Facebook"})]}),r.jsxs("button",{onClick:w,className:`flex items-center gap-3 p-3 bg-sky-500/10 border border-sky-500/20 
                         rounded-lg hover:bg-sky-500/20 transition-colors`,children:[r.jsx("div",{className:"w-8 h-8 bg-sky-500 rounded-full flex items-center justify-center text-gray-900 font-bold",children:"X"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"Twitter"})]}),r.jsxs("button",{onClick:j,className:`flex items-center gap-3 p-3 bg-primary/10 border border-primary/20 
                         rounded-lg hover:bg-primary/20 transition-colors`,children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-gray-900 font-bold",children:"in"}),r.jsx("span",{className:"text-gray-800 font-medium",children:"LinkedIn"})]})]}),r.jsxs("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:[r.jsx("h6",{className:"font-medium text-gray-800 mb-3",children:"Partager par email"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"email",value:l,onChange:P=>i(P.target.value),placeholder:"Adresse email du destinataire",className:`flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded 
                           text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                           focus:ring-primary focus:border-transparent`}),r.jsx(Ye,{onClick:g,disabled:!l.trim(),size:"sm",children:"Envoyer"})]})]})]})]}),r.jsx("div",{className:"p-6 border-t border-slate-200",children:r.jsx("div",{className:"flex justify-end",children:r.jsx(Ye,{variant:"secondary",onClick:s,children:"Fermer"})})})]})})}function oi(){return r.jsx("div",{className:"fixed inset-0 bg-slate-50/90 flex items-center justify-center z-50",children:r.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})})}const pl=(e,t)=>({id:e,nom:t,description:`Description dtaille de la tche ${t}`,ressources:{budget:Math.floor(Math.random()*1e4)+2e3,expertsRequis:[`expert_${Math.floor(Math.random()*5)+1}`],duree:Math.floor(Math.random()*30)+5},livrables:[{id:`livrable_${e}_1`,nom:`Livrable ${t}`,description:`Document ou produit livrable pour ${t}`,criteres:[{id:`critere_${e}_1`,description:"Respect des spcifications techniques",statut:"en_attente"},{id:`critere_${e}_2`,description:"Tests unitaires passants",statut:"en_attente"}],statut:"non_fourni"}],statut:Math.random()>.5?"en_cours":"non_commencee",progression:Math.floor(Math.random()*100)}),Dn=(e,t)=>({id:e,nom:t,description:`Description dtaille du projet ${t}`,duree:Math.floor(Math.random()*180)+30,budget:Math.floor(Math.random()*1e5)+1e4,exigences:[{id:`exigence_${e}_1`,description:"Interface utilisateur intuitive"},{id:`exigence_${e}_2`,description:"Performance optimale"},{id:`exigence_${e}_3`,description:"Scurit renforce"}],taches:[pl(`tache_${e}_1`,"Analyse et conception"),pl(`tache_${e}_2`,"Dveloppement"),pl(`tache_${e}_3`,"Tests et validation")],statut:"planification",dateCreation:new Date().toISOString(),progression:Math.floor(Math.random()*100),proprietaireId:"utilisateur_1"}),Qr={obtenirProjets:async()=>new Promise(e=>{setTimeout(()=>{const t=[Dn("projet_1","Application Mobile E-commerce"),Dn("projet_2","Plateforme de Formation en Ligne"),Dn("projet_3","Systme de Gestion de Stock")];e(t)},500)}),obtenirProjet:async e=>new Promise(t=>{setTimeout(()=>{t(e==="nouveau"?null:Dn(e,`Projet ${e}`))},300)}),creerProjet:async e=>new Promise(t=>{setTimeout(()=>{const s={...e,id:`projet_${Date.now()}`,dateCreation:new Date().toISOString(),progression:0,statut:"planification",taches:[]};t(s)},800)}),mettreAJourProjet:async(e,t)=>new Promise(s=>{setTimeout(()=>{const n={...Dn(e,"Projet Mis  Jour"),...t,id:e};s(n)},600)}),ajouterTache:async(e,t)=>new Promise(s=>{setTimeout(()=>{const n={...t,id:`tache_${Date.now()}`};s(n)},400)}),mettreAJourTache:async(e,t)=>new Promise(s=>{setTimeout(()=>{const n={...pl(e,"Tche Mise  Jour"),...t,id:e};s(n)},400)}),soumettrelivrable:async(e,t,s)=>new Promise(n=>{setTimeout(()=>{const a={id:e,nom:"Livrable soumis",description:"Description du livrable",criteres:[],statut:"fourni",fichierUrl:t,dateForniture:new Date().toISOString(),commentaires:s};n(a)},600)}),proposerProjetAExpert:async(e,t,s,n)=>new Promise(a=>{setTimeout(()=>{const l={id:`proposition_${Date.now()}`,projetId:t,expertId:e,tachesSelectionnees:s,message:n,statut:"en_attente",dateProposition:new Date().toISOString()};console.log("Proposition envoye  l'expert:",l),a(l)},500)})};function Ov({expert:e,isOpen:t,onClose:s}){const[n,a]=h.useState([]),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,y]=h.useState("");h.useEffect(()=>{t&&m()},[t]);const m=async()=>{i(!0);try{const u=(await Qr.obtenirProjets()).map(f=>({...f,tachesSelectionnees:new Set,toutSelectionne:!1}));a(u)}catch(p){console.error("Erreur lors du chargement des projets:",p)}finally{i(!1)}},g=p=>{a(n.map(u=>{if(u.id===p){const f=!u.toutSelectionne,b=f?new Set(u.taches.map(S=>S.id)):new Set;return{...u,toutSelectionne:f,tachesSelectionnees:b}}return u}))},x=(p,u)=>{a(n.map(f=>{if(f.id===p){const b=new Set(f.tachesSelectionnees);b.has(u)?b.delete(u):b.add(u);const S=b.size===f.taches.length;return{...f,tachesSelectionnees:b,toutSelectionne:S}}return f}))},w=()=>{const p=[];return n.forEach(u=>{u.tachesSelectionnees.forEach(f=>{p.push(f)})}),p},j=()=>n.filter(p=>p.tachesSelectionnees.size>0),P=async()=>{const p=w(),u=j();if(p.length===0){alert("Veuillez slectionner au moins une tche");return}c(!0);try{for(const f of u){const b=Array.from(f.tachesSelectionnees);await Qr.proposerProjetAExpert(e.id,f.id,b,d.trim()||void 0)}console.log(`Proposition(s) envoye(s)  ${e.prenom} ${e.nom}`),s(),a(n.map(f=>({...f,tachesSelectionnees:new Set,toutSelectionne:!1}))),y("")}catch(f){console.error("Erreur lors de l'envoi de la proposition:",f),alert("Erreur lors de l'envoi de la proposition")}finally{c(!1)}};return t?r.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"p-6 border-b border-slate-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Proposer un projet"}),r.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800 text-xl",disabled:o,children:""})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[r.jsx("img",{src:e.photoUrl,alt:`${e.prenom} ${e.nom}`,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-800",children:[e.prenom," ",e.nom]}),r.jsx("p",{className:"text-sm text-gray-600",children:e.titre})]})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx(oi,{})}):n.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-600 text-4xl mb-4",children:""}),r.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucun projet disponible"}),r.jsx("p",{className:"text-gray-600",children:"Crez d'abord des projets pour pouvoir les proposer  des experts"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Message pour l'expert (optionnel)"}),r.jsx("textarea",{value:d,onChange:p=>y(p.target.value),rows:3,className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                           text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                           focus:ring-primary focus:border-transparent resize-none`,placeholder:`Bonjour ${e.prenom}, j'aimerais collaborer avec vous sur...`,disabled:o})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800 mb-4",children:"Slectionnez les projets et tches  proposer"}),r.jsx("div",{className:"space-y-4",children:n.map(p=>r.jsxs("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p.toutSelectionne,onChange:()=>g(p.id),className:`w-4 h-4 text-primary bg-slate-50 border-slate-200 rounded 
                                       focus:ring-primary focus:ring-2`,disabled:o}),r.jsx("span",{className:"font-semibold text-gray-800",children:p.nom})]})}),r.jsxs("div",{className:"text-sm text-gray-600",children:[p.taches.length," tche",p.taches.length>1?"s":""]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:p.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Budget:"}),r.jsxs("span",{className:"text-gray-700",children:[p.budget.toLocaleString("fr-FR")," "]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Dure:"}),r.jsxs("span",{className:"text-gray-700",children:[p.duree," jours"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Statut:"}),r.jsx("span",{className:"text-primary capitalize",children:p.statut})]})]}),p.taches.length>0&&r.jsxs("div",{children:[r.jsx("h6",{className:"font-medium text-gray-700 mb-3",children:"Tches du projet"}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:p.taches.map(u=>r.jsxs("label",{className:`flex items-start gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-50/80 
                                         transition-colors cursor-pointer`,children:[r.jsx("input",{type:"checkbox",checked:p.tachesSelectionnees.has(u.id),onChange:()=>x(p.id,u.id),className:`w-4 h-4 text-primary bg-slate-100 border-slate-200 rounded 
                                           focus:ring-primary focus:ring-2 mt-0.5`,disabled:o}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium text-gray-800 mb-1",children:u.nom}),r.jsx("div",{className:"text-sm text-gray-600 line-clamp-2",children:u.description}),r.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-600",children:[r.jsxs("span",{children:["Budget: ",u.ressources.budget.toLocaleString("fr-FR")," "]}),r.jsxs("span",{children:["Dure: ",u.ressources.duree," jours"]}),r.jsxs("span",{children:["Livrables: ",u.livrables.length]})]})]})]},u.id))})]})]},p.id))})]})]})}),!l&&n.length>0&&r.jsx("div",{className:"p-6 border-t border-slate-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[w().length," tche",w().length>1?"s":""," slectionne",w().length>1?"s":"","sur ",j().length," projet",j().length>1?"s":""]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(Ye,{variant:"secondary",onClick:s,disabled:o,children:"Annuler"}),r.jsx(Ye,{onClick:P,disabled:o||w().length===0,children:o?"Envoi...":"Envoyer la proposition"})]})]})})]})}):null}const zv=({onLoadMore:e,threshold:t=400,isLoading:s=!1})=>{const n=h.useRef(null),a=h.useRef(null);return h.useEffect(()=>{const l={root:null,rootMargin:`${t}px`,threshold:.1};n.current=new IntersectionObserver(o=>{const[c]=o;c.isIntersecting&&!s&&e()},l);const i=a.current;return i&&n.current.observe(i),()=>{n.current&&i&&n.current.unobserve(i)}},[e,t,s]),a},Fv=e=>{const t=h.useRef(null),s=h.useRef(null),n=h.useCallback(async l=>{if(!(!e||!l)){if(t.current&&s.current){const i=Date.now()-s.current;try{await Vr.dwell(e,t.current,"DWELL_STOP",i)}catch(o){console.error("Failed to stop dwell:",o)}}t.current=l,s.current=Date.now();try{await Vr.dwell(e,l,"DWELL_START")}catch(i){console.error("Failed to start dwell:",i)}}},[e]),a=h.useCallback(async()=>{if(!e||!t.current||!s.current)return;const l=Date.now()-s.current;try{await Vr.dwell(e,t.current,"DWELL_STOP",l)}catch(i){console.error("Failed to stop dwell:",i)}t.current=null,s.current=null},[e]);return{startDwell:n,stopDwell:a}};function $v({experts:e,visiteurId:t,onLoadMore:s,isLoadingMore:n}){const a=kt(),l=h.useRef(null),i=zv({onLoadMore:s,threshold:400,isLoading:n}),{startDwell:o}=Fv(t),[c,d]=h.useState(null),[y,m]=h.useState(!1),[g,x]=h.useState(!1),[w,j]=h.useState(null);h.useEffect(()=>{const b=l.current;if(!b)return;let S=!1;const E=()=>{S||(window.requestAnimationFrame(()=>{const v=Array.from(b.querySelectorAll("[data-id]"));let T=null,N=0;const R=b.scrollTop,U=R+b.clientHeight;if(v.forEach(O=>{const B=O.getBoundingClientRect(),oe=B.top+b.scrollTop,Ne=B.bottom+b.scrollTop,je=Math.max(0,Math.min(Ne,U)-Math.max(oe,R));je>N&&(N=je,T=O)}),T){const O=T.getAttribute("data-id");O&&O!==c&&(d(O),o(O))}S=!1}),S=!0)};return b.addEventListener("scroll",E,{passive:!0}),()=>b.removeEventListener("scroll",E)},[c,o]);const P=b=>{const S=e.find(E=>E.id===b);S&&(j(S),x(!0))},p=b=>{a(`/expert/${b}`)},u=b=>{j(b),m(!0)},f=()=>{m(!1),x(!1),j(null)};return r.jsxs("div",{ref:l,className:"h-screen overflow-y-scroll snap-y snap-mandatory px-4",style:{scrollBehavior:"smooth"},children:[e&&e.length>0?e.map(b=>r.jsx("div",{className:"h-screen flex items-center justify-center py-6 snap-start snap-always",children:r.jsx(_v,{expert:b,onPropose:P,onViewProfile:p,onShare:u})},b.id)):r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx("p",{className:"text-gray-600 text-xl",children:"Aucun expert  afficher"})}),r.jsx("div",{ref:i,className:"h-10"}),n&&r.jsx("div",{className:"h-screen flex items-center justify-center",children:r.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}),w&&r.jsxs(r.Fragment,{children:[r.jsx(Iv,{expert:w,isOpen:y,onClose:f}),r.jsx(Ov,{expert:w,isOpen:g,onClose:f})]})]})}function Uv(){const{visiteurId:e,isInitialized:t}=Tv(),{experts:s,loading:n,isLoadingMore:a,loadMore:l}=Mv({visiteurId:e,batchSize:5});return wr({}),!t||n?r.jsx(oi,{}):r.jsx($v,{experts:s,visiteurId:e,onLoadMore:l,isLoadingMore:a})}const Ru=[{value:"dev-web",label:"Dveloppement Web"},{value:"dev-mobile",label:"Dveloppement Mobile"},{value:"design",label:"Design & UX/UI"},{value:"marketing",label:"Marketing Digital"},{value:"redaction",label:"Rdaction & Content"},{value:"consulting",label:"Conseil & Stratgie"},{value:"finance",label:"Finance & Comptabilit"},{value:"juridique",label:"Juridique"},{value:"traduction",label:"Traduction"},{value:"data-science",label:"Data Science & IA"},{value:"cybersecurite",label:"Cyberscurit"},{value:"autre",label:"Autre"}],Mh=(e,t)=>{var a;const{informationsPersonnelles:s,informationsExpert:n}=t;return{id:e,type:"expert",prenom:s.prenom||"",nom:s.nom||"",email:s.email||"",telephone:s.telephone||"",motDePasse:s.motDePasse||"",confirmMotDePasse:s.confirmMotDePasse||"",domaineExpertise:n.domaineExpertise||"",competences:n.competences||[],experience:n.experience||"",formation:n.formation||"",tarifHoraire:n.tarifHoraire||0,disponibilite:n.disponibilite||"",portfolio:n.portfolio||"",certifications:n.certifications||[],langues:n.langues||["Franais (natif)"],bio:n.bio||"",domainesInteret:n.domainesInteret||[],avatar:`https://i.pravatar.cc/200?u=${e}`,isVerified:Math.random()>.7,dateInscription:new Date().toISOString(),stats:{projetsRealises:Math.floor(Math.random()*50)+1,clientsSatisfaits:Math.floor(Math.random()*40)+1,tauxReussite:Math.floor(Math.random()*20)+80,anciennete:parseInt(((a=n.experience)==null?void 0:a.split("-")[0])||"1")},avis:[],portfolioItems:[]}},Bv=(e,t)=>{const{informationsPersonnelles:s,informationsClient:n}=t;return{id:e,type:"client",prenom:s.prenom||"",nom:s.nom||"",email:s.email||"",telephone:s.telephone||"",motDePasse:s.motDePasse||"",confirmMotDePasse:s.confirmMotDePasse||"",nomEntreprise:n.nomEntreprise||"",secteurActivite:n.secteurActivite||"",tailleEntreprise:n.tailleEntreprise||"",poste:n.poste||"",adresse:n.adresse||"",siteWeb:n.siteWeb||"",description:n.description||"",avatar:`https://i.pravatar.cc/200?u=${e}`,isVerified:Math.random()>.8,dateInscription:new Date().toISOString(),projetsPublies:Math.floor(Math.random()*20)+1,expertsEmbauches:Math.floor(Math.random()*15)+1}};let yt=[];const Vv=()=>{const e=[];for(let t=1;t<=20;t++){const s=Ru[Math.floor(Math.random()*Ru.length)],n=["0-1","1-3","3-5","5-10","10+"][Math.floor(Math.random()*5)],l=["React","Node.js","TypeScript","Python","Java","PHP","Angular","Vue.js"].slice(0,Math.floor(Math.random()*4)+1),i=Mh(`expert_${t}`,{informationsPersonnelles:{prenom:`Expert${t}`,nom:"Dupont",email:`expert${t}@pitm.com`,telephone:`+226 70 86 73 ${t.toString().padStart(2,"0")}`,motDePasse:"password123",confirmMotDePasse:"password123"},informationsExpert:{domaineExpertise:s.value,competences:l,experience:n,tarifHoraire:Math.floor(Math.random()*1e4)+3e3,disponibilite:["temps-plein","temps-partiel","mission-courte"][Math.floor(Math.random()*3)],bio:`Expert passionn en ${s.label} avec ${n} d'exprience.`,certifications:[],langues:["Franais (natif)","Anglais (courant)"],domainesInteret:[s.value]}});e.push(i)}return e};yt=Vv();const Hv={inscrire:async e=>new Promise((t,s)=>{setTimeout(()=>{try{if(yt.find(o=>o.email===e.informationsPersonnelles.email)){s({success:!1,message:"Cet email est dj utilis"});return}const a=`${e.typeCompte}_${Date.now()}`;let l;e.typeCompte==="expert"?l=Mh(a,e):l=Bv(a,e),yt.push(l);const i=`token_${a}_${Date.now()}`;t({success:!0,utilisateur:l,token:i,message:"Inscription russie ! Bienvenue sur PITM."})}catch{s({success:!1,message:"Erreur lors de l'inscription"})}},1500)}),connecter:async(e,t)=>new Promise((s,n)=>{setTimeout(()=>{const a=yt.find(i=>i.email===e);if(!a){n({success:!1,message:"Email ou mot de passe incorrect"});return}if(a.motDePasse!==t){n({success:!1,message:"Email ou mot de passe incorrect"});return}const l=`token_${a.id}_${Date.now()}`;s({success:!0,utilisateur:a,token:l,message:"Connexion russie"})},1e3)}),obtenirProfil:async e=>new Promise(t=>{setTimeout(()=>{const s=yt.find(n=>n.id===e);t(s||null)},500)}),mettreAJourProfil:async(e,t)=>new Promise((s,n)=>{setTimeout(()=>{const a=yt.findIndex(l=>l.id===e);if(a===-1){n(new Error("Utilisateur non trouv"));return}yt[a]={...yt[a],...t},s(yt[a])},800)}),rechercherExperts:async e=>new Promise(t=>{setTimeout(()=>{let s=yt.filter(n=>n.type==="expert");e&&(e.domaine&&(s=s.filter(n=>n.domaineExpertise===e.domaine)),e.competences&&e.competences.length>0&&(s=s.filter(n=>e.competences.some(a=>n.competences.some(l=>l.toLowerCase().includes(a.toLowerCase()))))),e.tarifMax&&(s=s.filter(n=>n.tarifHoraire<=e.tarifMax)),e.experience&&(s=s.filter(n=>n.experience===e.experience)),e.disponibilite&&(s=s.filter(n=>n.disponibilite===e.disponibilite))),s.sort((n,a)=>a.stats.tauxReussite-n.stats.tauxReussite),t(s)},600)}),changerMotDePasse:async(e,t,s)=>new Promise((n,a)=>{setTimeout(()=>{const l=yt.find(i=>i.id===e);if(!l){a({success:!1,message:"Utilisateur non trouv"});return}if(l.motDePasse!==t){a({success:!1,message:"L'ancien mot de passe est incorrect"});return}l.motDePasse=s,l.confirmMotDePasse=s,n({success:!0,message:"Mot de passe modifi avec succs"})},800)}),obtenirStatistiques:async()=>new Promise(e=>{setTimeout(()=>{const t=yt.filter(i=>i.type==="expert"),s=yt.filter(i=>i.type==="client"),n=t.filter(i=>i.disponibilite&&i.disponibilite!=="indisponible").length,a={};t.forEach(i=>{i.domaineExpertise&&(a[i.domaineExpertise]=(a[i.domaineExpertise]||0)+1)});const l=Object.entries(a).map(([i,o])=>({domaine:i,count:o})).sort((i,o)=>o.count-i.count).slice(0,5);e({totalExperts:t.length,totalClients:s.length,expertsDispo:n,domainesPopulaires:l})},400)})};function Lh({utilisateurId:e}){const[t,s]=h.useState(null),[n,a]=h.useState("apropos"),[l,i]=h.useState(!0);h.useEffect(()=>{o()},[e]);const o=async()=>{try{i(!0);let x=e;if(!x){const w=localStorage.getItem("pitm_utilisateur");w&&(x=JSON.parse(w).id)}if(x){const w=await Hv.obtenirProfil(x);s(w)}}catch(x){console.error("Erreur lors du chargement du profil:",x)}finally{i(!1)}};if(l)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!t)return r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-600",children:"Profil non trouv"})});const c=t.type==="expert"?[{id:"apropos",label:" propos",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"competences",label:"Comptences",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"portfolio",label:"Portfolio",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}]:[{id:"apropos",label:" propos",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})},{id:"entreprise",label:"Entreprise",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{id:"projets",label:"Projets",icon:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}],d=()=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-6",children:r.jsxs("div",{className:"flex items-start gap-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:t.avatar||`https://i.pravatar.cc/200?u=${t.id}`,alt:`${t.prenom} ${t.nom}`,className:"w-24 h-24 rounded-full object-cover ring-4 ring-white shadow-lg"}),t.isVerified&&r.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:[t.prenom," ",t.nom]}),t.type==="expert"&&r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-lg text-primary font-semibold mb-1",children:t.domaineExpertise?t.domaineExpertise.charAt(0).toUpperCase()+t.domaineExpertise.slice(1).replace("-"," "):"Expert"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Burkina Faso"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),t.stats.tauxReussite,"% russite"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),t.tarifHoraire," FCFA/h"]})]})]}),t.type==="client"&&r.jsxs("div",{className:"mb-3",children:[r.jsxs("p",{className:"text-lg text-primary font-semibold mb-1",children:[t.poste," chez ",t.nomEntreprise]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),t.secteurActivite]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),t.tailleEntreprise]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]})]})]}),t.type==="expert"&&r.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.projetsRealises}),r.jsx("p",{className:"text-sm text-gray-600",children:"Projets raliss"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.clientsSatisfaits}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clients satisfaits"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.stats.anciennete}),r.jsx("p",{className:"text-sm text-gray-600",children:"Annes d'exp."})]})]}),t.type==="client"&&r.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.projetsPublies}),r.jsx("p",{className:"text-sm text-gray-600",children:"Projets publis"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.expertsEmbauches}),r.jsx("p",{className:"text-sm text-gray-600",children:"Experts embauchs"})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-800 transition-colors",children:"Contacter"}),r.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Partager"})]})]})}),y=()=>r.jsx("div",{className:"bg-white rounded-xl shadow-sm border mb-6",children:r.jsx("div",{className:"flex border-b border-gray-200",children:c.map(x=>r.jsxs("button",{onClick:()=>a(x.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 transition-colors relative ${n===x.id?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-700"}`,children:[r.jsx("span",{children:x.icon}),r.jsx("span",{className:"font-medium",children:x.label}),n===x.id&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]},x.id))})}),m=()=>{var w,j;const x=t;switch(n){case"apropos":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" propos"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:x.bio})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{className:"text-gray-700",children:x.email})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),r.jsx("span",{className:"text-gray-700",children:x.telephone})]}),x.portfolio&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),r.jsx("a",{href:x.portfolio,className:"text-primary hover:underline",children:"Portfolio"})]})]})]})]});case"competences":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comptences principales"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.competences.map((P,p)=>r.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:P},p))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Langues"}),r.jsx("div",{className:"space-y-2",children:x.langues.map((P,p)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),r.jsx("span",{className:"text-gray-700",children:P})]},p))})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Disponibilit"}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.disponibilite==="indisponible"?"bg-primary/10 text-primary":"bg-green-100 text-green-700"}`,children:((w=x.disponibilite)==null?void 0:w.charAt(0).toUpperCase())+((j=x.disponibilite)==null?void 0:j.slice(1).replace("-"," "))||"Non spcifie"})]})]});case"portfolio":return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Portfolio"}),r.jsxs("div",{className:"text-center py-8 text-gray-600",children:[r.jsx("p",{children:"Aucun projet ajout pour le moment"}),r.jsx("p",{className:"text-sm mt-2",children:"Les projets apparatront ici une fois ajouts"})]})]});default:return null}},g=()=>{const x=t;switch(n){case"apropos":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" propos"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:x.description})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),r.jsx("span",{className:"text-gray-700",children:x.email})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),r.jsx("span",{className:"text-gray-700",children:x.telephone})]}),x.adresse&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-gray-700",children:x.adresse})]}),x.siteWeb&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),r.jsx("a",{href:x.siteWeb,className:"text-primary hover:underline",children:"Site web"})]})]})]})]});case"entreprise":return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Informations entreprise"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Nom de l'entreprise"}),r.jsx("p",{className:"text-gray-900",children:x.nomEntreprise})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Secteur d'activit"}),r.jsx("p",{className:"text-gray-900",children:x.secteurActivite})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Taille de l'entreprise"}),r.jsx("p",{className:"text-gray-900",children:x.tailleEntreprise})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Poste"}),r.jsx("p",{className:"text-gray-900",children:x.poste})]})]})]});case"projets":return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Projets publis"}),r.jsxs("div",{className:"text-center py-8 text-gray-600",children:[r.jsx("p",{children:"Aucun projet publi pour le moment"}),r.jsx("p",{className:"text-sm mt-2",children:"Les projets apparatront ici une fois publis"})]})]});default:return null}};return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[d(),y(),r.jsx("div",{children:t.type==="expert"?m():g()})]})}function Wv(){const{id:e}=mn();return e?r.jsx("div",{className:"min-h-screen bg-slate-50",children:r.jsx(Lh,{utilisateurId:e})}):r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Expert non trouv"})})})}function Jv(){return r.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("div",{className:"w-full h-40 bg-slate-100 rounded-lg mb-4"}),r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Expert ",e]}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Dcouvrez les meilleurs experts dans diffrents domaines"})]},e))})})})}function Qv(){const[e,t]=h.useState([]),[s,n]=h.useState(!0);wr({title:"Mon rseau d'experts"}),h.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0);const i=await fetch("/api/expertise/reseau");if(i.ok){const o=await i.json();t(Array.isArray(o)?o:[])}else t([])}catch(i){console.error("Erreur lors du chargement des experts du rseau:",i),t([])}finally{n(!1)}},l=async i=>{try{(await fetch(`/api/expertise/reseau/${i}`,{method:"DELETE"})).ok&&t(c=>c.filter(d=>d.utilisateurId!==i))}catch(o){console.error("Erreur lors du retrait de l'expert du rseau:",o)}};return s?r.jsx("div",{className:"p-8 flex justify-center items-center min-h-96",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:e.length===0&&!s?r.jsxs("div",{className:"text-center py-16",children:[r.jsx(Jc,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Aucun expert dans votre rseau"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Vous n'avez pas encore ajout d'experts  votre rseau"}),r.jsx(Ke,{to:"/rechercher",className:"btn btn-primary",children:"Rechercher des experts"})]}):r.jsx("div",{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(i=>r.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-all border border-base-300",children:r.jsxs("div",{className:"card-body p-4",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"avatar",children:r.jsx("div",{className:"w-16 h-16 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:i.photoUrl?r.jsx("img",{src:i.photoUrl,alt:i.titre}):r.jsx("div",{className:"bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-2xl",children:i.titre.charAt(0)})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(Ke,{to:`/expertise-profil/${i.utilisateurId}`,className:"font-bold text-base hover:text-primary transition-colors line-clamp-2",children:i.titre}),i.disponible&&r.jsxs("div",{className:"badge badge-success badge-sm gap-1 mt-1",children:[r.jsx(yh,{className:"w-3 h-3"}),"Disponible"]})]})]}),i.localisation&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mb-2",children:[r.jsx(Br,{className:"w-3 h-3"}),r.jsx("span",{className:"truncate",children:i.localisation})]}),i.competences&&i.competences.length>0&&r.jsx("div",{className:"mb-3",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.competences.slice(0,3).map((o,c)=>r.jsx("span",{className:"badge badge-primary badge-xs",children:o.nom},c)),i.competences.length>3&&r.jsxs("span",{className:"badge badge-ghost badge-xs",children:["+",i.competences.length-3]})]})}),r.jsxs("div",{className:"flex gap-2 pt-3 border-t border-base-300",children:[r.jsx(Ke,{to:`/expertise-profil/${i.utilisateurId}`,className:"btn btn-primary btn-sm flex-1",children:"Voir profil"}),r.jsx("button",{onClick:()=>l(i.utilisateurId),className:"btn btn-outline btn-error btn-sm",title:"Retirer du rseau",children:r.jsx(wh,{className:"w-4 h-4"})})]})]})},i.utilisateurId))})})})})}function Au(){const{id:e}=mn(),[t,s]=h.useState(null);return h.useEffect(()=>{if(e)s(e);else{const n=localStorage.getItem("pitm_session");if(n)try{const a=JSON.parse(n);s(a.visiteurId)}catch(a){console.error("Erreur lors de la lecture de la session:",a),s("visiteur_"+Date.now())}else s("visiteur_"+Date.now())}},[e]),t?r.jsx("div",{className:"min-h-screen bg-slate-50",children:r.jsx(Lh,{utilisateurId:t})}):r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600",children:"Chargement du profil..."})})})}class qv{constructor(){bn(this,"API_URL","/api/profil")}async getProfil(){const t=await fetch(this.API_URL,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Erreur lors de la rcupration du profil");return t.json()}async updateProfil(t){const s=await fetch(this.API_URL,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!s.ok){try{const l=s.headers.get("content-type");if(l&&l.includes("application/json")){const i=await s.text();if(i){const o=JSON.parse(i);throw new Error(o.error||"Erreur lors de la mise  jour du profil")}}}catch{}throw new Error(`Erreur ${s.status}: ${s.statusText}`)}const n=s.headers.get("content-type");let a={success:!0,message:"Profil mis  jour",profil:{}};if(n&&n.includes("application/json")){const l=await s.text();if(l)try{a=JSON.parse(l)}catch(i){console.error("Erreur parsing JSON:",i)}}return a}async isProfilComplet(){const t=await fetch(`${this.API_URL}/complet`,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Erreur lors de la vrification du profil");return(await t.json()).profilComplet}}const Du=new qv,Gv=["Dbutant (< 2 ans)","Intermdiaire (2-5 ans)","Confirm (5-10 ans)","Expert (> 10 ans)"];function Xv({formData:e,setFormData:t,domainesInteret:s,setDomainesInteret:n,onSave:a,isSaving:l}){var g;const[i,o]=h.useState([]),[c,d]=h.useState(!0),y=h.useRef(!1);h.useEffect(()=>{(async()=>{try{d(!0);const j=await(await fetch("/api/competences-reference/domaines")).json();if(Array.isArray(j)&&j.length>0)o(j),localStorage.setItem("domaines_cache",JSON.stringify(j)),console.log("Domaines chargs depuis l'API et mis en cache");else throw new Error("Donnes invalides reues de l'API")}catch(w){console.error("Erreur lors du chargement des domaines depuis l'API:",w);const j=localStorage.getItem("domaines_cache");if(j)try{const P=JSON.parse(j);if(Array.isArray(P)&&P.length>0)o(P),console.log("Domaines chargs depuis le cache local (donnes API prcdentes)");else throw new Error("Cache invalide")}catch(P){console.error("Erreur lors du parsing du cache:",P),localStorage.removeItem("domaines_cache"),o([]),console.warn("Cache corrompu supprim - Liste vide en attente de donnes API")}else o([]),console.warn("Aucun cache disponible - Liste vide en attente de donnes API")}finally{d(!1)}})()},[]),h.useEffect(()=>{if(!c&&i.length>0&&!y.current){const x=s.filter(w=>i.includes(w));x.length!==s.length&&(console.log(" Nettoyage des domaines obsoltes:",{avant:s,aprs:x,supprims:s.filter(w=>!i.includes(w))}),n(x)),y.current=!0}},[c,i,s,n]);const m=x=>{s.includes(x)?n(s.filter(w=>w!==x)):n([...s,x])};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:["Informations professionnelles",r.jsx("span",{className:"text-sm text-gray-500 font-normal ml-2",children:"(optionnel)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-2",children:"Domaine d'expertise"}),r.jsxs("select",{value:e.domaineExpertise||"",onChange:x=>t({...e,domaineExpertise:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary",disabled:c||i.length===0,children:[r.jsx("option",{value:"",children:c?"Chargement des domaines...":i.length===0?"Aucun domaine disponible":"Slectionnez un domaine"}),i.map(x=>r.jsx("option",{value:x,children:x},x))]}),!c&&i.length===0&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Impossible de charger les domaines. Veuillez vrifier votre connexion ou ressayer plus tard."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-2",children:"Exprience"}),r.jsxs("select",{value:e.experience||"",onChange:x=>t({...e,experience:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"",children:"Slectionnez"}),Gv.map(x=>r.jsx("option",{value:x,children:x},x))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-2",children:"Biographie / Description"}),r.jsx("textarea",{value:e.biographie||"",onChange:x=>t({...e,biographie:x.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary resize-none",placeholder:"Dcrivez votre parcours, vos spcialits et vos objectifs...",maxLength:2e3}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[((g=e.biographie)==null?void 0:g.length)||0," / 2000 caractres"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-2",children:"Domaines d'intrt"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Types de projets qui vous intressent"}),c?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),r.jsx("p",{children:"Chargement des domaines..."})]}):i.length===0?r.jsxs("div",{className:"text-center py-8 border border-red-200 rounded-lg bg-red-50",children:[r.jsx("p",{className:"text-red-600 mb-2",children:" Aucun domaine disponible"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Veuillez vrifier votre connexion ou ressayer plus tard."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:i.map(x=>r.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"checkbox",checked:s.includes(x),onChange:()=>m(x),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary focus:ring-2"}),r.jsx("span",{className:"ml-3 text-gray-900",children:x})]},x))})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{onClick:a,disabled:l,className:"flex items-center gap-2 px-8 py-3 bg-primary text-white rounded-lg hover:bg-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-lg",children:[r.jsx(wa,{size:20}),l?"Enregistrement...":"Enregistrer"]})})]})}function Kv(){const e=kt(),[t,s]=h.useState("personnel"),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,y]=h.useState(null),[m,g]=h.useState({}),[x,w]=h.useState({typePersonne:"PHYSIQUE",nom:"",prenom:"",telephone:"",dateNaissance:void 0,domaineExpertise:"",experience:"",biographie:""}),[j,P]=h.useState([]);h.useEffect(()=>{p()},[]);const p=async()=>{var E;try{i(!0);const v=await Du.getProfil();a(v);const T=v.informationsPersonnelles,N=v.informationsProfessionnelles;w({typePersonne:T.typePersonne||"PHYSIQUE",nom:T.nom||"",prenom:T.prenom||"",telephone:T.telephone||"",dateNaissance:T.dateNaissance,domaineExpertise:N.domaineExpertise||"",experience:N.experience||"",biographie:N.biographie||""}),console.log(" [FRONTEND] Domaines d'intrt reus du backend:",N.domainesInteret),P(N.domainesInteret||[]),console.log(" [FRONTEND] State domainesInteret initialis")}catch(v){console.error("Erreur lors du chargement du profil:",v),(E=v==null?void 0:v.message)!=null&&E.includes("401")?(u("error","Veuillez vous connecter pour accder  votre profil"),setTimeout(()=>e("/"),2e3)):u("error","Erreur lors du chargement du profil")}finally{i(!1)}},u=(E,v)=>{y({type:E,texte:v}),setTimeout(()=>y(null),5e3)},f=()=>{var v,T,N;const E={};return(v=x.nom)!=null&&v.trim()||(E.nom="Le nom est obligatoire"),x.typePersonne==="PHYSIQUE"&&!((T=x.prenom)!=null&&T.trim())&&(E.prenom="Le prnom est obligatoire pour une personne physique"),(N=x.telephone)!=null&&N.trim()?/^\+?[0-9]{10,15}$/.test(x.telephone.replace(/\s/g,""))||(E.telephone="Format de tlphone invalide"):E.telephone="Le tlphone est obligatoire",x.dateNaissance||(E.dateNaissance=x.typePersonne==="PHYSIQUE"?"La date de naissance est obligatoire":"La date de cration est obligatoire"),g(E),Object.keys(E).length===0},b=async()=>{var E;if(!f()){u("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const v={...x,domainesInteret:JSON.stringify(j)};console.log(" [FRONTEND] Domaines d'intrt envoys:",j),console.log(" [FRONTEND] Domaines d'intrt JSON:",v.domainesInteret),x.typePersonne==="MORALE"&&(v.prenom="");const T=await Du.updateProfil(v);a(T.profil),console.log(" [FRONTEND] Rponse du serveur - domaines d'intrt:",(E=T.profil.informationsProfessionnelles)==null?void 0:E.domainesInteret),T.profil.informationsProfessionnelles&&(P(T.profil.informationsProfessionnelles.domainesInteret||[]),console.log(" [FRONTEND] State domainesInteret synchronis aprs sauvegarde")),u("success",T.message),T.profil.profilComplet&&setTimeout(()=>{e("/")},2e3)}catch(v){console.error("Erreur lors de la sauvegarde:",v),u("error",v.message||"Erreur lors de la sauvegarde du profil")}finally{c(!1)}},S=n!=null&&n.hasOAuthProvider?[{id:"personnel",label:"Informations gnrales",icon:Ls},{id:"professionnel",label:"Informations professionnelles",icon:gr}]:[{id:"personnel",label:"Informations gnrales",icon:Ls},{id:"motdepasse",label:"Mot de passe",icon:Cu},{id:"professionnel",label:"Informations professionnelles",icon:gr}];return l?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement du profil..."})]})}):r.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[!(n!=null&&n.profilComplet)&&r.jsx("div",{className:"mb-6 p-4 bg-amber-50 border-l-4 border-amber-500 rounded-r-lg",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(ms,{className:"text-amber-600 flex-shrink-0 mt-0.5",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-amber-900",children:"Profil incomplet"}),r.jsx("p",{className:"text-amber-700 text-sm mt-1",children:`Veuillez remplir tous les champs obligatoires (*) dans l'onglet "Informations gnrales" pour exploiter toutes les fonctionnalits de la plateforme.`})]})]})}),d&&r.jsxs("div",{className:`mb-6 px-4 py-3 rounded-lg flex items-center gap-3 ${d.type==="success"?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[d.type==="success"?r.jsx(Xn,{size:20,className:"flex-shrink-0"}):r.jsx(ms,{size:20,className:"flex-shrink-0"}),r.jsx("span",{children:d.texte})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"flex border-b border-gray-200",children:S.map(E=>{const v=E.icon;return r.jsxs("button",{onClick:()=>s(E.id),className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition-all relative ${t===E.id?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsx(v,{size:20}),r.jsx("span",{className:"hidden sm:inline",children:E.label}),t===E.id&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]},E.id)})}),r.jsxs("div",{className:"p-8",children:[t==="personnel"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-3",children:"Type de compte *"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{type:"button",onClick:()=>{w(E=>({...E,typePersonne:"PHYSIQUE"})),g(E=>({...E,prenom:""}))},className:`p-4 border-2 rounded-lg transition-all ${x.typePersonne==="PHYSIQUE"?"border-primary bg-primary/5 shadow-sm":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx(Ls,{className:"mx-auto mb-2",size:24}),r.jsx("div",{className:"font-medium text-gray-900",children:"Personne physique"}),r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Particulier"})]}),r.jsxs("button",{type:"button",onClick:()=>{w(E=>({...E,typePersonne:"MORALE",prenom:""})),g(E=>({...E,prenom:""}))},className:`p-4 border-2 rounded-lg transition-all ${x.typePersonne==="MORALE"?"border-primary bg-primary/5 shadow-sm":"border-gray-300 hover:border-gray-400"}`,children:[r.jsx(gr,{className:"mx-auto mb-2",size:24}),r.jsx("div",{className:"font-medium text-gray-900",children:"Personne morale"}),r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Entreprise, association"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.typePersonne==="PHYSIQUE"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-gray-900 font-medium mb-2 flex items-center gap-2",children:[r.jsx(Ls,{size:16}),"Prnom *"]}),r.jsx("input",{type:"text",value:x.prenom,onChange:E=>w(v=>({...v,prenom:E.target.value})),className:`w-full px-4 py-3 border rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary ${m.prenom?"border-red-500":"border-gray-300"}`,placeholder:"Votre prnom"}),m.prenom&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.prenom})]}),r.jsxs("div",{className:x.typePersonne==="MORALE"?"md:col-span-2":"",children:[r.jsxs("label",{className:"block text-gray-900 font-medium mb-2 flex items-center gap-2",children:[r.jsx(Ls,{size:16}),x.typePersonne==="MORALE"?"Nom de l'organisation *":"Nom *"]}),r.jsx("input",{type:"text",value:x.nom,onChange:E=>w(v=>({...v,nom:E.target.value})),className:`w-full px-4 py-3 border rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary ${m.nom?"border-red-500":"border-gray-300"}`,placeholder:x.typePersonne==="MORALE"?"Nom de votre organisation":"Votre nom"}),m.nom&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.nom})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-gray-900 font-medium mb-2 flex items-center gap-2",children:[r.jsx(gh,{size:16}),x.typePersonne==="PHYSIQUE"?"Date de naissance *":"Date de cration *"]}),r.jsx("input",{type:"date",value:x.dateNaissance||"",onChange:E=>w(v=>({...v,dateNaissance:E.target.value})),className:`w-full px-4 py-3 border rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary ${m.dateNaissance?"border-red-500":"border-gray-300"}`,max:new Date().toISOString().split("T")[0]}),m.dateNaissance&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.dateNaissance}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.typePersonne==="PHYSIQUE"?"Votre date de naissance":"Date de cration de l'organisation"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-gray-900 font-medium mb-2 flex items-center gap-2",children:[r.jsx(Nh,{size:16}),"Email"]}),r.jsx("input",{type:"email",value:(n==null?void 0:n.informationsPersonnelles.email)||"",disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"L'email ne peut pas tre modifi"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-gray-900 font-medium mb-2 flex items-center gap-2",children:[r.jsx(pv,{size:16}),"Tlphone *"]}),r.jsx("input",{type:"tel",value:x.telephone,onChange:E=>w(v=>({...v,telephone:E.target.value})),className:`w-full px-4 py-3 border rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary ${m.telephone?"border-red-500":"border-gray-300"}`,placeholder:"+228 XX XX XX XX"}),m.telephone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.telephone})]}),r.jsx("div",{className:"flex justify-end pt-4",children:r.jsxs("button",{onClick:b,disabled:o,className:"flex items-center gap-2 px-8 py-3 bg-primary text-white rounded-lg hover:bg-primary-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-lg",children:[r.jsx(wa,{size:20}),o?"Enregistrement...":"Enregistrer"]})})]}),t==="motdepasse"&&!(n!=null&&n.hasOAuthProvider)&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Modifier le mot de passe"}),r.jsxs("div",{className:"text-center py-12 text-gray-600",children:[r.jsx(Cu,{size:48,className:"mx-auto mb-4 text-gray-400"}),r.jsx("p",{children:"Fonctionnalit de modification du mot de passe  implmenter"})]})]}),t==="professionnel"&&r.jsx(Xv,{formData:x,setFormData:w,domainesInteret:j,setDomainesInteret:P,onSave:b,isSaving:o})]})]})]})}const _u=[{id:"comp_react",nom:"React",description:"Bibliothque JavaScript pour crer des interfaces utilisateur interactives",categorie:"Dveloppement Web",icone:""},{id:"comp_vue",nom:"Vue.js",description:"Framework JavaScript progressif pour construire des interfaces web modernes",categorie:"Dveloppement Web",icone:""},{id:"comp_angular",nom:"Angular",description:"Framework TypeScript complet pour applications web d'entreprise",categorie:"Dveloppement Web",icone:""},{id:"comp_nodejs",nom:"Node.js",description:"Environnement d'excution JavaScript ct serveur",categorie:"Dveloppement Backend",icone:""},{id:"comp_express",nom:"Express.js",description:"Framework web minimaliste et flexible pour Node.js",categorie:"Dveloppement Backend",icone:""},{id:"comp_typescript",nom:"TypeScript",description:"Superset typ de JavaScript qui compile en JavaScript pur",categorie:"Dveloppement Web",icone:""},{id:"comp_javascript",nom:"JavaScript",description:"Langage de programmation pour le web dynamique et interactif",categorie:"Dveloppement Web",icone:""},{id:"comp_html_css",nom:"HTML/CSS",description:"Langages de balisage et de style pour structurer et designer le web",categorie:"Dveloppement Web",icone:""},{id:"comp_tailwind",nom:"Tailwind CSS",description:"Framework CSS utilitaire pour crer rapidement des designs personnaliss",categorie:"Dveloppement Web",icone:""},{id:"comp_python",nom:"Python",description:"Langage polyvalent pour dveloppement web, data science et automatisation",categorie:"Dveloppement Backend",icone:""},{id:"comp_django",nom:"Django",description:"Framework Python de haut niveau pour dveloppement web rapide",categorie:"Dveloppement Backend",icone:""},{id:"comp_flask",nom:"Flask",description:"Micro-framework Python lger et flexible pour applications web",categorie:"Dveloppement Backend",icone:""},{id:"comp_php",nom:"PHP",description:"Langage de script ct serveur pour dveloppement web dynamique",categorie:"Dveloppement Backend",icone:""},{id:"comp_laravel",nom:"Laravel",description:"Framework PHP lgant pour applications web avec syntaxe expressive",categorie:"Dveloppement Backend",icone:""},{id:"comp_java",nom:"Java",description:"Langage orient objet robuste pour applications d'entreprise",categorie:"Dveloppement Backend",icone:""},{id:"comp_spring",nom:"Spring Boot",description:"Framework Java pour crer des applications robustes et scalables",categorie:"Dveloppement Backend",icone:""},{id:"comp_react_native",nom:"React Native",description:"Framework pour crer des apps mobiles natives avec React",categorie:"Dveloppement Mobile",icone:""},{id:"comp_flutter",nom:"Flutter",description:"Framework Google pour crer des apps multi-plateformes",categorie:"Dveloppement Mobile",icone:""},{id:"comp_swift",nom:"Swift",description:"Langage Apple pour dveloppement iOS et macOS natif",categorie:"Dveloppement Mobile",icone:""},{id:"comp_kotlin",nom:"Kotlin",description:"Langage moderne pour dveloppement Android natif",categorie:"Dveloppement Mobile",icone:""},{id:"comp_mysql",nom:"MySQL",description:"Systme de gestion de base de donnes relationnelle open-source",categorie:"Base de donnes",icone:""},{id:"comp_postgresql",nom:"PostgreSQL",description:"Base de donnes relationnelle avance et conforme aux standards",categorie:"Base de donnes",icone:""},{id:"comp_mongodb",nom:"MongoDB",description:"Base de donnes NoSQL oriente documents flexible et scalable",categorie:"Base de donnes",icone:""},{id:"comp_redis",nom:"Redis",description:"Stockage de donnes en mmoire pour cache et messages",categorie:"Base de donnes",icone:""},{id:"comp_figma",nom:"Figma",description:"Outil de design collaboratif pour interfaces et prototypes",categorie:"Design",icone:""},{id:"comp_adobe_xd",nom:"Adobe XD",description:"Solution Adobe pour design et prototypage d'expriences",categorie:"Design",icone:""},{id:"comp_photoshop",nom:"Photoshop",description:"Logiciel de retouche et cration d'images professionnelles",categorie:"Design",icone:""},{id:"comp_illustrator",nom:"Illustrator",description:"Cration de graphiques vectoriels et illustrations",categorie:"Design",icone:""},{id:"comp_ui_ux",nom:"UI/UX Design",description:"Conception d'interfaces et d'expriences utilisateur optimales",categorie:"Design",icone:""},{id:"comp_docker",nom:"Docker",description:"Plateforme de conteneurisation pour dploiement d'applications",categorie:"DevOps",icone:""},{id:"comp_kubernetes",nom:"Kubernetes",description:"Orchestration de conteneurs pour applications cloud-native",categorie:"DevOps",icone:""},{id:"comp_aws",nom:"AWS",description:"Services cloud Amazon pour infrastructure et dploiement",categorie:"Cloud",icone:""},{id:"comp_azure",nom:"Microsoft Azure",description:"Plateforme cloud Microsoft pour applications d'entreprise",categorie:"Cloud",icone:""},{id:"comp_gcp",nom:"Google Cloud",description:"Infrastructure cloud Google pour applications scalables",categorie:"Cloud",icone:""},{id:"comp_git",nom:"Git",description:"Systme de contrle de version distribu pour code source",categorie:"DevOps",icone:""},{id:"comp_machine_learning",nom:"Machine Learning",description:"Algorithmes d'apprentissage automatique et modles prdictifs",categorie:"Data Science",icone:""},{id:"comp_tensorflow",nom:"TensorFlow",description:"Framework open-source pour machine learning et deep learning",categorie:"Data Science",icone:""},{id:"comp_data_analysis",nom:"Analyse de donnes",description:"Exploration et visualisation de donnes pour insights business",categorie:"Data Science",icone:""},{id:"comp_seo",nom:"SEO",description:"Optimisation pour moteurs de recherche et visibilit web",categorie:"Marketing Digital",icone:""},{id:"comp_google_ads",nom:"Google Ads",description:"Publicit en ligne sur Google et rseau display",categorie:"Marketing Digital",icone:""},{id:"comp_social_media",nom:"Social Media Marketing",description:"Stratgies marketing sur rseaux sociaux",categorie:"Marketing Digital",icone:""},{id:"comp_content_writing",nom:"Rdaction de contenu",description:"Cration de textes engageants pour web et marketing",categorie:"Communication",icone:""},{id:"comp_gestion_projet",nom:"Gestion de projet",description:"Planification et coordination de projets complexes",categorie:"Management",icone:""},{id:"comp_agile_scrum",nom:"Agile/Scrum",description:"Mthodologies agiles pour dveloppement itratif",categorie:"Management",icone:""}],Yv={titre:"",description:"",disponible:!0};let Ho=null;const Zv=e=>{Ho=e},ey=e=>{(e===401||e===403)&&Ho&&(console.log(` [AUTH ERROR HANDLER] Erreur ${e} dtecte, ouverture du modal`),Ho())},tr=async(e,t)=>{const s=await fetch(e,t);return(s.status===401||s.status===403)&&ey(s.status),s};class ty{constructor(){bn(this,"BASE_URL","/api/expertise")}async getExpertiseComplete(){const t=await tr(this.BASE_URL,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la rcupration de l'expertise: ${t.status}`);return await t.json()}async getMonExpertise(){const t=await tr(`${this.BASE_URL}/mon-expertise`,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la rcupration de l'expertise: ${t.status}`);return await t.json()}async saveExpertise(t){const s=await tr(`${this.BASE_URL}/mon-expertise`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`Erreur lors de la sauvegarde de l'expertise: ${s.status}`);return await s.json()}async publierExpertise(){const t=await tr(`${this.BASE_URL}/mon-expertise/publier`,{method:"PUT",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la publication de l'expertise: ${t.status}`);return await t.json()}async depublierExpertise(){const t=await tr(`${this.BASE_URL}/mon-expertise/depublier`,{method:"PUT",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la dpublication de l'expertise: ${t.status}`);return await t.json()}async getExpertisesPubliees(){const t=await fetch(`${this.BASE_URL}/public/expertises`,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la rcupration des expertises: ${t.status}`);return await t.json()}async getCompetences(){const t=await tr(`${this.BASE_URL}/competences`,{credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Erreur lors de la rcupration des comptences: ${t.status}`);return await t.json()}async addCompetence(t){const s=await tr(`${this.BASE_URL}/competences`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`Erreur lors de l'ajout de la comptence: ${s.status}`);return await s.json()}async updateCompetence(t,s){const n=await tr(`${this.BASE_URL}/competences/${t}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)});if(!n.ok)throw new Error(`Erreur lors de la mise  jour de la comptence: ${n.status}`);return await n.json()}async deleteCompetence(t){const s=await tr(`${this.BASE_URL}/competences/${t}`,{method:"DELETE",credentials:"include"});if(!s.ok)throw new Error(`Erreur lors de la suppression de la comptence: ${s.status}`)}async getCompetenceUtilisateur(t,s){const n=await tr(`${this.BASE_URL}/utilisateur/${t}/competence/${s}`,{credentials:"include",headers:{Accept:"application/json"}});if(!n.ok)throw new Error(`Erreur lors de la rcupration de la comptence: ${n.status}`);return await n.json()}}const dr=new ty,Bt="/api/reconnaissance-competences",ot={async soumettreDemande(e){const t=await fetch(Bt,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const s=await t.text();throw new Error(s||"Erreur lors de la soumission de la demande")}return t.json()},async ajouterPieceJustificative(e,t,s,n){const a=new FormData;a.append("file",t),a.append("typePiece",s),n&&a.append("description",n);const l=await fetch(`${Bt}/${e}/pieces`,{method:"POST",credentials:"include",body:a});if(!l.ok){const i=await l.text();throw new Error(i||"Erreur lors de l'ajout de la pice justificative")}return l.json()},async getMesDemandes(){const e=await fetch(`${Bt}/mes-demandes`,{credentials:"include"});if(!e.ok)throw new Error("Erreur lors de la rcupration des demandes");return e.json()},async getDemandeDetails(e){const t=await fetch(`${Bt}/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la rcupration des dtails");return t.json()},async annulerDemande(e){const t=await fetch(`${Bt}/${e}/annuler`,{method:"PUT",credentials:"include"});if(!t.ok){const s=await t.text();throw new Error(s||"Erreur lors de l'annulation de la demande")}},async resoumettreApresComplement(e,t){const s=await fetch(`${Bt}/${e}/resoumettre`,{method:"PUT",headers:{"Content-Type":"text/plain"},credentials:"include",body:t||""});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de la resoumission")}return s.json()},async supprimerPiece(e,t){const s=await fetch(`${Bt}/${e}/pieces/${t}`,{method:"DELETE",credentials:"include"});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de la suppression de la pice")}},async getMesBadges(e=!0){const t=await fetch(`${Bt}/badges/mes-badges?actifSeulement=${e}`,{credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la rcupration des badges");return t.json()},async toggleVisibiliteBadge(e){const t=await fetch(`${Bt}/badges/${e}/visibilite`,{method:"PUT",credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la modification de la visibilit");return t.json()},async definirOrdreBadges(e){if(!(await fetch(`${Bt}/badges/ordre`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).ok)throw new Error("Erreur lors de la dfinition de l'ordre")},async getBadgesExpert(e){const t=await fetch(`${Bt}/badges/expert/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la rcupration des badges de l'expert");return t.json()}};var de=(e=>(e.EN_ATTENTE="EN_ATTENTE",e.EN_COURS_TRAITEMENT="EN_COURS_TRAITEMENT",e.COMPLEMENT_REQUIS="COMPLEMENT_REQUIS",e.APPROUVEE="APPROUVEE",e.REJETEE="REJETEE",e.ANNULEE="ANNULEE",e))(de||{}),se=(e=>(e.BRONZE="BRONZE",e.ARGENT="ARGENT",e.OR="OR",e.PLATINE="PLATINE",e))(se||{}),sr=(e=>(e.CERTIFICAT="CERTIFICAT",e.DIPLOME="DIPLOME",e.PROJET="PROJET",e.RECOMMANDATION="RECOMMANDATION",e.EXPERIENCE="EXPERIENCE",e.PUBLICATION="PUBLICATION",e.AUTRE="AUTRE",e))(sr||{}),$n=(e=>(e.APPROUVER="APPROUVER",e.REJETER="REJETER",e.DEMANDER_COMPLEMENT="DEMANDER_COMPLEMENT",e.EN_COURS="EN_COURS",e))($n||{});function Ea({message:e,type:t,isOpen:s,onClose:n,duration:a=4e3}){if(h.useEffect(()=>{if(s&&a>0){const c=setTimeout(()=>{n()},a);return()=>clearTimeout(c)}},[s,a,n]),!s)return null;const i={success:{bg:"bg-success",icon:Xn,alertClass:"alert-success"},error:{bg:"bg-error",icon:Hc,alertClass:"alert-error"},warning:{bg:"bg-warning",icon:ms,alertClass:"alert-warning"},info:{bg:"bg-info",icon:uv,alertClass:"alert-info"}}[t],o=i.icon;return r.jsx("div",{className:"fixed top-4 right-4 z-[9999] animate-in slide-in-from-top-2 duration-300",children:r.jsxs("div",{className:`alert ${i.alertClass} shadow-lg max-w-md`,children:[r.jsx(o,{size:24}),r.jsx("span",{className:"font-medium",children:e}),r.jsx("button",{onClick:n,className:"btn btn-sm btn-circle btn-ghost",children:r.jsx(Ns,{size:18})})]})})}const ry={[se.BRONZE]:" Bronze - Dbutant",[se.ARGENT]:" Argent - Intermdiaire",[se.OR]:" Or - Avanc",[se.PLATINE]:" Platine - Expert"},Iu={[sr.CERTIFICAT]:"Certificat",[sr.DIPLOME]:"Diplme",[sr.PROJET]:"Projet",[sr.RECOMMANDATION]:"Recommandation",[sr.EXPERIENCE]:"Exprience",[sr.PUBLICATION]:"Publication",[sr.AUTRE]:"Autre"};function sy({isOpen:e,onClose:t,competenceId:s,competenceNom:n,onSuccess:a}){const[l,i]=h.useState("justification"),[o,c]=h.useState(se.BRONZE),[d,y]=h.useState(""),[m,g]=h.useState([]),[x,w]=h.useState(!1),[j,P]=h.useState(null),[p,u]=h.useState({isOpen:!1,message:"",type:"success"}),[f,b]=h.useState(sr.CERTIFICAT),[S,E]=h.useState(""),v=O=>{const B=O.target.files;B&&B[0]&&(g([...m,{file:B[0],typePiece:f,description:S||B[0].name}]),E(""),O.target.value="")},T=O=>{g(m.filter((B,oe)=>oe!==O))},N=async()=>{if(!d.trim()){P("Veuillez fournir une justification");return}try{w(!0),P(null);const O=await ot.soumettreDemande({competenceId:s,commentaire:d,niveauVise:o});for(const B of m)await ot.ajouterPieceJustificative(O.id,B.file,B.typePiece,B.description);a&&a(),u({isOpen:!0,message:" Demande de reconnaissance soumise avec succs !",type:"success"}),setTimeout(()=>{t(),R()},2e3)}catch(O){P(O instanceof Error?O.message:"Erreur lors de la soumission")}finally{w(!1)}},R=()=>{i("justification"),c(se.BRONZE),y(""),g([]),P(null)},U=()=>{x||(R(),t())};return e?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:U,children:[r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:O=>O.stopPropagation(),children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:" Demande de reconnaissance"}),r.jsx("p",{className:"text-gray-600 text-sm",children:n})]}),r.jsx("button",{onClick:U,disabled:x,className:"p-2 hover:bg-gray-100 rounded-full",children:r.jsx(Ns,{size:24})})]}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`flex-1 h-2 rounded ${l==="justification"?"bg-blue-500":"bg-green-500"}`}),r.jsx("div",{className:`flex-1 h-2 rounded ${l==="pieces"?"bg-blue-500":"bg-gray-300"}`})]}),r.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[r.jsx("span",{className:l==="justification"?"font-semibold text-blue-600":"text-gray-600",children:"1. Justification"}),r.jsx("span",{className:l==="pieces"?"font-semibold text-blue-600":"text-gray-600",children:"2. Pices justificatives"})]})]}),j&&r.jsx("div",{className:"mx-6 mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:j}),r.jsxs("div",{className:"p-6 space-y-6",children:[l==="justification"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block font-semibold mb-3",children:"Niveau de certification vis"}),r.jsx("div",{className:"space-y-2",children:Object.entries(ry).map(([O,B])=>r.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[r.jsx("input",{type:"radio",name:"niveau",value:O,checked:o===O,onChange:oe=>c(oe.target.value),className:"w-4 h-4"}),r.jsx("span",{children:B})]},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block font-semibold mb-2",children:"Justification *"}),r.jsx("textarea",{value:d,onChange:O=>y(O.target.value),rows:6,className:"w-full border rounded-lg p-3",placeholder:`Expliquez pourquoi vous mritez cette certification

Exemples :
- Annes d'exprience
- Projets raliss
- Formations suivies
- Certifications obtenues...`,disabled:x}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.length,"/1000 caractres"]})]})]}),l==="pieces"&&r.jsx(r.Fragment,{children:r.jsxs("div",{children:[r.jsx("label",{className:"block font-semibold mb-3",children:"Pices justificatives"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Ajoutez des documents pour appuyer votre demande (certificats, projets, recommandations...)"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type de document"}),r.jsx("select",{value:f,onChange:O=>b(O.target.value),className:"w-full border rounded px-3 py-2",children:Object.entries(Iu).map(([O,B])=>r.jsx("option",{value:O,children:B},O))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx("input",{type:"text",value:S,onChange:O=>E(O.target.value),placeholder:"Ex: Certificat Oracle Java",className:"w-full border rounded px-3 py-2"})]})]}),r.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-50 border-2 border-blue-300 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors",children:[r.jsx(Wc,{size:20,className:"text-blue-600"}),r.jsx("span",{className:"text-blue-600 font-medium",children:"Choisir un fichier"}),r.jsx("input",{type:"file",onChange:v,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif"})]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"PDF, DOC, DOCX, images (max 10 MB)"})]}),m.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"font-medium",children:[m.length," fichier(s) ajout(s)"]}),m.map((O,B)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:O.file.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Iu[O.typePiece]," - ",O.description]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(O.file.size/1024).toFixed(0)," Ko"]})]}),r.jsx("button",{onClick:()=>T(B),className:"p-2 text-red-500 hover:bg-red-100 rounded",children:r.jsx(qt,{size:18})})]},B))]})]})]})})]}),r.jsx("div",{className:"sticky bottom-0 bg-white border-t px-6 py-4 flex justify-between",children:l==="justification"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:U,disabled:x,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:"Annuler"}),r.jsx("button",{onClick:()=>i("pieces"),disabled:!d.trim()||x,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:"Continuer "})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>i("justification"),disabled:x,className:"px-6 py-2 border rounded-lg hover:bg-gray-50",children:" Retour"}),r.jsx("button",{onClick:N,disabled:x,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 flex items-center gap-2",children:x?"Envoi...":" Soumettre la demande"})]})})]}),r.jsx(Ea,{message:p.message,type:p.type,isOpen:p.isOpen,onClose:()=>u({...p,isOpen:!1}),duration:4e3})]}):null}const ny=({onSave:e})=>{const[t,s]=h.useState(Yv),[n,a]=h.useState([]),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,y]=h.useState(!1),[m,g]=h.useState(null),[x,w]=h.useState(null),[j,P]=h.useState(!1),[p,u]=h.useState(!1),[f,b]=h.useState(null),[S,E]=h.useState([]),[v,T]=h.useState(!1),[N,R]=h.useState(!1),[U,O]=h.useState(null),[B,oe]=h.useState(!1),[Ne,je]=h.useState([]),[ze,_]=h.useState(!1),[X,G]=h.useState(!1),[ae,D]=h.useState(""),[J,le]=h.useState([]),[ue,Me]=h.useState([]),[De,lt]=h.useState(!1),[or,_t]=h.useState(!1),[C,W]=h.useState(""),[K,F]=h.useState(!1),[H,We]=h.useState(null),[It,ci]=h.useState([]),[Ca,di]=h.useState([]);h.useEffect(()=>{Sa(),La()},[]),h.useEffect(()=>{t.localisationComplete&&W(t.localisationComplete)},[t.localisationComplete]);const Sa=async()=>{try{i(!0);const L=await dr.getMonExpertise();s(L),await ui()}catch(L){console.error("Erreur lors du chargement de l'expertise:",L),g({type:"error",text:"Erreur lors du chargement de l'expertise"})}finally{i(!1)}},ui=async()=>{try{const L=await dr.getCompetences();a(L)}catch(L){console.error("Erreur lors du chargement des comptences:",L)}},fn=()=>{const L=[];return(!t.titre||t.titre.trim()==="")&&L.push("Le titre professionnel est obligatoire"),(!t.description||t.description.trim()==="")&&L.push("La description est obligatoire"),t.villeId||L.push("La localisation est obligatoire"),n.length===0&&L.push("Au moins une comptence doit tre ajoute"),{valide:L.length===0,raisons:L}},mt=(L,$)=>{s(te=>({...te,[L]:$}))},es=async()=>{try{c(!0),g(null),await dr.saveExpertise(t),g({type:"success",text:"Expertise sauvegarde avec succs !"}),e&&e()}catch(L){console.error("Erreur lors de la sauvegarde:",L),g({type:"error",text:"Erreur lors de la sauvegarde de l'expertise"})}finally{c(!1)}},ka=async L=>{if(L){const $=fn();if(!$.valide){g({type:"error",text:`Impossible de publier l'expertise. Veuillez complter les informations suivantes : ${$.raisons.join(", ")}`});return}}try{y(!0),g(null);const $={...t,publiee:L},te=await dr.saveExpertise($);s(te),g(L?{type:"success",text:"Expertise publie avec succs ! Elle est maintenant visible sur la page d'accueil."}:{type:"success",text:"Expertise dpublie. Elle n'est plus visible sur la page d'accueil."}),e&&e()}catch($){console.error("Erreur lors de la publication/dpublication:",$),g({type:"error",text:"Erreur lors de la mise  jour du statut de publication"}),s({...t,publiee:!L})}finally{y(!1)}},xn=()=>{if(n.length>=6){g({type:"error",text:"Vous ne pouvez pas ajouter plus de 6 comptences"});return}w({nom:"",description:"",niveauMaitrise:3,anneesExperience:0,thm:void 0,nombreProjets:0,certifications:"",estFavorite:!1}),oe(!1),O(null),le([]),D(""),P(!0)},Ot=async L=>{if(!L||L.length<2){E([]),T(!1);return}try{R(!0);const te=await(await fetch(`/api/competences-reference/recherche?terme=${encodeURIComponent(L)}`)).json(),be=n.filter(tt=>!(x!=null&&x.id)||tt.id!==x.id).map(tt=>tt.nom.toLowerCase()),ke=te.filter(tt=>!be.includes(tt.libelle.toLowerCase()));E(ke.slice(0,10)),T(!0)}catch($){console.error("Erreur lors de la recherche:",$),E([])}finally{R(!1)}},zt=async()=>{try{R(!0);const $=await(await fetch("/api/competences-reference/populaires?limit=10")).json(),te=n.filter(ke=>!(x!=null&&x.id)||ke.id!==x.id).map(ke=>ke.nom.toLowerCase()),be=$.filter(ke=>!te.includes(ke.libelle.toLowerCase()));E(be),T(!0)}catch(L){console.error("Erreur lors du chargement des comptences populaires:",L),E([])}finally{R(!1)}},Pa=L=>{x&&(w({...x,nom:L.libelle,description:L.description||""}),O(L.id),oe(!0)),T(!1),E([])},ws=L=>{if(w(L),oe(!0),O(L.competenceReferenceId||null),L.certifications){const $=L.certifications.split(",").map(te=>te.trim()).filter(te=>te);le($)}else le([]);D(""),P(!0)},mi=async()=>{if(!x||!x.nom.trim()){g({type:"error",text:"Veuillez slectionner une comptence du rfrentiel"});return}if(!B&&!x.id){g({type:"error",text:"Vous devez slectionner une comptence depuis la liste propose"});return}try{if(x.id){const L=n.find(Je=>Je.id===x.id),$=L==null?void 0:L.competenceReferenceId,te=U,be=L!=null&&L.certifications?L.certifications.split(",").map(Je=>Je.trim()).filter(Je=>Je):[],ke=J,tt={...x,competenceReferenceId:te||x.competenceReferenceId},Ft=await dr.updateCompetence(x.id,tt);if(a(Je=>Je.map(Cs=>Cs.id===Ft.id?Ft:Cs)),g({type:"success",text:"Comptence mise  jour !"}),te&&$!==te)try{$&&await fetch(`/api/competences-reference/${$}/retirer`,{method:"POST"}),await fetch(`/api/competences-reference/${te}/utiliser`,{method:"POST"})}catch(Je){console.error("Erreur lors de la mise  jour de la popularit:",Je)}try{const Je=be.filter($t=>!ke.includes($t)),Cs=ke.filter($t=>!be.includes($t));for(const $t of Je){const M=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent($t)}`)).json();if(M&&M.length>0){const A=M.find(I=>I.intitule===$t);A&&await fetch(`/api/certifications/${A.id}/retirer`,{method:"POST"})}}for(const $t of Cs){const M=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent($t)}`)).json();if(M&&M.length>0){const A=M.find(I=>I.intitule===$t);A&&await fetch(`/api/certifications/${A.id}/utiliser`,{method:"POST"})}}}catch(Je){console.error("Erreur lors de la mise  jour de la popularit des certifications:",Je)}}else{const L={...x,competenceReferenceId:U||void 0},$=await dr.addCompetence(L);if(a(te=>[...te,$]),g({type:"success",text:"Comptence ajoute !"}),U)try{await fetch(`/api/competences-reference/${U}/utiliser`,{method:"POST"})}catch(te){console.error("Erreur lors de l'incrmentation de la popularit:",te)}if(J.length>0)try{for(const te of J){const ke=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent(te)}`)).json();if(ke&&ke.length>0){const tt=ke.find(Ft=>Ft.intitule===te);tt&&await fetch(`/api/certifications/${tt.id}/utiliser`,{method:"POST"})}}}catch(te){console.error("Erreur lors de l'incrmentation de la popularit des certifications:",te)}}P(!1),w(null),O(null),oe(!1)}catch(L){console.error("Erreur lors de la sauvegarde de la comptence:",L),g({type:"error",text:"Erreur lors de la sauvegarde de la comptence"})}},Yt=(L,$)=>{b({id:L,nom:$}),u(!0)},Ta=async()=>{if(f)try{const L=n.find($=>$.id===f.id);if(await dr.deleteCompetence(f.id),a($=>$.filter(te=>te.id!==f.id)),g({type:"success",text:"Comptence supprime !"}),L!=null&&L.competenceReferenceId)try{await fetch(`/api/competences-reference/${L.competenceReferenceId}/retirer`,{method:"POST"})}catch($){console.error("Erreur lors de la dcrmentation de la popularit de la comptence:",$)}if(L!=null&&L.certifications){const $=L.certifications.split(",").map(te=>te.trim()).filter(te=>te);try{for(const te of $){const ke=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent(te)}`)).json();if(ke&&ke.length>0){const tt=ke.find(Ft=>Ft.intitule===te);tt&&await fetch(`/api/certifications/${tt.id}/retirer`,{method:"POST"})}}}catch(te){console.error("Erreur lors de la dcrmentation de la popularit des certifications:",te)}}u(!1),b(null)}catch(L){console.error("Erreur lors de la suppression:",L),g({type:"error",text:"Erreur lors de la suppression de la comptence"}),u(!1),b(null)}},gn=()=>{u(!1),b(null)},Ma=async L=>{try{const $=await dr.updateCompetence(L.id,{...L,estFavorite:!L.estFavorite});a(te=>te.map(be=>be.id===$.id?$:be))}catch($){console.error("Erreur lors de la mise  jour:",$)}},La=async()=>{try{const L=await ot.getMesBadges(!0);ci(L);const te=(await ot.getMesDemandes()).filter(be=>be.statut===de.EN_ATTENTE||be.statut===de.EN_COURS_TRAITEMENT||be.statut===de.COMPLEMENT_REQUIS);di(te)}catch(L){console.error("Erreur chargement badges/demandes:",L)}},Ra=L=>It.find($=>$.competenceNom.toLowerCase()===L.toLowerCase()&&$.estValide),Es=L=>{const $=["BRONZE","ARGENT","OR","PLATINE"],te=$.indexOf(L);return te===-1||te===$.length-1?null:$[te+1]},Aa=L=>Ca.some($=>$.competenceNom.toLowerCase()===L.toLowerCase());return l?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"loading loading-spinner loading-lg"})}):r.jsxs("div",{className:"space-y-6",children:[m&&r.jsx("div",{className:`alert ${m.type==="success"?"alert-success":"alert-error"}`,children:r.jsx("span",{children:m.text})}),t.publiee&&r.jsxs("div",{className:"alert alert-info",children:[r.jsx(Xn,{className:"w-5 h-5"}),r.jsx("span",{children:"Votre expertise est actuellement publie et visible sur la page d'accueil"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title text-2xl mb-4",children:"diter votre expertise"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"form-control md:col-span-2",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Titre professionnel *"})}),r.jsx("input",{type:"text",placeholder:"Ex: Dveloppeur Full Stack Senior",className:"input input-bordered w-full",value:t.titre||"",onChange:L=>mt("titre",L.target.value)})]}),r.jsxs("div",{className:"form-control md:col-span-2",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Description *"})}),r.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Dcrivez votre expertise, vos domaines de comptence...",value:t.description||"",onChange:L=>mt("description",L.target.value)})]}),r.jsxs("div",{className:"form-control md:col-span-2",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"URL de la photo de profil"})}),r.jsxs("div",{className:"join w-full",children:[r.jsx("input",{type:"text",placeholder:"https://...",className:"input input-bordered join-item flex-1",value:t.photoUrl||"",onChange:L=>mt("photoUrl",L.target.value)}),r.jsx("button",{className:"btn join-item",children:r.jsx(Wc,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"form-control md:col-span-2 relative",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Localisation *"})}),r.jsx("input",{type:"text",placeholder:"Ex: Paris, France",className:"input input-bordered w-full",value:C,onChange:async L=>{const $=L.target.value;if(W($),$.length>=2){_t(!0);try{const be=await(await fetch(`/api/localisations/recherche?terme=${encodeURIComponent($)}`)).json();Me(be),lt(!0)}catch(te){console.error("Erreur lors de la recherche de localisations:",te)}finally{_t(!1)}}else lt(!1)},onFocus:()=>{C.length>=2&&ue.length>0&&lt(!0)}}),De&&ue.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-y-auto top-full",children:ue.map(L=>r.jsxs("button",{type:"button",className:"w-full px-4 py-2 text-left hover:bg-base-200 transition-colors border-b border-base-200 last:border-b-0",onClick:()=>{W(L.nomComplet),mt("villeId",L.villeId),mt("localisationComplete",L.nomComplet),lt(!1)},children:[r.jsx("div",{className:"font-medium",children:L.nomComplet}),L.indicePopularite>0&&r.jsxs("div",{className:"text-xs text-base-content/60",children:["Popularit: ",L.indicePopularite]})]},L.villeId))}),or&&r.jsx("div",{className:"absolute right-3 top-12",children:r.jsx("span",{className:"loading loading-spinner loading-sm"})})]}),r.jsx("div",{className:"form-control md:col-span-2",children:r.jsxs("label",{className:"label cursor-pointer justify-start gap-4",children:[r.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:t.disponible||!1,onChange:L=>mt("disponible",L.target.checked)}),r.jsx("span",{className:"label-text font-semibold",children:"Je suis disponible pour de nouveaux projets"})]})})]})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"card-title text-2xl",children:"Mes Comptences"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n.length,"/6 comptences"]})]}),r.jsxs("button",{className:`btn btn-sm gap-2 ${n.length>=6?"btn-disabled":"btn-primary"}`,onClick:xn,disabled:n.length>=6,title:n.length>=6?"Limite de 6 comptences atteinte":"Ajouter une comptence",children:[r.jsx(ga,{className:"w-4 h-4"}),"Ajouter une comptence"]})]}),n.length===0?r.jsx("div",{className:"text-center py-8 text-base-content/60",children:r.jsx("p",{children:"Aucune comptence ajoute. Commencez par ajouter vos comptences !"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(L=>r.jsx("div",{className:"card bg-base-200 shadow-sm hover:shadow-md transition-shadow",children:r.jsx("div",{className:"card-body p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:L.nom}),L.estFavorite&&r.jsx(nn,{className:"w-4 h-4 fill-warning text-warning"})]}),L.description&&r.jsx("p",{className:"text-sm text-base-content/70 mt-1",children:L.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 text-sm",children:[L.niveauMaitrise&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium",children:"Niveau:"}),r.jsx("div",{className:"rating rating-sm",children:[1,2,3,4,5].map($=>r.jsx("input",{type:"radio",className:"mask mask-star-2 bg-warning",checked:$===L.niveauMaitrise,readOnly:!0},$))})]}),L.anneesExperience!==void 0&&L.anneesExperience>0&&r.jsxs("span",{className:"badge badge-outline",children:["Exp.: ",L.anneesExperience," an",L.anneesExperience>1?"s":""]}),L.thm&&r.jsxs("span",{className:"badge badge-primary badge-outline",children:["THM: ",L.thm.toLocaleString()," FCFA/h"]}),L.nombreProjets!==void 0&&L.nombreProjets>0&&r.jsxs("span",{className:"badge badge-secondary badge-outline",children:["Nbre projet: ",L.nombreProjets]})]}),L.certifications&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-xs font-medium text-base-content/60",children:"Certifications: "}),r.jsx("span",{className:"text-xs text-base-content/80",children:L.certifications})]})]}),r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>Ma(L),title:L.estFavorite?"Retirer des favoris":"Ajouter aux favoris",children:r.jsx(nn,{className:`w-4 h-4 ${L.estFavorite?"fill-warning text-warning":""}`})}),r.jsx("button",{className:"btn btn-ghost btn-xs",onClick:()=>ws(L),children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{className:"btn btn-ghost btn-xs text-error",onClick:()=>Yt(L.id,L.nom),children:r.jsx(qt,{className:"w-4 h-4"})})]}),(()=>{const $=Ra(L.nom);if(Aa(L.nom))return r.jsxs("div",{className:"badge badge-warning gap-1 text-xs",children:[r.jsx(rv,{className:"w-3 h-3"}),"En cours"]});if($){const be=Es($.niveauCertification),ke={BRONZE:"badge-warning",ARGENT:"badge-info",OR:"badge-accent",PLATINE:"badge-secondary"};return r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:`badge ${ke[$.niveauCertification]||"badge-success"} gap-1 text-xs`,children:[r.jsx(Xn,{className:"w-3 h-3"}),$.niveauCertification]}),be&&r.jsxs("button",{className:"btn btn-primary btn-xs gap-1 whitespace-nowrap",onClick:()=>{We(L),F(!0)},title:`Progresser vers ${be}`,children:[r.jsx(Jr,{className:"w-3 h-3"}),"Progresser"]})]})}return r.jsxs("button",{className:"btn btn-primary btn-xs gap-1 whitespace-nowrap",onClick:()=>{We(L),F(!0)},title:"Demander une certification officielle",children:[r.jsx(Jr,{className:"w-3 h-3"}),"Certification"]})})()]})]})})},L.id))}),p&&f&&r.jsxs("div",{className:"modal modal-open",children:[r.jsxs("div",{className:"modal-box relative",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"rounded-full bg-error/10 p-3",children:r.jsx(qt,{className:"w-12 h-12 text-error"})})}),r.jsx("h3",{className:"font-bold text-xl text-center mb-2",children:"Confirmer la suppression"}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("p",{className:"text-base-content/70 mb-2",children:"tes-vous sr de vouloir supprimer la comptence :"}),r.jsx("p",{className:"font-semibold text-lg text-primary",children:f.nom}),r.jsx("p",{className:"text-sm text-error mt-2",children:"Cette action est irrversible."})]}),r.jsxs("div",{className:"modal-action justify-center gap-3",children:[r.jsx("button",{className:"btn btn-ghost",onClick:gn,children:"Annuler"}),r.jsxs("button",{className:"btn btn-error gap-2",onClick:Ta,children:[r.jsx(qt,{className:"w-4 h-4"}),"Supprimer"]})]})]}),r.jsx("div",{className:"modal-backdrop",onClick:gn})]}),j&&x&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:x.id?"Modifier la comptence":"Ajouter une comptence"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsxs("label",{className:"label",children:[r.jsx("span",{className:"label-text font-semibold",children:"Comptence *"}),B&&r.jsxs("span",{className:"label-text-alt text-success flex items-center gap-1",children:[r.jsx(Xn,{className:"w-4 h-4"}),"Slection valide"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Recherchez et slectionnez une comptence...",className:`input input-bordered w-full ${B?"input-success":""}`,value:x.nom,onChange:L=>{const $=L.target.value;w({...x,nom:$}),Ot($),oe(!1),O(null),$===""&&w({...x,nom:"",description:""})},onFocus:()=>{x.nom.length>=2?Ot(x.nom):zt()},onBlur:()=>{setTimeout(()=>T(!1),200)}}),v&&S.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:N?r.jsx("div",{className:"p-4 text-center",children:r.jsx("span",{className:"loading loading-spinner loading-sm"})}):S.map(L=>r.jsxs("div",{className:"p-3 hover:bg-base-200 cursor-pointer border-b border-base-300 last:border-b-0",onClick:()=>Pa(L),children:[r.jsx("div",{className:"font-medium text-sm",children:L.libelle}),L.description&&r.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:L.description}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[L.domaine&&r.jsx("span",{className:"badge badge-primary badge-xs",children:L.domaine}),L.typeCompetence&&r.jsx("span",{className:"badge badge-secondary badge-xs",children:L.typeCompetence})]})]},L.id))}),v&&!N&&S.length===0&&x.nom.length>=2&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg p-3",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Aucune comptence disponible. Les comptences dj ajoutes ne sont pas affiches."})}),v&&!N&&S.length===0&&x.nom.length<2&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg p-3",children:r.jsx("p",{className:"text-sm text-gray-500",children:"Toutes les comptences populaires ont dj t ajoutes. Tapez pour rechercher d'autres comptences."})})]}),r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text-alt text-gray-500",children:B?"Comptence valide depuis le rfrentiel":"Vous devez slectionner une comptence depuis la liste propose"})})]}),r.jsxs("div",{className:"form-control",children:[r.jsxs("label",{className:"label",children:[r.jsx("span",{className:"label-text font-semibold",children:"Description"}),B&&r.jsx("span",{className:"label-text-alt text-info",children:"Charge depuis le rfrentiel"})]}),r.jsx("textarea",{className:"textarea textarea-bordered h-20 disabled:bg-base-200 disabled:text-base-content/70",placeholder:"Dcrivez votre exprience avec cette comptence...",value:x.description||"",onChange:L=>w({...x,description:L.target.value}),disabled:B}),B&&r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text-alt text-gray-500",children:"La description provient du rfrentiel et ne peut pas tre modifie"})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Niveau de matrise"})}),r.jsx("div",{className:"rating rating-lg",children:[1,2,3,4,5].map(L=>r.jsx("input",{type:"radio",name:"rating",className:"mask mask-star-2 bg-warning",checked:L===x.niveauMaitrise,onChange:()=>w({...x,niveauMaitrise:L})},L))})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Annes d'exprience"})}),r.jsx("input",{type:"number",min:"0",className:"input input-bordered w-full",value:x.anneesExperience||0,onChange:L=>w({...x,anneesExperience:parseInt(L.target.value)||0})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Taux Horaire Moyen (FCFA)"})}),r.jsx("input",{type:"number",min:"0",placeholder:"Ex: 15000",className:"input input-bordered w-full",value:x.thm||"",onChange:L=>w({...x,thm:parseInt(L.target.value)||void 0})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Nombre de projets raliss"})}),r.jsx("input",{type:"number",min:"0",className:"input input-bordered w-full",value:x.nombreProjets||0,onChange:L=>w({...x,nombreProjets:parseInt(L.target.value)||0})})]}),r.jsxs("div",{className:"form-control relative",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Certifications"})}),J.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:J.map((L,$)=>r.jsxs("div",{className:"badge badge-primary gap-2",children:[L,r.jsx("button",{type:"button",className:"btn btn-ghost btn-xs",onClick:()=>{const te=J.filter((be,ke)=>ke!==$);le(te),w({...x,certifications:te.join(", ")})},children:""})]},$))}),r.jsx("input",{type:"text",className:"input input-bordered w-full",placeholder:"Rechercher ou ajouter une certification...",value:ae,onChange:async L=>{const $=L.target.value;if(D($),$.length>=2)try{G(!0);const be=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent($)}`)).json();je(Array.isArray(be)?be:[]),_(!0)}catch(te){console.error("Erreur lors de la recherche de certifications:",te),je([])}finally{G(!1)}else _(!1),je([])},onKeyPress:L=>{if(L.key==="Enter"&&ae.trim()){L.preventDefault();const $=[...J,ae.trim()];le($),w({...x,certifications:$.join(", ")}),D(""),_(!1)}},onFocus:async()=>{if(ae.length<2)try{G(!0);const $=await(await fetch("/api/certifications/populaires?limit=10")).json();je(Array.isArray($)?$:[]),_(!0)}catch(L){console.error("Erreur:",L)}finally{G(!1)}}}),ze&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-y-auto top-full",children:X?r.jsx("div",{className:"p-4 text-center",children:r.jsx("span",{className:"loading loading-spinner loading-sm"})}):Ne.length>0?Ne.map(L=>r.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-base-200 transition-colors",onClick:()=>{if(!J.includes(L.intitule)){const $=[...J,L.intitule];le($),w({...x,certifications:$.join(", ")})}D(""),_(!1)},children:[r.jsx("div",{className:"font-semibold",children:L.intitule}),L.organismeDelivrant&&r.jsx("div",{className:"text-xs text-gray-500",children:L.organismeDelivrant})]},L.id)):r.jsxs("div",{className:"p-4 text-center text-gray-500",children:['Aucune certification trouve. Appuyez sur Entre pour ajouter "',ae,'"']})}),r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text-alt",children:"Slectionnez depuis la liste ou tapez et appuyez sur Entre"})})]}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer justify-start gap-2",children:[r.jsx("input",{type:"checkbox",className:"checkbox checkbox-warning",checked:x.estFavorite||!1,onChange:L=>w({...x,estFavorite:L.target.checked})}),r.jsx("span",{className:"label-text font-semibold",children:"Comptence favorite (mise en avant)"})]})})]}),r.jsxs("div",{className:"modal-action flex-col items-stretch",children:[!B&&r.jsx("div",{className:"alert alert-warning shadow-lg mb-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-semibold",children:"Slection requise"}),r.jsx("p",{children:"Vous devez slectionner une comptence valide depuis le rfrentiel pour pouvoir l'enregistrer."})]})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>{P(!1),w(null)},children:"Annuler"}),r.jsx("button",{className:`btn btn-primary ${B?"":"btn-disabled"}`,onClick:mi,disabled:!B,title:B?"":"Vous devez slectionner une comptence valide depuis le rfrentiel",children:x.id?"Mettre  jour":"Ajouter"})]})]})]})})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[!fn().valide&&!t.publiee&&r.jsxs("div",{className:"alert alert-warning",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Conditions requises pour publier votre expertise :"}),r.jsx("ul",{className:"list-disc list-inside text-sm mt-1",children:fn().raisons.map((L,$)=>r.jsx("li",{children:L},$))})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer gap-3",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"label-text font-semibold",children:t.publiee?"Expertise publie":"Expertise non publie"}),r.jsx("span",{className:"label-text-alt text-gray-500",children:t.publiee?"Visible sur la page d'accueil":"Visible uniquement pour vous"})]}),r.jsx("input",{type:"checkbox",className:"toggle toggle-success toggle-lg",checked:t.publiee||!1,onChange:L=>ka(L.target.checked),disabled:d||o})]})}),r.jsx("button",{className:"btn btn-primary gap-2",onClick:es,disabled:o||d,children:o?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"loading loading-spinner loading-sm"}),"Sauvegarde..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wa,{className:"w-4 h-4"}),"Enregistrer"]})})]})]})})}),H&&r.jsx(sy,{isOpen:K,onClose:()=>{F(!1),We(null)},competenceId:H.id,competenceNom:H.nom,onSuccess:()=>{Sa(),La()}})]})};function ay({isOpen:e,onClose:t,onConfirm:s,title:n,message:a,confirmText:l="Confirmer",cancelText:i="Annuler",type:o="warning"}){if(!e)return null;const c={info:"alert-info",warning:"alert-warning",error:"alert-error",success:"alert-success"};return r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:n}),r.jsxs("div",{className:`alert ${c[o]} mb-6`,children:[r.jsx(ms,{size:24}),r.jsx("span",{children:a})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{onClick:t,className:"btn btn-ghost",children:i}),r.jsx("button",{onClick:()=>{s(),t()},className:`btn ${o==="error"?"btn-error":o==="success"?"btn-success":o==="warning"?"btn-warning":"btn-primary"}`,children:l})]})]})})}function ly(){const e=kt(),[t,s]=h.useState("editer"),[n,a]=h.useState(""),[l,i]=h.useState([]),[o,c]=h.useState(!1),[d,y]=h.useState([]),[m,g]=h.useState([]),[x,w]=h.useState(!1),[j,P]=h.useState(null),[p,u]=h.useState(null),[f,b]=h.useState(!1),[S,E]=h.useState(null),[v,T]=h.useState({isOpen:!1,message:"",type:"success"}),[N,R]=h.useState([]),[U,O]=h.useState(!1),B={[se.BRONZE]:"",[se.ARGENT]:"",[se.OR]:"",[se.PLATINE]:""},oe={[se.BRONZE]:"from-orange-400 to-orange-600",[se.ARGENT]:"from-gray-300 to-gray-500",[se.OR]:"from-yellow-400 to-yellow-600",[se.PLATINE]:"from-purple-400 to-pink-600"};h.useEffect(()=>{Ne(),D(),je(),G()},[]);const Ne=()=>{const K=(JSON.parse(localStorage.getItem("pitm_utilisateur")||"{}").competences||[]).map(F=>{const H=_u.find(We=>We.nom===F);return{id:`user_comp_${F}`,competenceId:(H==null?void 0:H.id)||F,nom:F,description:(H==null?void 0:H.description)||"Comptence ajoute",nombreDemandes:Math.floor(Math.random()*15)+1,dateAjout:new Date().toISOString()}});i(K)},je=async()=>{try{w(!0);const C=await ot.getMesDemandes();g(C),u(null)}catch(C){u(C instanceof Error?C.message:"Erreur lors du chargement"),console.error("Erreur chargement demandes:",C)}finally{w(!1)}},ze=C=>{E(C),b(!0)},_=async()=>{if(S)try{await ot.annulerDemande(S),await je(),b(!1),E(null),T({isOpen:!0,message:" Demande annule avec succs",type:"success"})}catch(C){b(!1),T({isOpen:!0,message:C instanceof Error?C.message:"Erreur lors de l'annulation",type:"error"})}},X=C=>new Date(C).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),G=async()=>{try{O(!0);const C=await ot.getMesBadges(!0);R(C),u(null)}catch(C){u(C instanceof Error?C.message:"Erreur lors du chargement")}finally{O(!1)}},ae=async(C,W)=>{try{await ot.toggleVisibiliteBadge(C),await G(),T({isOpen:!0,message:W?" Badge masqu sur votre profil public":" Badge visible sur votre profil public",type:"success"})}catch(K){T({isOpen:!0,message:K instanceof Error?K.message:"Erreur",type:"error"})}},D=()=>{y([{id:"prop_1",competenceId:"comp_react",nomProjet:"Dveloppement d'une plateforme e-commerce",descriptionProjet:"Cration d'une boutique en ligne moderne avec panier, paiement et gestion des commandes. Interface responsive et performante.",nomClient:"Sarah Ouedraogo",emailClient:"sarah.o@entreprise.bf",avatarClient:"https://i.pravatar.cc/200?u=sarah",entrepriseClient:"TechStore BF",budget:25e5,devise:"FCFA",dureeEstimee:"6 semaines",dateProposition:"2025-01-28",statut:"en_attente",priorite:"haute",type:"projet"},{id:"prop_2",competenceId:"comp_react",nomProjet:"Correction de bugs sur application React",descriptionProjet:"Rsoudre 5 bugs identifis dans notre application de gestion. Liste dtaille fournie.",nomClient:"Moussa Traor",emailClient:"moussa.t@startup.bf",entrepriseClient:"StartupHub",budget:15e4,devise:"FCFA",dureeEstimee:"1 semaine",dateProposition:"2025-01-27",statut:"en_attente",priorite:"normale",type:"tache"},{id:"prop_3",competenceId:"comp_nodejs",nomProjet:"API REST pour application mobile",descriptionProjet:"Dveloppement d'une API backend complte avec authentification, gestion utilisateurs et base de donnes MongoDB.",nomClient:"Aminata Kabor",emailClient:"aminata.k@mobile.bf",entrepriseClient:"MobileFirst",budget:18e5,devise:"FCFA",dureeEstimee:"4 semaines",dateProposition:"2025-01-26",statut:"en_attente",priorite:"haute",type:"projet"},{id:"prop_4",competenceId:"comp_figma",nomProjet:"Maquettes UI pour application bancaire",descriptionProjet:"Cration de 15 crans pour une application bancaire moderne. Respect de la charte graphique fournie.",nomClient:"Ibrahim Sawadogo",emailClient:"ibrahim.s@banque.bf",entrepriseClient:"Banque Digitale",budget:8e5,devise:"FCFA",dureeEstimee:"3 semaines",dateProposition:"2025-01-25",statut:"en_attente",priorite:"normale",type:"projet"}])},J=_u.filter(C=>{const W=n.toLowerCase();return!l.some(F=>F.nom===C.nom)&&(C.nom.toLowerCase().includes(W)||C.description.toLowerCase().includes(W)||C.categorie.toLowerCase().includes(W))}).slice(0,6),le=C=>{const W={id:`user_${C.id}`,competenceId:C.id,nom:C.nom,description:C.description,nombreDemandes:0,dateAjout:new Date().toISOString()};i(H=>[...H,W]),a(""),c(!1);const K=JSON.parse(localStorage.getItem("pitm_utilisateur")||"{}"),F=[...K.competences||[],C.nom];localStorage.setItem("pitm_utilisateur",JSON.stringify({...K,competences:F}))},ue=C=>{const W=l.find(H=>H.id===C);if(!W)return;i(H=>H.filter(We=>We.id!==C));const K=JSON.parse(localStorage.getItem("pitm_utilisateur")||"{}"),F=(K.competences||[]).filter(H=>H!==W.nom);localStorage.setItem("pitm_utilisateur",JSON.stringify({...K,competences:F}))},Me=C=>{e(`/expertise/${C.nom}`)},De={[de.EN_ATTENTE]:"bg-yellow-100 text-yellow-800",[de.EN_COURS_TRAITEMENT]:"bg-blue-100 text-blue-800",[de.COMPLEMENT_REQUIS]:"bg-orange-100 text-orange-800",[de.APPROUVEE]:"bg-green-100 text-green-800",[de.REJETEE]:"bg-red-100 text-red-800",[de.ANNULEE]:"bg-gray-100 text-gray-800"},lt={[de.EN_ATTENTE]:"En attente",[de.EN_COURS_TRAITEMENT]:"En cours de traitement",[de.COMPLEMENT_REQUIS]:"Complment requis",[de.APPROUVEE]:"Approuve",[de.REJETEE]:"Rejete",[de.ANNULEE]:"Annule"},or={[se.BRONZE]:" Bronze",[se.ARGENT]:" Argent",[se.OR]:" Or",[se.PLATINE]:" Platine"},_t=C=>d.filter(W=>W.competenceId===C);return r.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsxs("button",{onClick:()=>s("editer"),className:`flex-1 px-6 py-4 font-medium transition-all relative ${t==="editer"?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(mv,{size:20}),"diter et publier votre expertise"]}),t==="editer"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),r.jsxs("button",{onClick:()=>s("demandes"),className:`flex-1 px-6 py-4 font-medium transition-all relative ${t==="demandes"?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(tv,{size:20}),"Mes demandes",m.length>0&&r.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full",children:m.length})]}),t==="demandes"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),r.jsxs("button",{onClick:()=>s("badges"),className:`flex-1 px-6 py-4 font-medium transition-all relative ${t==="badges"?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(Jr,{size:20}),"Mes badges",N.length>0&&r.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full",children:N.length})]}),t==="badges"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),r.jsxs("button",{onClick:()=>s("competences"),className:`flex-1 px-6 py-4 font-medium transition-all relative ${t==="competences"?"text-primary bg-primary/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("span",{className:"flex items-center justify-center gap-2",children:[r.jsx(gr,{size:20}),"Comptences",l.length>0&&r.jsx("span",{className:"px-2 py-0.5 bg-primary text-white text-xs rounded-full",children:l.length})]}),t==="competences"&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary"})]})]}),r.jsxs("div",{className:"p-8",children:[t==="editer"&&r.jsx(ny,{}),t==="demandes"&&(x?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):r.jsxs("div",{children:[p&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),m.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"Vous n'avez pas encore soumis de demande de reconnaissance"}),r.jsx("button",{onClick:()=>s("editer"),className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Grer mes comptences"})]}):r.jsx("div",{className:"space-y-4",children:m.map(C=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:C.competenceNom}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${De[C.statut]}`,children:lt[C.statut]}),C.niveauVise&&r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:or[C.niveauVise]})]})]}),C.badge&&r.jsxs("div",{className:"ml-4 text-4xl",children:[C.badge.niveauCertification===se.BRONZE&&"",C.badge.niveauCertification===se.ARGENT&&"",C.badge.niveauCertification===se.OR&&"",C.badge.niveauCertification===se.PLATINE&&""]})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[r.jsxs("p",{children:[" Soumise le ",X(C.dateCreation)]}),r.jsxs("p",{children:[" ",C.nombrePieces," pice(s) justificative(s)"]}),C.dateTraitement&&r.jsxs("p",{children:[" Traite le ",X(C.dateTraitement)]})]}),C.commentaireTraitant&&r.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-semibold mb-1",children:" Commentaire du traitant :"}),r.jsx("p",{className:"text-sm",children:C.commentaireTraitant})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>P(C),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Voir dtails"}),(C.statut===de.EN_ATTENTE||C.statut===de.COMPLEMENT_REQUIS)&&r.jsx("button",{onClick:()=>ze(C.id),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Annuler"})]})]},C.id))}),j&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>P(null),children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:C=>C.stopPropagation(),children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:j.competenceNom}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" Justification :"}),r.jsx("p",{className:"text-gray-700",children:j.commentaireExpert||"Aucune justification fournie"})]}),j.pieces&&j.pieces.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" Pices justificatives :"}),r.jsx("ul",{className:"space-y-2",children:j.pieces.map(C=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{children:C.estVerifie?"":""}),r.jsx("span",{children:C.nom}),C.description&&r.jsxs("span",{className:"text-gray-500",children:["- ",C.description]})]},C.id))})]}),j.evaluation&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" valuation :"}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 space-y-2",children:[r.jsxs("p",{children:["Note globale : ",j.evaluation.noteGlobale,"/100"]}),j.evaluation.commentaire&&r.jsx("p",{className:"text-sm text-gray-700",children:j.evaluation.commentaire})]})]})]}),r.jsx("button",{onClick:()=>P(null),className:"mt-6 w-full py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Fermer"})]})}),r.jsx(ay,{isOpen:f,onClose:()=>{b(!1),E(null)},onConfirm:_,title:"Annuler la demande",message:"tes-vous sr de vouloir annuler cette demande de certification ? Cette action est irrversible.",confirmText:"Oui, annuler",cancelText:"Non, garder",type:"error"}),r.jsx(Ea,{message:v.message,type:v.type,isOpen:v.isOpen,onClose:()=>T({...v,isOpen:!1}),duration:3e3})]})),t==="badges"&&(U?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):r.jsxs("div",{children:[p&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:p}),N.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Vous n'avez pas encore de badges"}),r.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Soumettez des demandes de reconnaissance pour obtenir vos premiers badges"}),r.jsx("button",{onClick:()=>s("demandes"),className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Voir mes demandes"})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(C=>r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:`h-32 bg-gradient-to-br ${oe[C.niveauCertification]} flex items-center justify-center`,children:r.jsx("div",{className:"text-7xl",children:B[C.niveauCertification]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:C.competenceNom}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:"Niveau :"}),r.jsx("span",{children:C.niveauCertification})]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:"Obtenu le :"}),r.jsx("span",{children:X(C.dateObtention)})]}),r.jsx("p",{className:"flex items-center gap-2",children:C.validitePermanente?r.jsx("span",{className:"text-green-600",children:" Validit permanente"}):r.jsxs("span",{className:"text-orange-600",children:[" Expire le ",C.dateExpiration&&X(C.dateExpiration)]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("button",{onClick:()=>ae(C.id,C.estPublic),className:`px-4 py-2 rounded text-sm font-medium transition-all ${C.estPublic?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C.estPublic?" Public":" Priv"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:C.estPublic?"Visible sur profil":"Masqu"})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${C.estValide?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.estValide?"Valide":"Expir"})]})]})]},C.id))}),r.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-semibold mb-1",children:" propos de la visibilit des badges"}),r.jsxs("p",{children:["Les badges ",r.jsx("strong",{children:"Public"}),"  sont affichs sur votre profil public et visibles par tous."]}),r.jsxs("p",{children:["Les badges ",r.jsx("strong",{children:"Priv"}),"  sont masqus et visibles uniquement par vous."]})]})]})})]})]})),t==="competences"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-gray-900 font-medium mb-3",children:"Rechercher et ajouter des comptences"}),r.jsxs("div",{className:"relative",children:[r.jsx(pn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Ex: React, Python, Design...",value:n,onChange:C=>{a(C.target.value),c(!0)},onFocus:()=>c(!0),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary"})]}),o&&n&&J.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:J.map(C=>r.jsx("button",{onClick:()=>le(C),className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl",children:C.icone}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:C.nom}),r.jsx("p",{className:"text-sm text-gray-600",children:C.description}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:C.categorie})})]})]})},C.id))})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium text-gray-900 mb-4",children:["Mes comptences (",l.length,")"]}),l.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[r.jsx(gr,{size:48,className:"mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-600",children:"Aucune comptence ajoute"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Utilisez la barre de recherche ci-dessus pour ajouter vos comptences"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(C=>{const W=_t(C.competenceId),K=W.filter(F=>F.statut==="en_attente").length;return r.jsxs("div",{className:"relative bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-primary hover:shadow-md transition-all cursor-pointer group",onClick:()=>Me(C),children:[K>0&&r.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-lg animate-pulse",children:K}),r.jsx("button",{onClick:F=>{F.stopPropagation(),ue(C.id)},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Retirer cette comptence",children:r.jsx(Ns,{size:18})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-gray-900 text-lg mb-1",children:C.nom}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[W.length," ",W.length>1?"propositions":"proposition"]}),K>0&&r.jsxs("span",{className:"text-red-600 font-medium",children:[K," en attente"]})]})]})]},C.id)})})]})]})]})]})})}function iy(){const{competenceId:e}=mn(),t=kt(),[s,n]=h.useState(null),[a,l]=h.useState([]),[i,o]=h.useState(!0);h.useEffect(()=>{c()},[e]);const c=()=>{o(!0);try{const p=(JSON.parse(localStorage.getItem("pitm_utilisateur")||"{}").competences||[]).find(u=>u===e);if(p){const u={id:`user_comp_${p}`,competenceId:e||"",nom:p,description:`Comptence en ${p}`,nombreDemandes:Math.floor(Math.random()*15)+1,dateAjout:new Date().toISOString()};n(u),d(e||"")}else n(null)}catch(j){console.error("Erreur lors du chargement:",j)}finally{o(!1)}},d=j=>{l([{id:"prop_1",competenceId:j,nomProjet:"Dveloppement d'une plateforme e-commerce",descriptionProjet:"Cration d'une boutique en ligne moderne avec panier, paiement et gestion des commandes. Interface responsive et performante.",nomClient:"Sarah Ouedraogo",emailClient:"sarah.o@entreprise.bf",avatarClient:"https://i.pravatar.cc/200?u=sarah",entrepriseClient:"TechStore BF",budget:25e5,devise:"FCFA",dureeEstimee:"6 semaines",dateProposition:"2025-01-28",statut:"en_attente",priorite:"haute",type:"projet"},{id:"prop_2",competenceId:j,nomProjet:"Correction de bugs sur application",descriptionProjet:"Rsoudre 5 bugs identifis dans notre application de gestion. Liste dtaille fournie.",nomClient:"Moussa Traor",emailClient:"moussa.t@startup.bf",entrepriseClient:"StartupHub",budget:15e4,devise:"FCFA",dureeEstimee:"1 semaine",dateProposition:"2025-01-27",statut:"en_attente",priorite:"normale",type:"tache"},{id:"prop_3",competenceId:j,nomProjet:"API REST pour application mobile",descriptionProjet:"Dveloppement d'une API backend complte avec authentification, gestion utilisateurs et base de donnes MongoDB.",nomClient:"Aminata Kabor",emailClient:"aminata.k@mobile.bf",entrepriseClient:"MobileFirst",budget:18e5,devise:"FCFA",dureeEstimee:"4 semaines",dateProposition:"2025-01-26",statut:"en_attente",priorite:"haute",type:"projet"},{id:"prop_4",competenceId:j,nomProjet:"Optimisation des performances",descriptionProjet:"Amliorer les temps de chargement et optimiser les requtes de notre application web existante.",nomClient:"Ibrahim Sawadogo",emailClient:"ibrahim.s@tech.bf",entrepriseClient:"WebTech",budget:5e5,devise:"FCFA",dureeEstimee:"2 semaines",dateProposition:"2025-01-25",statut:"en_attente",priorite:"normale",type:"tache"}])},y=(j,P)=>{l(p=>p.map(u=>u.id===j?{...u,statut:P}:u)),console.log(`Notification envoye pour proposition ${j}: ${P}`),alert(`Proposition ${P==="accepte"?"accepte":"refuse"}. Le client a t notifi.`)},m=()=>{t("/expertise")};if(i)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})});if(!s)return r.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ms,{size:64,className:"mx-auto text-gray-400 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Comptence non trouve"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Cette comptence n'existe pas ou a t supprime."}),r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary-800 transition-colors",children:[r.jsx(Ul,{size:20}),"Retour aux comptences"]})]})});const g=a.filter(j=>j.statut==="en_attente"),x=a.filter(j=>j.statut==="accepte"),w=a.filter(j=>j.statut==="refuse");return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[r.jsx(Ul,{size:20}),"Retour aux comptences"]}),r.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl p-6 border border-primary/20",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.nom}),r.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(gr,{size:16,className:"text-gray-600"}),r.jsxs("span",{className:"text-gray-700",children:[a.length," ",a.length>1?"propositions":"proposition"]})]}),g.length>0&&r.jsxs("div",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full font-medium",children:[g.length," en attente"]}),x.length>0&&r.jsxs("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full font-medium",children:[x.length," accepte",x.length>1?"s":""]})]})]}),g.length>0&&r.jsx("div",{className:"w-16 h-16 bg-red-500 text-white rounded-full flex items-center justify-center text-2xl font-bold shadow-lg animate-pulse",children:g.length})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:r.jsxs("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[r.jsxs("button",{className:"flex-1 px-6 py-4 font-medium text-primary bg-primary/5 border-b-2 border-primary whitespace-nowrap",children:["Toutes (",a.length,")"]}),r.jsxs("button",{className:"flex-1 px-6 py-4 font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 whitespace-nowrap",children:["En attente (",g.length,")"]}),r.jsxs("button",{className:"flex-1 px-6 py-4 font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 whitespace-nowrap",children:["Acceptes (",x.length,")"]}),r.jsxs("button",{className:"flex-1 px-6 py-4 font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 whitespace-nowrap",children:["Refuses (",w.length,")"]})]})}),r.jsx("div",{className:"space-y-6",children:a.length===0?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(ms,{size:48,className:"mx-auto text-gray-400 mb-3"}),r.jsx("p",{className:"text-gray-600",children:"Aucune proposition pour cette comptence"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Les clients pourront vous soumettre des projets ncessitant ",s.nom]})]}):a.map(j=>r.jsxs("div",{className:`bg-white rounded-xl shadow-sm border-2 p-6 transition-all hover:shadow-md ${j.statut==="en_attente"?"border-gray-300":j.statut==="accepte"?"border-green-200 bg-green-50/50":"border-red-200 bg-red-50/50"}`,children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("img",{src:j.avatarClient||"https://i.pravatar.cc/100",alt:j.nomClient,className:"w-16 h-16 rounded-full border-2 border-gray-200"}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-start justify-between mb-1",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:j.nomClient}),j.entrepriseClient&&r.jsx("p",{className:"text-sm text-gray-600",children:j.entrepriseClient}),r.jsx("p",{className:"text-xs text-gray-500",children:j.emailClient})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[j.type==="projet"?r.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"Projet"}):r.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full",children:"Tche"}),j.priorite==="haute"&&r.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"Urgent"})]})]})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-bold text-gray-900 text-xl mb-2",children:j.nomProjet}),r.jsx("p",{className:"text-gray-700",children:j.descriptionProjet})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[j.budget&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx(nv,{size:20,className:"text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Budget"}),r.jsxs("p",{className:"font-bold text-gray-900",children:[j.budget.toLocaleString()," ",j.devise]})]})]}),j.dureeEstimee&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx(gh,{size:20,className:"text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Dure estime"}),r.jsx("p",{className:"font-bold text-gray-900",children:j.dureeEstimee})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center",children:r.jsx(ms,{size:20,className:"text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-600",children:"Propos le"}),r.jsx("p",{className:"font-bold text-gray-900",children:new Date(j.dateProposition).toLocaleDateString("fr-FR")})]})]})]}),j.statut==="en_attente"?r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>y(j.id,"accepte"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-lg font-medium transition-colors",children:[r.jsx(Kg,{size:20}),"Accepter"]}),r.jsxs("button",{onClick:()=>y(j.id,"refuse"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[r.jsx(Hc,{size:20}),"Refuser"]})]}):r.jsx("div",{className:`text-center py-3 rounded-lg font-medium ${j.statut==="accepte"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:j.statut==="accepte"?" Proposition accepte":" Proposition refuse"})]},j.id))})]})}function oy(){const e=kt(),[t,s]=h.useState("mes-projets"),[n,a]=h.useState([]),[l,i]=h.useState(!0);wr({tabs:[{id:"mes-projets",label:"Mes Projets"},{id:"planification",label:"Planification"},{id:"execution",label:"Excution"},{id:"suivi-controle",label:"Suivi-contrle"},{id:"amelioration",label:"Amlioration"}],activeTab:t,onTabChange:s}),h.useEffect(()=>{(async()=>{i(!0);try{const g=await Qr.obtenirProjets();a(g)}catch(g){console.error("Erreur lors du chargement des projets:",g)}finally{i(!1)}})()},[]);const c=m=>{switch(m){case"planification":return"bg-primary/20 text-primary";case"execution":return"bg-warning/20 text-warning";case"suivi":return"bg-info/20 text-info";case"termine":return"bg-success/20 text-success";case"suspendu":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-600"}},d=m=>{switch(m){case"planification":return"Planification";case"execution":return"En excution";case"suivi":return"Suivi";case"termine":return"Termin";case"suspendu":return"Suspendu";default:return m}},y=()=>{switch(t){case"mes-projets":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Mes Projets"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Grez et suivez vos projets"})]}),r.jsx(Ye,{onClick:()=>e("/projets/creer"),children:"+ Crer un projet"})]}),l?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(oi,{})}):n.length===0?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-12 text-center",children:[r.jsx("div",{className:"text-gray-600 text-4xl mb-4",children:""}),r.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucun projet"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Crez votre premier projet pour commencer"}),r.jsx(Ye,{onClick:()=>e("/projets/creer"),children:"Crer mon premier projet"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>r.jsxs("div",{className:`bg-white border border-slate-200 rounded-xl p-6 hover:border-primary/50 
                             transition-colors cursor-pointer`,onClick:()=>e(`/projets/${m.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2 line-clamp-2",children:m.nom}),r.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:m.description})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ml-3 ${c(m.statut)}`,children:d(m.statut)})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[r.jsx("span",{children:"Progression"}),r.jsxs("span",{children:[m.progression,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${m.progression}%`}})})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Budget:"}),r.jsxs("span",{className:"text-gray-700",children:[m.budget.toLocaleString("fr-FR")," "]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Dure:"}),r.jsxs("span",{className:"text-gray-700",children:[m.duree," jours"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Tches:"}),r.jsx("span",{className:"text-gray-700",children:m.taches.length})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Cr le:"}),r.jsx("span",{className:"text-gray-700",children:new Date(m.dateCreation).toLocaleDateString("fr-FR")})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs text-gray-600",children:[m.exigences.length," exigence",m.exigences.length>1?"s":""]}),r.jsx("button",{onClick:g=>{g.stopPropagation(),e(`/projets/${m.id}`)},className:"text-primary hover:text-primary/80 text-xs font-medium",children:"Voir dtails "})]})})]},m.id))})]});case"planification":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Phase de Planification"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/20 text-primary rounded-full flex items-center justify-center font-semibold",children:"1"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-800",children:"Dfinition des objectifs"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Clarifier la vision et les rsultats attendus"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/20 text-primary rounded-full flex items-center justify-center font-semibold",children:"2"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-800",children:"Analyse des ressources"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Identifier les comptences et budgets ncessaires"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary/20 text-primary rounded-full flex items-center justify-center font-semibold",children:"3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-800",children:"Planification des tches"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Dcomposer en tapes et dfinir les dlais"})]})]})]})]})});case"execution":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Phase d'Excution"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tches en cours"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),r.jsx("span",{children:"Dveloppement backend API"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx("span",{className:"w-2 h-2 bg-primary rounded-full"}),r.jsx("span",{children:"Design interface utilisateur"})]})]})]}),r.jsxs("div",{className:"bg-slate-100 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tches termines"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx("span",{className:"w-2 h-2 bg-success rounded-full"}),r.jsx("span",{children:"Configuration environnement"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx("span",{className:"w-2 h-2 bg-success rounded-full"}),r.jsx("span",{children:"Analyse des besoins"})]})]})]})]})]})});case"suivi-controle":return r.jsx("div",{className:"space-y-4",children:n.map(m=>r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:m.nom}),r.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${c(m.statut)}`,children:d(m.statut)})]}),r.jsxs("span",{className:"text-gray-600",children:[m.progression,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${m.progression}%`}})})]},m.id))});case"amelioration":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Axes d'Amlioration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex gap-4 p-4 bg-slate-100 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-warning/20 text-warning rounded-lg flex items-center justify-center text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Optimisation des processus"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Rduire le temps de dveloppement de 20%"})]})]}),r.jsxs("div",{className:"flex gap-4 p-4 bg-slate-100 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-info/20 text-info rounded-lg flex items-center justify-center text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Amlioration de la qualit"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Augmenter la couverture des tests  90%"})]})]}),r.jsxs("div",{className:"flex gap-4 p-4 bg-slate-100 rounded-lg",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-success/20 text-success rounded-lg flex items-center justify-center text-xl",children:""})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:"Formation continue"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Dvelopper les comptences de l'quipe"})]})]})]})]})});default:return null}};return r.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:y()})})}function cy({onSubmit:e,onCancel:t,chargement:s=!1}){const[n,a]=h.useState(""),[l,i]=h.useState(""),[o,c]=h.useState(30),[d,y]=h.useState(1e4),[m,g]=h.useState([{id:"1",description:""}]),x=()=>{const p={id:Date.now().toString(),description:""};g([...m,p])},w=p=>{m.length>1&&g(m.filter(u=>u.id!==p))},j=(p,u)=>{g(m.map(f=>f.id===p?{...f,description:u}:f))},P=p=>{if(p.preventDefault(),!n.trim()||!l.trim()){alert("Veuillez remplir tous les champs obligatoires");return}const u=m.filter(b=>b.description.trim()!==""),f={nom:n.trim(),description:l.trim(),duree:o,budget:d,exigences:u,proprietaireId:"utilisateur_actuel"};e(f)};return r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Crer un nouveau projet"}),r.jsx("p",{className:"text-gray-600",children:"Dfinissez les caractristiques de votre projet"})]}),r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"nom",className:"block text-sm font-medium text-gray-800 mb-2",children:"Nom du projet *"}),r.jsx("input",{type:"text",id:"nom",value:n,onChange:p=>a(p.target.value),className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                     text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                     focus:ring-primary focus:border-transparent`,placeholder:"Ex: Application Mobile E-commerce",required:!0,disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-800 mb-2",children:"Description du projet *"}),r.jsx("textarea",{id:"description",value:l,onChange:p=>i(p.target.value),rows:4,className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                     text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                     focus:ring-primary focus:border-transparent resize-none`,placeholder:"Dcrivez l'objectif et le contexte de votre projet...",required:!0,disabled:s})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"duree",className:"block text-sm font-medium text-gray-800 mb-2",children:"Dure estime (jours)"}),r.jsx("input",{type:"number",id:"duree",value:o,onChange:p=>c(parseInt(p.target.value)||30),min:"1",max:"365",className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                       text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary 
                       focus:border-transparent`,disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-800 mb-2",children:"Budget estimatif ()"}),r.jsx("input",{type:"number",id:"budget",value:d,onChange:p=>y(parseInt(p.target.value)||1e4),min:"100",step:"100",className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                       text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary 
                       focus:border-transparent`,disabled:s})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800",children:"Exigences du projet"}),r.jsxs("button",{type:"button",onClick:x,className:`text-primary hover:text-primary-dark text-sm font-medium 
                       flex items-center gap-1`,disabled:s,children:[r.jsx("span",{children:"+"})," Ajouter une exigence"]})]}),r.jsx("div",{className:"space-y-3",children:m.map((p,u)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",value:p.description,onChange:f=>j(p.id,f.target.value),className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 
                             rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none 
                             focus:ring-2 focus:ring-primary focus:border-transparent`,placeholder:`Exigence ${u+1}`,disabled:s})}),m.length>1&&r.jsxs("button",{type:"button",onClick:()=>w(p.id),className:"text-primary hover:text-primary/70 p-2",disabled:s,children:[r.jsx("span",{className:"sr-only",children:"Supprimer"}),""]})]},p.id))})]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200",children:[r.jsx(Ye,{variant:"secondary",onClick:t,disabled:s,children:"Annuler"}),r.jsx(Ye,{type:"submit",disabled:s||!n.trim()||!l.trim(),children:s?"Cration...":"Crer le projet"})]})]})]})}function dy(){const e=kt(),[t,s]=h.useState(!1),n=async l=>{s(!0);try{const i=await Qr.creerProjet(l);console.log("Projet cr avec succs:",i),e(`/projets/${i.id}`)}catch(i){console.error("Erreur lors de la cration du projet:",i),alert("Une erreur est survenue lors de la cration du projet")}finally{s(!1)}},a=()=>{e("/projets")};return r.jsx("div",{className:"min-h-screen bg-slate-50 p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(cy,{onSubmit:n,onCancel:a,chargement:t})})})}function uy({projet:e,onProjetUpdate:t}){const[s,n]=h.useState(!1),[a,l]=h.useState(null),[i,o]=h.useState(!1),[c,d]=h.useState({nom:"",description:"",budget:2e3,expertsRequis:[],duree:5,livrables:[{nom:"",description:"",criteres:[""]}]}),y=()=>{d({nom:"",description:"",budget:2e3,expertsRequis:[],duree:5,livrables:[{nom:"",description:"",criteres:[""]}]}),l(null),n(!1)},m=()=>{d({...c,livrables:[...c.livrables,{nom:"",description:"",criteres:[""]}]})},g=f=>{if(c.livrables.length>1){const b=c.livrables.filter((S,E)=>E!==f);d({...c,livrables:b})}},x=(f,b,S)=>{const E=[...c.livrables];E[f]={...E[f],[b]:S},d({...c,livrables:E})},w=f=>{const b=[...c.livrables];b[f].criteres.push(""),d({...c,livrables:b})},j=(f,b,S)=>{const E=[...c.livrables];E[f].criteres[b]=S,d({...c,livrables:E})},P=(f,b)=>{const S=[...c.livrables];S[f].criteres.length>1&&(S[f].criteres.splice(b,1),d({...c,livrables:S}))},p=async f=>{f.preventDefault(),o(!0);try{const b=c.livrables.filter(E=>E.nom.trim()&&E.description.trim()).map(E=>({id:`livrable_${Date.now()}_${Math.random()}`,nom:E.nom.trim(),description:E.description.trim(),criteres:E.criteres.filter(v=>v.trim()).map(v=>({id:`critere_${Date.now()}_${Math.random()}`,description:v.trim(),statut:"en_attente"})),statut:"non_fourni"})),S={nom:c.nom.trim(),description:c.description.trim(),ressources:{budget:c.budget,expertsRequis:c.expertsRequis,duree:c.duree},livrables:b,statut:"non_commencee",progression:0};if(a){const E=await Qr.mettreAJourTache(a.id,S),v=e.taches.map(T=>T.id===a.id?E:T);t({...e,taches:v})}else{const E=await Qr.ajouterTache(e.id,S);t({...e,taches:[...e.taches,E]})}y()}catch(b){console.error("Erreur lors de la sauvegarde de la tche:",b)}finally{o(!1)}},u=f=>{d({nom:f.nom,description:f.description,budget:f.ressources.budget,expertsRequis:f.ressources.expertsRequis,duree:f.ressources.duree,livrables:f.livrables.map(b=>({nom:b.nom,description:b.description,criteres:b.criteres.map(S=>S.description)}))}),l(f),n(!0)};return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dtails du projet"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-600",children:e.description})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Budget total:"}),r.jsxs("span",{className:"text-gray-800 font-semibold",children:[e.budget.toLocaleString("fr-FR")," "]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Dure prvue:"}),r.jsxs("span",{className:"text-gray-800 font-semibold",children:[e.duree," jours"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Statut:"}),r.jsx("span",{className:"text-primary font-semibold",children:e.statut})]})]})]}),e.exigences.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Exigences du projet"}),r.jsx("ul",{className:"space-y-2",children:e.exigences.map(f=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-gray-600",children:f.description})]},f.id))})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Planification du projet"}),r.jsx(Ye,{onClick:()=>n(!0),disabled:i,children:"+ Ajouter une tche"})]}),e.taches.length>0&&r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:"Tches du projet"}),e.taches.map(f=>r.jsx("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:f.nom}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:f.description}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Budget: "}),r.jsxs("span",{className:"text-gray-700",children:[f.ressources.budget.toLocaleString("fr-FR")," "]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Dure: "}),r.jsxs("span",{className:"text-gray-700",children:[f.ressources.duree," jours"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Livrables: "}),r.jsx("span",{className:"text-gray-700",children:f.livrables.length})]})]})]}),r.jsx(Ye,{variant:"secondary",size:"sm",onClick:()=>u(f),children:"Modifier"})]})},f.id))]}),s&&r.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:a?"Modifier la tche":"Nouvelle tche"}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Nom de la tche *"}),r.jsx("input",{type:"text",value:c.nom,onChange:f=>d({...c,nom:f.target.value}),className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                             text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                             focus:ring-primary focus:border-transparent`,placeholder:"Ex: Dveloppement de l'interface",required:!0,disabled:i})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Description du besoin *"}),r.jsx("textarea",{value:c.description,onChange:f=>d({...c,description:f.target.value}),rows:3,className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                             text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                             focus:ring-primary focus:border-transparent resize-none`,placeholder:"Dcrivez le besoin et les objectifs...",required:!0,disabled:i})]})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-semibold text-gray-800 mb-4",children:"Ressources de la tche"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Budget ()"}),r.jsx("input",{type:"number",value:c.budget,onChange:f=>d({...c,budget:parseInt(f.target.value)||0}),min:"0",className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                               text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary 
                               focus:border-transparent`,disabled:i})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Dure (jours)"}),r.jsx("input",{type:"number",value:c.duree,onChange:f=>d({...c,duree:parseInt(f.target.value)||1}),min:"1",className:`w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-lg 
                               text-gray-900 focus:outline-none focus:ring-2 focus:ring-primary 
                               focus:border-transparent`,disabled:i})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:"Livrables"}),r.jsx("button",{type:"button",onClick:m,className:"text-primary hover:text-primary/80 text-sm font-medium",disabled:i,children:"+ Ajouter un livrable"})]}),c.livrables.map((f,b)=>r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h6",{className:"font-medium text-gray-700",children:["Livrable ",b+1]}),c.livrables.length>1&&r.jsx("button",{type:"button",onClick:()=>g(b),className:"text-red-400 hover:text-red-300 text-sm",disabled:i,children:"Supprimer"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Nom du livrable"}),r.jsx("input",{type:"text",value:f.nom,onChange:S=>x(b,"nom",S.target.value),className:`w-full px-3 py-2 bg-slate-100 border border-slate-200 rounded 
                                   text-gray-900 text-sm focus:outline-none focus:ring-1 focus:ring-primary`,placeholder:"Ex: Documentation technique",disabled:i})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Description"}),r.jsx("input",{type:"text",value:f.description,onChange:S=>x(b,"description",S.target.value),className:`w-full px-3 py-2 bg-slate-100 border border-slate-200 rounded 
                                   text-gray-900 text-sm focus:outline-none focus:ring-1 focus:ring-primary`,placeholder:"Description du livrable",disabled:i})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Critres d'acceptation"}),r.jsx("button",{type:"button",onClick:()=>w(b),className:"text-primary hover:text-primary/80 text-xs",disabled:i,children:"+ Critre"})]}),f.criteres.map((S,E)=>r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("input",{type:"text",value:S,onChange:v=>j(b,E,v.target.value),className:`flex-1 px-3 py-2 bg-slate-100 border border-slate-200 rounded 
                                     text-gray-900 text-sm focus:outline-none focus:ring-1 focus:ring-primary`,placeholder:"Critre d'acceptation",disabled:i}),f.criteres.length>1&&r.jsx("button",{type:"button",onClick:()=>P(b,E),className:"text-red-400 hover:text-red-300 p-1",disabled:i,children:""})]},E))]})]},b))]}),r.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-slate-200",children:[r.jsx(Ye,{type:"button",variant:"secondary",onClick:y,disabled:i,children:"Annuler"}),r.jsx(Ye,{type:"submit",disabled:i||!c.nom.trim()||!c.description.trim(),children:i?"Enregistrement...":a?"Mettre  jour":"Ajouter la tche"})]})]})]})]})]})}function my({projet:e,onProjetUpdate:t}){const[s,n]=h.useState(null),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(""),[y,m]=h.useState(!1),g=e.taches.filter(p=>p.livrables.length>0),x=p=>{var f;const u=(f=p.target.files)==null?void 0:f[0];if(u){if(u.size>10*1024*1024){alert("Le fichier ne peut pas dpasser 10MB");return}o(u)}},w=async p=>{if(!i){alert("Veuillez slectionner un fichier");return}m(!0),l(p.id);try{const u=`uploads/${i.name}`,f=await Qr.soumettrelivrable(p.id,u,c.trim()||void 0),b=e.taches.map(E=>({...E,livrables:E.livrables.map(v=>v.id===p.id?f:v)}));t({...e,taches:b}),o(null),d(""),l(null);const S=document.getElementById(`file-${p.id}`);S&&(S.value="")}catch(u){console.error("Erreur lors de la soumission du livrable:",u),alert("Erreur lors de la soumission du livrable")}finally{m(!1)}},j=p=>{switch(p){case"non_fourni":return"bg-gray-500/20 text-gray-600";case"fourni":return"bg-warning/20 text-warning";case"accepte":return"bg-success/20 text-success";case"rejete":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-600"}},P=p=>{switch(p){case"non_fourni":return"Non fourni";case"fourni":return"En attente de validation";case"accepte":return"Accept";case"rejete":return"Rejet";default:return"Inconnu"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Excution du projet"}),r.jsx("p",{className:"text-gray-600",children:"Soumettez les livrables et documents requis pour chaque tche du projet."})]}),g.length===0?r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-8 text-center",children:[r.jsx("div",{className:"text-gray-600 mb-4",children:""}),r.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Aucune tche avec livrables"}),r.jsx("p",{className:"text-gray-600",children:"Ajoutez des tches avec des livrables dans l'onglet Planification pour commencer l'excution."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Slectionner une tche"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(p=>r.jsxs("button",{onClick:()=>n(p.id),className:`p-4 rounded-lg border text-left transition-all ${s===p.id?"border-primary bg-primary/10":"border-slate-200 bg-slate-100 hover:border-primary/50"}`,children:[r.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:p.nom}),r.jsxs("div",{className:"text-sm text-gray-600",children:[p.livrables.length," livrable",p.livrables.length>1?"s":""]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"w-full bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${p.progression}%`}})}),r.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[p.progression,"% complt"]})]})]},p.id))})]}),s&&r.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:(()=>{const p=g.find(u=>u.id===s);return p?r.jsxs(r.Fragment,{children:[r.jsxs("h4",{className:"font-semibold text-gray-800 mb-6",children:["Livrables pour : ",p.nom]}),r.jsx("div",{className:"space-y-6",children:p.livrables.map(u=>r.jsxs("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:u.nom}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:u.description}),u.criteres.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-2",children:"Critres d'acceptation :"}),r.jsx("ul",{className:"space-y-1",children:u.criteres.map(f=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),f.description]},f.id))})]})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(u.statut)}`,children:P(u.statut)})]}),u.statut!=="non_fourni"&&r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4",children:[r.jsx("h6",{className:"font-medium text-gray-700 mb-2",children:"Livrable soumis"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[u.fichierUrl&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Fichier : "}),r.jsx("a",{href:u.fichierUrl,className:"text-primary hover:text-primary/80",children:u.fichierUrl.split("/").pop()})]}),u.dateForniture&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Soumis le : "}),r.jsx("span",{className:"text-gray-700",children:new Date(u.dateForniture).toLocaleDateString("fr-FR")})]}),u.commentaires&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Commentaire : "}),r.jsx("span",{className:"text-gray-700",children:u.commentaires})]})]})]}),(u.statut==="non_fourni"||u.statut==="rejete")&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:`file-${u.id}`,className:"block text-sm font-medium text-gray-800 mb-2",children:"Fichier du livrable *"}),r.jsx("input",{id:`file-${u.id}`,type:"file",onChange:x,className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg 
                                           text-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-full 
                                           file:border-0 file:text-sm file:font-semibold file:bg-primary 
                                           file:text-gray-900 hover:file:bg-primary/80`,accept:".pdf,.doc,.docx,.txt,.zip,.rar",disabled:y}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Formats accepts : PDF, DOC, DOCX, TXT, ZIP, RAR (max 10MB)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Commentaire (optionnel)"}),r.jsx("textarea",{value:c,onChange:f=>d(f.target.value),rows:3,className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg 
                                           text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                                           focus:ring-primary focus:border-transparent resize-none`,placeholder:"Ajoutez des informations complmentaires sur ce livrable...",disabled:y})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(Ye,{onClick:()=>w(u),disabled:!i||y,className:"min-w-32",children:a===u.id&&y?"Soumission...":"Soumettre le livrable"})})]}),u.statut==="accepte"&&r.jsxs("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-success",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"font-medium",children:"Livrable accept"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ce livrable a t valid et accept."})]}),u.statut==="fourni"&&r.jsxs("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[r.jsx("span",{children:""}),r.jsx("span",{className:"font-medium",children:"En attente de validation"})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Votre livrable est en cours de rvision."})]})]},u.id))})]}):null})()})]})]})}function py({projet:e,onProjetUpdate:t}){const[s,n]=h.useState(null),[a,l]=h.useState(""),[i,o]=h.useState(!1),c=e.taches.length,d=e.taches.filter(E=>E.statut==="terminee").length,y=e.taches.filter(E=>E.statut==="en_cours").length,m=e.taches.filter(E=>E.statut==="bloquee").length,g=e.taches.reduce((E,v)=>E+v.livrables.length,0),x=e.taches.reduce((E,v)=>E+v.livrables.filter(T=>T.statut==="accepte").length,0),w=e.taches.reduce((E,v)=>E+v.livrables.filter(T=>T.statut==="fourni").length,0),j=e.taches.reduce((E,v)=>E+v.livrables.filter(T=>T.statut==="rejete").length,0),P=e.taches.reduce((E,v)=>E+v.ressources.budget,0),p=e.taches.length>0?Math.round(e.taches.reduce((E,v)=>E+v.progression,0)/e.taches.length):0,u=async(E,v)=>{o(!0),n(E.id);try{const T=v?"accepte":"rejete",N=E.criteres.map(O=>({...O,statut:v?"accepte":"rejete",commentaire:a.trim()||void 0})),R={...E,statut:T,criteres:N,commentaires:a.trim()||E.commentaires},U=e.taches.map(O=>({...O,livrables:O.livrables.map(B=>B.id===E.id?R:B)}));t({...e,taches:U}),l(""),n(null),console.log(`Livrable ${v?"accept":"rejet"}:`,R)}catch(T){console.error("Erreur lors de la validation du livrable:",T),alert("Erreur lors de la validation du livrable")}finally{o(!1)}},f=E=>{switch(E){case"non_commencee":return"bg-gray-500/20 text-gray-600";case"en_cours":return"bg-primary/20 text-primary";case"terminee":return"bg-success/20 text-success";case"bloquee":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-600"}},b=E=>{switch(E){case"non_fourni":return"bg-gray-500/20 text-gray-600";case"fourni":return"bg-warning/20 text-warning";case"accepte":return"bg-success/20 text-success";case"rejete":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-600"}},S=e.taches.flatMap(E=>E.livrables.filter(v=>v.statut==="fourni")).map(E=>{const v=e.taches.find(T=>T.livrables.some(N=>N.id===E.id));return{livrable:E,tache:v}});return r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Dashboard du projet"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[p,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Progression globale"})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-success mb-1",children:[d,"/",c]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Tches termines"})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-warning mb-1",children:[x,"/",g]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Livrables accepts"})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-700 mb-1",children:[(P/e.budget*100).toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Budget utilis"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Statut des tches"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Non commences"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:e.taches.filter(E=>E.statut==="non_commencee").length}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:`${c?e.taches.filter(E=>E.statut==="non_commencee").length/c*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"En cours"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:y}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${c?y/c*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Termines"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:d}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:`${c?d/c*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Bloques"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:m}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${c?m/c*100:0}%`}})})]})]})]})]}),r.jsxs("div",{className:"bg-slate-100 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Statut des livrables"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Accepts"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:x}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-success h-2 rounded-full",style:{width:`${g?x/g*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"En attente"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:w}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-warning h-2 rounded-full",style:{width:`${g?w/g*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Rejets"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:j}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${g?j/g*100:0}%`}})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Non fournis"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:g-x-w-j}),r.jsx("div",{className:"w-16 bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:`${g?(g-x-w-j)/g*100:0}%`}})})]})]})]})]})]})]}),r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Suivi des tches"}),e.taches.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-gray-600 mb-2",children:""}),r.jsx("p",{className:"text-gray-600",children:"Aucune tche dfinie pour ce projet"})]}):r.jsx("div",{className:"space-y-4",children:e.taches.map(E=>r.jsxs("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-1",children:E.nom}),r.jsx("p",{className:"text-gray-600 text-sm",children:E.description})]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(E.statut)}`,children:E.statut.replace("_"," ")})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[r.jsx("span",{children:"Progression"}),r.jsxs("span",{children:[E.progression,"%"]})]}),r.jsx("div",{className:"w-full bg-slate-50 rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${E.progression}%`}})})]}),E.livrables.length>0&&r.jsxs("div",{children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["Livrables (",E.livrables.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:E.livrables.map(v=>r.jsxs("div",{className:"flex items-center justify-between bg-slate-50 rounded p-2",children:[r.jsx("span",{className:"text-sm text-gray-600 truncate",children:v.nom}),r.jsx("span",{className:`px-2 py-1 rounded text-xs ${b(v.statut)}`,children:v.statut.replace("_"," ")})]},v.id))})]})]},E.id))})]}),S.length>0&&r.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6",children:[r.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Livrables en attente de validation (",S.length,")"]}),r.jsx("div",{className:"space-y-6",children:S.map(({livrable:E,tache:v})=>r.jsx("div",{className:"bg-slate-100 border border-slate-200 rounded-lg p-6",children:r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-gray-800",children:E.nom}),r.jsxs("span",{className:"text-xs text-gray-600",children:["Tche: ",v==null?void 0:v.nom]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-3",children:E.description}),r.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded p-3 mb-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Informations de soumission"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[E.fichierUrl&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Fichier : "}),r.jsx("a",{href:E.fichierUrl,className:"text-primary hover:text-primary/80",children:E.fichierUrl.split("/").pop()})]}),E.dateForniture&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Soumis le : "}),r.jsx("span",{className:"text-gray-700",children:new Date(E.dateForniture).toLocaleDateString("fr-FR")})]}),E.commentaires&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Commentaire : "}),r.jsx("span",{className:"text-gray-700",children:E.commentaires})]})]})]}),E.criteres.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Critres d'acceptation"}),r.jsx("ul",{className:"space-y-1",children:E.criteres.map(T=>r.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),T.description]},T.id))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-800 mb-2",children:"Commentaire de validation"}),r.jsx("textarea",{value:a,onChange:T=>l(T.target.value),rows:3,className:`w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-lg 
                                 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 
                                 focus:ring-primary focus:border-transparent resize-none`,placeholder:"Ajoutez un commentaire sur la validation de ce livrable...",disabled:i&&s===E.id})]}),r.jsxs("div",{className:"flex justify-end gap-4",children:[r.jsx(Ye,{variant:"secondary",onClick:()=>u(E,!1),disabled:i,className:"bg-red-500/10 border-red-500/20 text-red-400 hover:bg-red-500/20",children:s===E.id&&i?"Rejet...":"Rejeter"}),r.jsx(Ye,{onClick:()=>u(E,!0),disabled:i,className:"bg-success/10 border-success/20 text-success hover:bg-success/20",children:s===E.id&&i?"Acceptation...":"Accepter"})]})]})]})},E.id))})]})]})}function hy(){const{id:e}=mn(),t=kt(),[s,n]=h.useState("planification"),[a,l]=h.useState(null),[i,o]=h.useState(!0);wr({tabs:[{id:"planification",label:"Planification"},{id:"execution",label:"Excution"},{id:"suivi",label:"Suivi du projet"}],activeTab:s,onTabChange:n}),h.useEffect(()=>{(async()=>{if(!e){t("/projets");return}o(!0);try{const g=await Qr.obtenirProjet(e);g?l(g):t("/projets")}catch(g){console.error("Erreur lors du chargement du projet:",g),t("/projets")}finally{o(!1)}})()},[e,t]);const d=m=>{l(m)},y=()=>{if(!a)return null;switch(s){case"planification":return r.jsx(uy,{projet:a,onProjetUpdate:d});case"execution":return r.jsx(my,{projet:a,onProjetUpdate:d});case"suivi":return r.jsx(py,{projet:a,onProjetUpdate:d});default:return null}};return i?r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsx(oi,{})}):a?r.jsxs("div",{className:"min-h-screen bg-slate-50",children:[r.jsx("div",{className:"bg-white border-b border-slate-200 p-6",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.nom}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("span",{children:["Cr le ",new Date(a.dateCreation).toLocaleDateString("fr-FR")]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Budget: ",a.budget.toLocaleString("fr-FR")," "]}),r.jsx("span",{children:""}),r.jsxs("span",{children:["Dure: ",a.duree," jours"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Progression"}),r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[a.progression,"%"]})]})]})})}),r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:y()})})]}):r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Projet non trouv"}),r.jsx("button",{onClick:()=>t("/projets"),className:"text-primary hover:text-primary-dark",children:"Retour aux projets"})]})})}function fy(){return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Plus"}),r.jsx("p",{className:"text-gray-600",children:"Menu supplmentaire -  implmenter"})]})})}function xy(){const e=kt();return r.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),r.jsx("p",{className:"text-2xl text-gray-600 mb-8",children:"Page non trouve"}),r.jsx(Ye,{onClick:()=>e("/"),children:"Retour  l'accueil"})]})})}function Vt({children:e}){const{isAuthenticated:t,isLoading:s,openAuthModal:n}=hn(),a=Zr(),l=a.search.includes("auth=success");return h.useEffect(()=>{if(!s&&!t&&!l){const i=a.pathname+a.search;console.log(" [REQUIRE AUTH] Accs refus, ouverture du modal d'authentification"),console.log(" [REQUIRE AUTH] Page demande:",i),n(i)}},[t,s,n,a,l]),s||l&&!t?(console.log(" [REQUIRE AUTH] Chargement...",{isLoading:s,isOAuthCallback:l,isAuthenticated:t}),r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"loading loading-spinner loading-lg"})})):t?r.jsx(r.Fragment,{children:e}):r.jsx(wg,{to:"/",replace:!0,state:{from:a,authRequired:!0}})}const gy=()=>{const[e,t]=h.useState([]),[s,n]=h.useState(!0),[a,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(""),[y,m]=h.useState([]),[,g]=h.useState({}),[x,w]=h.useState("liste"),[j,P]=h.useState(!1),[p,u]=h.useState(null),[f,b]=h.useState(null),[S,E]=h.useState(!1),[v,T]=h.useState(!1),[N,R]=h.useState(null),[U,O]=h.useState(!1),[B,oe]=h.useState([]),[Ne,je]=h.useState(!1),[ze,_]=h.useState([]),[X,G]=h.useState([]);h.useEffect(()=>{ae()},[]);const ae=async()=>{try{n(!0);const[C,W,K]=await Promise.all([fetch(`/api/competences-reference?includeInactive=${S}`).then(H=>H.json()),fetch("/api/competences-reference/domaines").then(H=>H.json()),fetch("/api/competences-reference/statistiques").then(H=>H.json())]);t(Array.isArray(C)?C:[]),m(Array.isArray(W)?W:[]),g(typeof K=="object"&&K!==null?K:{});const F=Array.from(new Set((Array.isArray(C)?C:[]).map(H=>H.sousDomaine).filter(H=>H&&H.trim()!=="")));_(F)}catch(C){console.error("Erreur lors du chargement:",C),b({type:"error",text:"Erreur lors du chargement des donnes"}),t([]),m([]),g({})}finally{n(!1)}},D=async()=>{try{if(n(!0),a){const W=await(await fetch(`/api/competences-reference/recherche?terme=${encodeURIComponent(a)}`)).json();t(Array.isArray(W)?W:[])}else if(i||c){const C=new URLSearchParams;i&&C.append("domaine",i),c&&C.append("typeCompetence",c);const K=await(await fetch(`/api/competences-reference/recherche-avancee?${C}`)).json();t(Array.isArray(K)?K:[])}else ae()}catch(C){console.error("Erreur lors de la recherche:",C),t([])}finally{n(!1)}};h.useEffect(()=>{const C=setTimeout(()=>{D()},300);return()=>clearTimeout(C)},[a,i,c]);const J=async()=>{try{n(!0);const W=await(await fetch("/api/competences-reference/arborescence")).json();t(Array.isArray(W)?W:[])}catch(C){console.error("Erreur lors du chargement de l'arborescence:",C),t([])}finally{n(!1)}};h.useEffect(()=>{x==="arbre"?J():ae()},[x,S]);const le=()=>{u({id:0,code:"",libelle:"",description:"",typeCompetence:"SAVOIR_FAIRE",domaine:"",sousDomaine:"",niveauTaxonomie:"APPLIQUER",verbeAction:"",objet:"",contexte:"",ressourcesMobilisees:"",criteresPerformance:"",referentiel:"Interne",organisme:"PITM",statut:"VALIDE",indicePopularite:0,estActive:!0}),P(!0)},ue=C=>{u(C),P(!0)},Me=async()=>{if(p)try{const W=JSON.parse(localStorage.getItem("user")||"{}").id||"1";let K;if(!p.id||p.id===0){const{id:F,...H}=p;K=await fetch("/api/competences-reference",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":W},body:JSON.stringify(H)})}else K=await fetch(`/api/competences-reference/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":W},body:JSON.stringify(p)});if(!K.ok){const F=await K.text();throw new Error(`Erreur ${K.status}: ${F}`)}b({type:"success",text:p.id===0?"Comptence cre avec succs":"Comptence mise  jour avec succs"}),P(!1),u(null),ae()}catch(C){console.error("Erreur lors de la sauvegarde:",C),b({type:"error",text:"Erreur lors de la sauvegarde"})}},De=(C,W)=>{R({id:C,libelle:W}),T(!0)},lt=async()=>{if(N)try{const W=JSON.parse(localStorage.getItem("user")||"{}").id||"1",K=await fetch(`/api/competences-reference/${N.id}`,{method:"DELETE",headers:{"X-User-Id":W}});if(!K.ok){const F=await K.text();throw new Error(`Erreur ${K.status}: ${F}`)}b({type:"success",text:"Comptence supprime avec succs"}),T(!1),R(null),ae()}catch(C){console.error("Erreur lors de la suppression:",C),b({type:"error",text:"Erreur lors de la suppression"}),T(!1),R(null)}},or=()=>{T(!1),R(null)},_t=(C,W=0)=>C.map(K=>r.jsxs("div",{style:{marginLeft:`${W*24}px`},className:"my-2",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[r.jsx(Bl,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"font-medium",children:K.libelle}),r.jsx("span",{className:"badge badge-sm",children:K.domaine}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",K.code,")"]}),r.jsxs("div",{className:"ml-auto flex gap-2",children:[r.jsx("button",{onClick:()=>ue(K),className:"btn btn-ghost btn-xs",children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>De(K.id,K.libelle),className:"btn btn-ghost btn-xs text-error",children:r.jsx(qt,{className:"w-4 h-4"})})]})]}),K.sousCompetences&&K.sousCompetences.length>0&&_t(K.sousCompetences,W+1)]},K.id));return r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs("button",{onClick:le,className:"btn btn-primary gap-2",children:[r.jsx(ga,{className:"w-5 h-5"}),"Nouvelle Comptence"]})}),f&&r.jsxs("div",{className:`alert ${f.type==="success"?"alert-success":"alert-error"} mb-4`,children:[r.jsx("span",{children:f.text}),r.jsx("button",{onClick:()=>b(null),className:"btn btn-ghost btn-sm",children:r.jsx(Ns,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Total Comptences"}),r.jsx("div",{className:"stat-value text-primary",children:e.length})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Domaines"}),r.jsx("div",{className:"stat-value text-secondary",children:y.length})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Plus Populaire"}),r.jsx("div",{className:"stat-value text-accent",children:e.length>0?Math.max(...e.map(C=>C.indicePopularite||0)):0})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Affichage"}),r.jsx("div",{className:`stat-value ${S?"text-warning":"text-success"}`,children:S?"Toutes":"Actives"}),r.jsx("div",{className:"stat-desc",children:S?"Actives + Inactives":"Uniquement actives"})]})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl mb-6",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"form-control",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pn,{className:"w-5 h-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Rechercher une comptence...",className:"input input-bordered w-full pl-10",value:a,onChange:C=>l(C.target.value)})]})})}),r.jsx("div",{className:"form-control w-full md:w-48",children:r.jsxs("select",{className:"select select-bordered",value:i,onChange:C=>o(C.target.value),children:[r.jsx("option",{value:"",children:"Tous les domaines"}),y.map(C=>r.jsx("option",{value:C,children:C},C))]})}),r.jsx("div",{className:"form-control w-full md:w-48",children:r.jsxs("select",{className:"select select-bordered",value:c,onChange:C=>d(C.target.value),children:[r.jsx("option",{value:"",children:"Tous les types"}),r.jsx("option",{value:"SAVOIR",children:"Savoir"}),r.jsx("option",{value:"SAVOIR_FAIRE",children:"Savoir-faire"}),r.jsx("option",{value:"SAVOIR_ETRE",children:"Savoir-tre"}),r.jsx("option",{value:"SAVOIR_AGIR",children:"Savoir-agir"})]})}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer gap-2",children:[r.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:S,onChange:C=>E(C.target.checked)}),r.jsx("span",{className:"label-text",children:"Afficher inactives"})]})}),r.jsxs("div",{className:"btn-group",children:[r.jsx("button",{className:`btn ${x==="liste"?"btn-active":""}`,onClick:()=>w("liste"),children:r.jsx(bh,{className:"w-5 h-5"})}),r.jsx("button",{className:`btn ${x==="cartes"?"btn-active":""}`,onClick:()=>w("cartes"),children:r.jsx(jh,{className:"w-5 h-5"})}),r.jsx("button",{className:`btn ${x==="arbre"?"btn-active":""}`,onClick:()=>w("arbre"),children:r.jsx(Bl,{className:"w-5 h-5"})})]})]})})}),s?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[x==="liste"&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Code"}),r.jsx("th",{children:"Libell"}),r.jsx("th",{children:"Domaine"}),r.jsx("th",{children:"Type"}),r.jsx("th",{children:"Popularit"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:e.map(C=>r.jsxs("tr",{children:[r.jsx("td",{className:"font-mono text-sm",children:C.code}),r.jsxs("td",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"font-medium",children:C.libelle}),!C.estActive&&r.jsx("span",{className:"badge badge-error badge-sm",children:"Inactive"})]}),r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-md",children:C.description})]}),r.jsxs("td",{children:[r.jsx("div",{className:"badge badge-primary",children:C.domaine}),C.sousDomaine&&r.jsx("div",{className:"badge badge-ghost badge-sm mt-1",children:C.sousDomaine})]}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-secondary",children:C.typeCompetence})}),r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vo,{className:"w-4 h-4 text-success"}),r.jsx("span",{children:C.indicePopularite||0})]})}),r.jsx("td",{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>ue(C),className:"btn btn-ghost btn-sm",children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>De(C.id,C.libelle),className:"btn btn-ghost btn-sm text-error",children:r.jsx(qt,{className:"w-4 h-4"})})]})})]},C.id))})]})}),x==="cartes"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(C=>r.jsx("div",{className:"card bg-base-200 shadow-md hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title text-lg",children:C.libelle}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:C.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[r.jsx("span",{className:"badge badge-primary badge-sm",children:C.domaine}),r.jsx("span",{className:"badge badge-secondary badge-sm",children:C.typeCompetence}),r.jsxs("span",{className:"badge badge-ghost badge-sm",children:[r.jsx(Vo,{className:"w-3 h-3 mr-1"}),C.indicePopularite||0]}),!C.estActive&&r.jsx("span",{className:"badge badge-error badge-sm",children:"Inactive"})]}),r.jsxs("div",{className:"card-actions justify-end mt-4",children:[r.jsx("button",{onClick:()=>ue(C),className:"btn btn-ghost btn-sm",children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>De(C.id,C.libelle),className:"btn btn-ghost btn-sm text-error",children:r.jsx(qt,{className:"w-4 h-4"})})]})]})},C.id))}),x==="arbre"&&r.jsx("div",{className:"space-y-2",children:_t(e)}),e.length===0&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Bo,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucune comptence trouve"})]})]})})]}),j&&p&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box max-w-4xl",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:p.id===0?"Nouvelle Comptence":"Modifier la Comptence"}),r.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Code"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:p.code,onChange:C=>u({...p,code:C.target.value}),placeholder:"Auto-gnr si vide"})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Libell *"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:p.libelle,onChange:C=>u({...p,libelle:C.target.value}),required:!0})]})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Description"})}),r.jsx("textarea",{className:"textarea textarea-bordered h-24",value:p.description,onChange:C=>u({...p,description:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"form-control relative",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Domaine *"})}),r.jsx("input",{type:"text",className:"input input-bordered w-full",value:p.domaine,onChange:C=>{const W=C.target.value;u({...p,domaine:W});const K=y.filter(F=>F.toLowerCase().includes(W.toLowerCase()));oe(K),O(W.length>0)},onFocus:()=>{oe(y),O(!0)},onBlur:()=>{setTimeout(()=>O(!1),200)},placeholder:"Saisir ou choisir un domaine",required:!0}),U&&B.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-y-auto top-full",children:B.map(C=>r.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-base-200 transition-colors border-b border-base-200 last:border-b-0",onClick:()=>{u({...p,domaine:C}),O(!1)},children:C},C))}),r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text-alt",children:"Slectionnez depuis la liste ou saisissez un nouveau domaine"})})]}),r.jsxs("div",{className:"form-control relative",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Sous-domaine"})}),r.jsx("input",{type:"text",className:"input input-bordered w-full",value:p.sousDomaine,onChange:C=>{const W=C.target.value;u({...p,sousDomaine:W});const K=p.domaine;let F=ze;if(K){const H=e.filter(It=>It.domaine===K&&It.sousDomaine);F=Array.from(new Set(H.map(It=>It.sousDomaine))).filter(It=>It!==void 0&&It!=="")}F=F.filter(H=>H.toLowerCase().includes(W.toLowerCase())),G(F),je(W.length>0||F.length>0)},onFocus:()=>{const C=p.domaine;let W=ze;if(C){const K=e.filter(H=>H.domaine===C&&H.sousDomaine);W=Array.from(new Set(K.map(H=>H.sousDomaine))).filter(H=>H!==void 0&&H!=="")}G(W),je(W.length>0)},onBlur:()=>{setTimeout(()=>je(!1),200)},placeholder:"Saisir ou choisir un sous-domaine"}),Ne&&X.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-base-100 border border-base-300 rounded-lg shadow-lg max-h-60 overflow-y-auto top-full",children:X.map(C=>r.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-base-200 transition-colors border-b border-base-200 last:border-b-0",onClick:()=>{u({...p,sousDomaine:C}),je(!1)},children:C},C))}),r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text-alt",children:"Slectionnez depuis la liste ou saisissez un nouveau sous-domaine"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Type de comptence"})}),r.jsxs("select",{className:"select select-bordered",value:p.typeCompetence,onChange:C=>u({...p,typeCompetence:C.target.value}),children:[r.jsx("option",{value:"SAVOIR",children:"Savoir"}),r.jsx("option",{value:"SAVOIR_FAIRE",children:"Savoir-faire"}),r.jsx("option",{value:"SAVOIR_ETRE",children:"Savoir-tre"}),r.jsx("option",{value:"SAVOIR_AGIR",children:"Savoir-agir"})]})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Niveau taxonomique"})}),r.jsxs("select",{className:"select select-bordered",value:p.niveauTaxonomie,onChange:C=>u({...p,niveauTaxonomie:C.target.value}),children:[r.jsx("option",{value:"MEMORISER",children:"Mmoriser"}),r.jsx("option",{value:"COMPRENDRE",children:"Comprendre"}),r.jsx("option",{value:"APPLIQUER",children:"Appliquer"}),r.jsx("option",{value:"ANALYSER",children:"Analyser"}),r.jsx("option",{value:"EVALUER",children:"valuer"}),r.jsx("option",{value:"CREER",children:"Crer"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Verbe d'action"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:p.verbeAction,onChange:C=>u({...p,verbeAction:C.target.value}),placeholder:"Ex: Concevoir, Analyser..."})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Objet"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:p.objet,onChange:C=>u({...p,objet:C.target.value}),placeholder:"Ex: une architecture..."})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Contexte"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:p.contexte,onChange:C=>u({...p,contexte:C.target.value}),placeholder:"Ex: en environnement agile"})]})]})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{onClick:()=>P(!1),className:"btn btn-ghost",children:"Annuler"}),r.jsxs("button",{onClick:Me,className:"btn btn-primary gap-2",children:[r.jsx(wa,{className:"w-4 h-4"}),"Enregistrer"]})]})]})}),v&&N&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:"Confirmer la suppression"}),r.jsxs("div",{className:"alert alert-warning mb-4",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),r.jsx("span",{children:"Cette action est irrversible !"})]}),r.jsxs("p",{className:"py-4",children:["tes-vous sr de vouloir supprimer la comptence ",r.jsxs("strong",{className:"text-error",children:['"',N.libelle,'"']})," ?"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"La comptence sera dsactive et ne sera plus visible dans le rfrentiel."}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{onClick:or,className:"btn btn-ghost",children:"Annuler"}),r.jsxs("button",{onClick:lt,className:"btn btn-error gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Supprimer"]})]})]})})]})},vy=()=>r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Br,{className:"w-8 h-8 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Pays"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("p",{className:"text-gray-600",children:"Cette page permettra de grer la liste des pays disponibles dans le systme."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fonctionnalits  venir : Ajouter, modifier, supprimer des pays de rfrence."})]})})]})}),yy=()=>r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(xh,{className:"w-8 h-8 text-primary"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Villes"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("p",{className:"text-gray-600",children:"Cette page permettra de grer la liste des villes disponibles dans le systme."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fonctionnalits  venir : Ajouter, modifier, supprimer des villes de rfrence associes aux pays."})]})})]})}),jy=()=>{const[e,t]=h.useState([]),[s,n]=h.useState(!0),[a,l]=h.useState(""),[i,o]=h.useState(!1),[c,d]=h.useState(null),[y,m]=h.useState(null),[g,x]=h.useState(!1),[w,j]=h.useState(null),[P,p]=h.useState({total:0,actives:0,maxPopularite:0});h.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const[N,R]=await Promise.all([fetch("/api/certifications").then(U=>U.json()),fetch("/api/certifications/statistiques").then(U=>U.json())]);t(Array.isArray(N)?N:[]),p(typeof R=="object"&&R!==null?R:{total:0,actives:0,maxPopularite:0})}catch(N){console.error("Erreur lors du chargement:",N),m({type:"error",text:"Erreur lors du chargement des donnes"}),t([]),p({total:0,actives:0,maxPopularite:0})}finally{n(!1)}},f=async()=>{try{if(n(!0),a){const R=await(await fetch(`/api/certifications/recherche?terme=${encodeURIComponent(a)}`)).json();t(Array.isArray(R)?R:[])}else u()}catch(N){console.error("Erreur lors de la recherche:",N),m({type:"error",text:"Erreur lors de la recherche"})}finally{n(!1)}},b=()=>{d({id:0,intitule:"",description:"",organismeDelivrant:"",urlVerification:"",estActive:!0,indicePopularite:0}),o(!0)},S=N=>{d({...N}),o(!0)},E=async()=>{if(!c||!c.intitule.trim()){m({type:"error",text:"L'intitul est obligatoire"});return}try{const R=JSON.parse(localStorage.getItem("user")||"{}").id||"1";let U;if(!c.id||c.id===0){const{id:O,...B}=c;U=await fetch("/api/certifications",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":R},body:JSON.stringify(B)})}else U=await fetch(`/api/certifications/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":R},body:JSON.stringify(c)});U.ok?(m({type:"success",text:c.id?"Certification mise  jour avec succs":"Certification cre avec succs"}),o(!1),d(null),u()):m({type:"error",text:"Erreur lors de la sauvegarde"})}catch(N){console.error("Erreur:",N),m({type:"error",text:"Erreur lors de la sauvegarde"})}},v=N=>{j({id:N.id,intitule:N.intitule}),x(!0)},T=async()=>{if(w)try{const R=JSON.parse(localStorage.getItem("user")||"{}").id||"1";(await fetch(`/api/certifications/${w.id}`,{method:"DELETE",headers:{"X-User-Id":R}})).ok?(m({type:"success",text:"Certification supprime avec succs"}),x(!1),j(null),u()):m({type:"error",text:"Erreur lors de la suppression"})}catch(N){console.error("Erreur:",N),m({type:"error",text:"Erreur lors de la suppression"})}};return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[y&&r.jsxs("div",{className:`alert ${y.type==="success"?"alert-success":"alert-error"} mb-6`,children:[r.jsx("span",{children:y.text}),r.jsx("button",{onClick:()=>m(null),className:"btn btn-sm btn-ghost",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Total"}),r.jsx("div",{className:"stat-value text-primary",children:P.total})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Actives"}),r.jsx("div",{className:"stat-value text-success",children:P.actives})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Plus Populaire"}),r.jsx("div",{className:"stat-value text-accent",children:P.maxPopularite})]})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl mb-6",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"form-control",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Rechercher une certification...",className:"input input-bordered w-full pr-10",value:a,onChange:N=>l(N.target.value),onKeyPress:N=>N.key==="Enter"&&f()}),r.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 btn btn-ghost btn-sm",onClick:f,children:r.jsx(pn,{className:"w-5 h-5"})})]})})}),r.jsxs("button",{className:"btn btn-primary gap-2",onClick:b,children:[r.jsx(ga,{className:"w-5 h-5"}),"Nouvelle Certification"]})]})})}),s?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsx("div",{className:"card-body",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Intitul"}),r.jsx("th",{children:"Organisme"}),r.jsx("th",{children:"Popularit"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center text-gray-500 py-8",children:"Aucune certification trouve"})}):e.map(N=>r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{className:"font-semibold",children:N.intitule}),N.description&&r.jsx("div",{className:"text-sm text-gray-500 truncate max-w-md",children:N.description})]}),r.jsx("td",{children:N.organismeDelivrant||"-"}),r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vo,{className:"w-4 h-4 text-accent"}),r.jsx("span",{className:"font-semibold",children:N.indicePopularite})]})}),r.jsx("td",{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>S(N),children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{className:"btn btn-sm btn-ghost text-error",onClick:()=>v(N),children:r.jsx(qt,{className:"w-4 h-4"})})]})})]},N.id))})]})})})}),i&&c&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box max-w-2xl",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:c.id?"Modifier la certification":"Nouvelle certification"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Intitul *"})}),r.jsx("input",{type:"text",placeholder:"Ex: AWS Certified Solutions Architect",className:"input input-bordered w-full",value:c.intitule,onChange:N=>d({...c,intitule:N.target.value})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Description"})}),r.jsx("textarea",{placeholder:"Description de la certification...",className:"textarea textarea-bordered w-full h-24",value:c.description,onChange:N=>d({...c,description:N.target.value})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Organisme dlivrant"})}),r.jsx("input",{type:"text",placeholder:"Ex: Amazon Web Services",className:"input input-bordered w-full",value:c.organismeDelivrant,onChange:N=>d({...c,organismeDelivrant:N.target.value})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"URL de vrification"})}),r.jsx("input",{type:"url",placeholder:"https://...",className:"input input-bordered w-full",value:c.urlVerification,onChange:N=>d({...c,urlVerification:N.target.value})})]})]}),r.jsxs("div",{className:"modal-action",children:[r.jsxs("button",{className:"btn btn-ghost",onClick:()=>{o(!1),d(null)},children:[r.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Annuler"]}),r.jsxs("button",{className:"btn btn-primary",onClick:E,children:[r.jsx(wa,{className:"w-4 h-4 mr-2"}),c.id?"Mettre  jour":"Crer"]})]})]})}),g&&w&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Confirmer la suppression"}),r.jsxs("p",{className:"py-4",children:["tes-vous sr de vouloir supprimer la certification ",r.jsx("strong",{children:w.intitule})," ?"]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>{x(!1),j(null)},children:"Annuler"}),r.jsx("button",{className:"btn btn-error",onClick:T,children:"Supprimer"})]})]})})]})})},by=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(new Set),[y,m]=h.useState(!1),[g,x]=h.useState(null),[w,j]=h.useState(null),[P,p]=h.useState(null),[u,f]=h.useState(!1),[b,S]=h.useState(null),[E,v]=h.useState(null),[T,N]=h.useState({totalPays:0,totalVilles:0,maxPopularite:0});h.useEffect(()=>{R()},[]);const R=async()=>{try{l(!0);const[D,J,le]=await Promise.all([fetch("/api/localisations/pays").then(ue=>ue.json()),fetch("/api/localisations/villes").then(ue=>ue.json()),fetch("/api/localisations/statistiques").then(ue=>ue.json())]);t(Array.isArray(D)?D:[]),n(Array.isArray(J)?J:[]),N(le||{totalPays:0,totalVilles:0,maxPopularite:0})}catch(D){console.error("Erreur lors du chargement:",D),v({type:"error",text:"Erreur lors du chargement des donnes"})}finally{l(!1)}},U=async()=>{if(!i){R();return}try{l(!0);const J=await(await fetch(`/api/localisations/pays/recherche?terme=${encodeURIComponent(i)}`)).json();t(Array.isArray(J)?J:[])}catch(D){console.error("Erreur lors de la recherche:",D),v({type:"error",text:"Erreur lors de la recherche"})}finally{l(!1)}},O=D=>{const J=new Set(c);J.has(D)?J.delete(D):J.add(D),d(J)},B=()=>{x("pays"),j({id:0,nom:"",codeIso:"",estActif:!0,indicePopularite:0,nombreVilles:0}),m(!0)},oe=D=>{x("pays"),j({...D}),m(!0)},Ne=async()=>{if(!w||!w.nom.trim()){v({type:"error",text:"Le nom du pays est obligatoire"});return}try{const J=JSON.parse(localStorage.getItem("user")||"{}").id||"1";let le;!w.id||w.id===0?le=await fetch("/api/localisations/pays",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":J},body:JSON.stringify(w)}):le=await fetch(`/api/localisations/pays/${w.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":J},body:JSON.stringify(w)}),le.ok?(v({type:"success",text:w.id?"Pays mis  jour":"Pays cr"}),m(!1),j(null),x(null),R()):v({type:"error",text:"Erreur lors de la sauvegarde"})}catch(D){console.error("Erreur:",D),v({type:"error",text:"Erreur lors de la sauvegarde"})}},je=D=>{const J=e.find(le=>le.id===D);x("ville"),p({id:0,nom:"",paysId:D,paysNom:(J==null?void 0:J.nom)||"",codePostal:"",estActif:!0,indicePopularite:0}),m(!0)},ze=D=>{x("ville"),p({...D}),m(!0)},_=async()=>{if(!P||!P.nom.trim()){v({type:"error",text:"Le nom de la ville est obligatoire"});return}try{const J=JSON.parse(localStorage.getItem("user")||"{}").id||"1";let le;!P.id||P.id===0?le=await fetch("/api/localisations/villes",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":J},body:JSON.stringify(P)}):le=await fetch(`/api/localisations/villes/${P.id}`,{method:"PUT",headers:{"Content-Type":"application/json","X-User-Id":J},body:JSON.stringify(P)}),le.ok?(v({type:"success",text:P.id?"Ville mise  jour":"Ville cre"}),m(!1),p(null),x(null),R()):v({type:"error",text:"Erreur lors de la sauvegarde"})}catch(D){console.error("Erreur:",D),v({type:"error",text:"Erreur lors de la sauvegarde"})}},X=(D,J,le)=>{S({type:D,id:J,nom:le}),f(!0)},G=async()=>{if(b)try{const J=JSON.parse(localStorage.getItem("user")||"{}").id||"1",le=b.type==="pays"?`/api/localisations/pays/${b.id}`:`/api/localisations/villes/${b.id}`;(await fetch(le,{method:"DELETE",headers:{"X-User-Id":J}})).ok?(v({type:"success",text:`${b.type==="pays"?"Pays":"Ville"} supprim(e)`}),f(!1),S(null),R()):v({type:"error",text:"Erreur lors de la suppression"})}catch(D){console.error("Erreur:",D),v({type:"error",text:"Erreur lors de la suppression"})}},ae=D=>s.filter(J=>J.paysId===D);return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[E&&r.jsxs("div",{className:`alert ${E.type==="success"?"alert-success":"alert-error"} mb-6`,children:[r.jsx("span",{children:E.text}),r.jsx("button",{onClick:()=>v(null),className:"btn btn-sm btn-ghost",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Pays"}),r.jsx("div",{className:"stat-value text-primary",children:T.totalPays})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Villes"}),r.jsx("div",{className:"stat-value text-success",children:T.totalVilles})]})}),r.jsx("div",{className:"stats shadow",children:r.jsxs("div",{className:"stat",children:[r.jsx("div",{className:"stat-title",children:"Plus Populaire"}),r.jsx("div",{className:"stat-value text-accent",children:T.maxPopularite})]})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl mb-6",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"form-control",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Rechercher un pays...",className:"input input-bordered w-full pr-10",value:i,onChange:D=>o(D.target.value),onKeyPress:D=>D.key==="Enter"&&U()}),r.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 btn btn-ghost btn-sm",onClick:U,children:r.jsx(pn,{className:"w-5 h-5"})})]})})}),r.jsxs("button",{className:"btn btn-primary gap-2",onClick:B,children:[r.jsx(ga,{className:"w-5 h-5"}),"Nouveau Pays"]})]})})}),a?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):r.jsx("div",{className:"space-y-4",children:e.length===0?r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsx("div",{className:"card-body text-center text-gray-500 py-8",children:"Aucun pays trouv"})}):e.map(D=>r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body p-0",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-base-200 cursor-pointer",onClick:()=>O(D.id),children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx(vh,{className:`w-5 h-5 transition-transform ${c.has(D.id)?"rotate-180":""}`}),r.jsx(ov,{className:"w-6 h-6 text-primary"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-lg",children:D.nom}),r.jsxs("div",{className:"text-sm text-gray-500",children:[D.codeIso,"  ",D.nombreVilles," ville",D.nombreVilles>1?"s":""]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"badge badge-accent",children:D.indicePopularite||0}),r.jsxs("div",{className:"flex gap-2",onClick:J=>J.stopPropagation(),children:[r.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>je(D.id),title:"Ajouter une ville",children:r.jsx(ga,{className:"w-4 h-4"})}),r.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>oe(D),children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{className:"btn btn-sm btn-ghost text-error",onClick:()=>X("pays",D.id,D.nom),children:r.jsx(qt,{className:"w-4 h-4"})})]})]})]}),c.has(D.id)&&r.jsx("div",{className:"border-t border-base-300",children:ae(D.id).length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune ville pour ce pays"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Ville"}),r.jsx("th",{children:"Code Postal"}),r.jsx("th",{children:"Popularit"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:ae(D.id).map(J=>r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Br,{className:"w-4 h-4 text-accent"}),r.jsx("span",{className:"font-semibold",children:J.nom})]})}),r.jsx("td",{children:J.codePostal||"-"}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-accent",children:J.indicePopularite||0})}),r.jsx("td",{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>ze(J),children:r.jsx(ps,{className:"w-4 h-4"})}),r.jsx("button",{className:"btn btn-sm btn-ghost text-error",onClick:()=>X("ville",J.id,J.nom),children:r.jsx(qt,{className:"w-4 h-4"})})]})})]},J.id))})]})})})]})},D.id))}),y&&(w||P)&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box max-w-2xl",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:g==="pays"?w!=null&&w.id?"Modifier le pays":"Nouveau pays":P!=null&&P.id?"Modifier la ville":"Nouvelle ville"}),g==="pays"&&w&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Nom du pays *"})}),r.jsx("input",{type:"text",placeholder:"Ex: France",className:"input input-bordered w-full",value:w.nom,onChange:D=>j({...w,nom:D.target.value})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Code ISO"})}),r.jsx("input",{type:"text",placeholder:"Ex: FR",maxLength:3,className:"input input-bordered w-full",value:w.codeIso,onChange:D=>j({...w,codeIso:D.target.value.toUpperCase()})})]})]}),g==="ville"&&P&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Pays"})}),r.jsx("select",{className:"select select-bordered w-full",value:P.paysId,onChange:D=>{const J=parseInt(D.target.value),le=e.find(ue=>ue.id===J);p({...P,paysId:J,paysNom:(le==null?void 0:le.nom)||""})},children:e.map(D=>r.jsx("option",{value:D.id,children:D.nom},D.id))})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Nom de la ville *"})}),r.jsx("input",{type:"text",placeholder:"Ex: Paris",className:"input input-bordered w-full",value:P.nom,onChange:D=>p({...P,nom:D.target.value})})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text font-semibold",children:"Code postal"})}),r.jsx("input",{type:"text",placeholder:"Ex: 75000",className:"input input-bordered w-full",value:P.codePostal||"",onChange:D=>p({...P,codePostal:D.target.value})})]})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>{m(!1),j(null),p(null),x(null)},children:"Annuler"}),r.jsx("button",{className:"btn btn-primary",onClick:g==="pays"?Ne:_,children:(g==="pays"?w!=null&&w.id:P!=null&&P.id)?"Mettre  jour":"Crer"})]})]})}),u&&b&&r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box",children:[r.jsx("h3",{className:"font-bold text-lg",children:"Confirmer la suppression"}),r.jsxs("p",{className:"py-4",children:["tes-vous sr de vouloir supprimer ",b.type==="pays"?"le pays":"la ville"," ",r.jsx("strong",{children:b.nom})," ?",b.type==="pays"&&r.jsx("span",{className:"block mt-2 text-warning",children:" Toutes les villes de ce pays seront galement supprimes."})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>{f(!1),S(null)},children:"Annuler"}),r.jsx("button",{className:"btn btn-error",onClick:G,children:"Supprimer"})]})]})})]})})},Ny=()=>{const[e,t]=h.useState([]),[s,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(""),[y,m]=h.useState("cartes"),[g,x]=h.useState(null);wr({}),h.useEffect(()=>{w()},[]);const w=async()=>{try{l(!0);const f=await(await fetch("/api/expertise/public/experts")).json(),b=Array.isArray(f)?f:[];t(b),n(b)}catch(u){console.error("Erreur lors du chargement:",u),t([]),n([])}finally{l(!1)}},j=()=>{try{let u=[...e];if(i&&i.trim()){const f=i.toLowerCase();u=u.filter(b=>{var T,N,R,U,O;const S=((T=b.titre)==null?void 0:T.toLowerCase().includes(f))||((N=b.description)==null?void 0:N.toLowerCase().includes(f))||((R=b.localisation)==null?void 0:R.toLowerCase().includes(f)),E=(U=b.competences)==null?void 0:U.some(B=>{var oe;return(oe=B.nom)==null?void 0:oe.toLowerCase().includes(f)}),v=(O=b.competences)==null?void 0:O.some(B=>{var oe;return(oe=B.certifications)==null?void 0:oe.toLowerCase().includes(f)});return S||E||v})}if(c){const f=c==="true";u=u.filter(b=>b.disponible===f)}n(u)}catch(u){console.error("Erreur lors de la recherche:",u)}};h.useEffect(()=>{if(i||c){const u=setTimeout(()=>{j()},300);return()=>clearTimeout(u)}else n(e)},[i,c,e]);const P=u=>{const f={};return u.forEach(b=>{var E;(((E=b.competences)==null?void 0:E.map(v=>v.nom))||["Sans comptence"]).forEach(v=>{f[v]||(f[v]=[]),f[v].some(T=>T.utilisateurId===b.utilisateurId)||f[v].push(b)})}),f},p=()=>{const u=P(s);return Object.entries(u).map(([f,b])=>r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/10 rounded-lg font-semibold text-primary-900 mb-2",children:[r.jsx(Bl,{className:"w-5 h-5"}),r.jsx("span",{children:f}),r.jsx("span",{className:"badge badge-primary badge-sm ml-auto",children:b.length})]}),r.jsx("div",{className:"ml-6 space-y-2",children:b.map((S,E)=>r.jsxs(Ke,{to:`/expertise-profil/${S.utilisateurId}`,className:"flex items-center gap-3 p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"font-medium",children:S.titre})}),S.disponible&&r.jsx("span",{className:"badge badge-success badge-sm",children:"Disponible"}),S.localisation&&r.jsxs("span",{className:"badge badge-ghost badge-sm",children:[r.jsx(Br,{className:"w-3 h-3 mr-1"}),S.localisation]})]},`${S.utilisateurId}-${E}`))})]},f))};return r.jsx("div",{className:"p-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[g&&r.jsxs("div",{className:`alert ${g.type==="success"?"alert-success":"alert-error"} mb-4`,children:[r.jsx("span",{children:g.text}),r.jsx("button",{onClick:()=>x(null),className:"btn btn-ghost btn-sm",children:r.jsx(Ns,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl mb-6",children:r.jsx("div",{className:"card-body",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"form-control",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(pn,{className:"w-5 h-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Rechercher par titre, comptence, certification, localisation...",className:"input input-bordered w-full pl-10",value:i,onChange:u=>o(u.target.value)})]})})}),r.jsx("div",{className:"form-control w-full md:w-48",children:r.jsxs("select",{className:"select select-bordered",value:c,onChange:u=>d(u.target.value),children:[r.jsx("option",{value:"",children:"Toutes"}),r.jsx("option",{value:"true",children:"Disponibles"}),r.jsx("option",{value:"false",children:"Non disponibles"})]})}),r.jsxs("div",{className:"btn-group",children:[r.jsx("button",{className:`btn ${y==="liste"?"btn-active":""}`,onClick:()=>m("liste"),title:"Vue liste",children:r.jsx(bh,{className:"w-5 h-5"})}),r.jsx("button",{className:`btn ${y==="cartes"?"btn-active":""}`,onClick:()=>m("cartes"),title:"Vue cartes",children:r.jsx(jh,{className:"w-5 h-5"})}),r.jsx("button",{className:`btn ${y==="arbre"?"btn-active":""}`,onClick:()=>m("arbre"),title:"Vue par domaine",children:r.jsx(Bl,{className:"w-5 h-5"})})]})]})})}),a?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[y==="liste"&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Expertise"}),r.jsx("th",{children:"Localisation"}),r.jsx("th",{children:"Comptences"}),r.jsx("th",{children:"Disponibilit"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:s.map((u,f)=>{var b,S,E;return r.jsxs("tr",{children:[r.jsx("td",{children:r.jsxs(Ke,{to:`/expertise-profil/${u.utilisateurId}`,className:"hover:text-primary",children:[r.jsx("div",{className:"font-bold",children:u.titre}),r.jsx("div",{className:"text-sm text-gray-500",children:u.typePersonne||"Expert"})]})}),r.jsx("td",{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Br,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{children:u.localisation||"Non spcifie"})]})}),r.jsx("td",{children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[(b=u.competences)==null?void 0:b.slice(0,2).map((v,T)=>r.jsxs("span",{className:"badge badge-primary badge-sm gap-1 whitespace-nowrap max-w-[200px]",title:v.nom+(v.anneesExperience?` (Exp.: ${v.anneesExperience} ans)`:""),children:[r.jsx("span",{className:"truncate",children:v.nom}),v.anneesExperience&&r.jsxs("span",{className:"opacity-75 flex-shrink-0",children:["(Exp.: ",v.anneesExperience," ans)"]})]},`${v.nom}-${T}`)),(((S=u.competences)==null?void 0:S.length)||0)>2&&r.jsxs("span",{className:"badge badge-ghost badge-sm",children:["+",(((E=u.competences)==null?void 0:E.length)||0)-2]})]})}),r.jsx("td",{children:u.disponible?r.jsx("span",{className:"badge badge-success",children:"Disponible"}):r.jsx("span",{className:"badge badge-ghost",children:"Non disponible"})}),r.jsx("td",{children:r.jsx(Ke,{to:`/expertise-profil/${u.utilisateurId}`,className:"btn btn-primary btn-sm",children:"Voir profil"})})]},`${u.utilisateurId}-${f}`)})})]})}),y==="cartes"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((u,f)=>r.jsx("div",{className:"card bg-base-100 shadow-lg hover:shadow-xl transition-all border border-base-300",children:r.jsxs("div",{className:"card-body p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3 pb-3 border-b border-base-300",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Ke,{to:`/expertise-profil/${u.utilisateurId}`,className:"card-title text-base font-bold hover:text-primary transition-colors",children:u.titre}),u.localisation&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[r.jsx(Br,{className:"w-3 h-3"}),r.jsx("span",{children:u.localisation})]})]}),u.disponible&&r.jsx("span",{className:"badge badge-success badge-sm flex-shrink-0",children:"Disponible"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Comptences"}),u.competences&&u.competences.length>0?r.jsxs("div",{className:"space-y-2",children:[u.competences.slice(0,3).map((b,S)=>r.jsxs("div",{className:"bg-base-200 p-3 rounded-lg border-2 border-primary/20 hover:border-primary/40 transition-colors",children:[r.jsx("div",{className:"font-medium text-sm text-primary mb-2",children:b.nom}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[b.anneesExperience&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Exprience"}),r.jsxs("span",{className:"font-semibold",children:[b.anneesExperience," ans"]})]}),b.thm&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"THM"}),r.jsxs("span",{className:"font-semibold",children:[b.thm," FCFA/h"]})]}),b.nombreProjets&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-500",children:"Projets"}),r.jsx("span",{className:"font-semibold",children:b.nombreProjets})]})]}),b.certifications&&r.jsx("div",{className:"mt-2 pt-2 border-t border-primary/20",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Jr,{className:"w-3 h-3 text-accent"}),r.jsx("span",{className:"text-xs text-gray-600",children:b.certifications})]})})]},`${b.nom}-${S}`)),u.competences.length>3&&r.jsxs(Ke,{to:`/expertise-profil/${u.utilisateurId}`,className:"text-xs text-primary hover:underline inline-flex items-center gap-1",children:["Voir ",u.competences.length-3," comptence(s) supplmentaire(s)"]})]}):r.jsx("p",{className:"text-xs text-gray-400 italic",children:"Aucune comptence renseigne"})]}),r.jsx("div",{className:"mt-4 pt-3 border-t border-base-300",children:r.jsx(Ke,{to:`/expertise-profil/${u.utilisateurId}`,className:"btn btn-primary btn-sm w-full",children:"Voir le profil complet"})})]})},`${u.utilisateurId}-${f}`))}),y==="arbre"&&r.jsx("div",{className:"space-y-4",children:p()}),s.length===0&&r.jsxs("div",{className:"text-center py-12 text-gray-500",children:[r.jsx(Jc,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium mb-2",children:"Aucune expertise trouve"}),r.jsx("p",{className:"text-sm",children:"Essayez de modifier vos critres de recherche"})]})]})})]})})};function wy(){const{id:e}=mn(),t=kt(),[s,n]=h.useState(null),[a,l]=h.useState(!0),[i,o]=h.useState(null),[c,d]=h.useState(!1),[y,m]=h.useState(!1),{isAuthenticated:g,openAuthModal:x}=hn(),[w,j]=h.useState([]);wr({}),h.useEffect(()=>{e&&(T(),P(),b())},[e]),h.useEffect(()=>{g&&e&&P()},[g,e]);const P=async()=>{if(g)try{const N=await fetch(`/api/expertise/reseau/${e}/est-dans-reseau`);if(N.ok){const R=await N.json();d(R.estDansReseau)}}catch(N){console.error("Erreur lors de la vrification du rseau:",N)}},p=async()=>{if(!g){const N=window.location.pathname+window.location.search;console.log(" [EXPERTISE PROFIL] Authentification requise, URL sauvegarde:",N),x(N);return}try{m(!0),(await fetch(`/api/expertise/reseau/${e}`,{method:"POST"})).ok&&d(!0)}catch(N){console.error("Erreur lors de l'ajout au rseau:",N)}finally{m(!1)}},u=async()=>{try{m(!0),(await fetch(`/api/expertise/reseau/${e}`,{method:"DELETE"})).ok&&d(!1)}catch(N){console.error("Erreur lors du retrait du rseau:",N)}finally{m(!1)}},f=()=>{c?u():p()},b=async()=>{try{const N=await ot.getBadgesExpert(e);j(N.filter(R=>R.estPublic))}catch(N){console.error("Erreur chargement badges:",N)}},S=N=>w.find(R=>R.competenceNom.toLowerCase()===N.toLowerCase()),E={[se.BRONZE]:"",[se.ARGENT]:"",[se.OR]:"",[se.PLATINE]:""},v={[se.BRONZE]:"from-orange-300 to-orange-600",[se.ARGENT]:"from-gray-300 to-gray-500",[se.OR]:"from-yellow-400 to-yellow-600",[se.PLATINE]:"from-purple-400 to-pink-600"},T=async()=>{try{l(!0),o(null);const R=await(await fetch("/api/expertise/public/experts")).json(),U=Array.isArray(R)?R.find(O=>O.utilisateurId===e):null;U?n(U):o("Expertise non trouve")}catch(N){console.error("Erreur lors du chargement de l'expertise:",N),o("Erreur lors du chargement des donnes")}finally{l(!1)}};return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("span",{className:"loading loading-spinner loading-lg"})}):i||!s?r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"alert alert-error",children:r.jsx("span",{children:i||"Expertise non trouve"})}),r.jsxs("button",{onClick:()=>t("/rechercher"),className:"btn btn-primary mt-4",children:[r.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Retour  la recherche"]})]}):r.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[r.jsxs("button",{onClick:()=>t("/rechercher"),className:"btn btn-ghost btn-sm mb-6",children:[r.jsx(Ul,{className:"w-4 h-4 mr-2"}),"Retour  la recherche"]}),r.jsx("div",{className:"card bg-base-100 shadow-xl mb-6",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"avatar",children:r.jsx("div",{className:"w-32 h-32 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2",children:s.photoUrl?r.jsx("img",{src:s.photoUrl,alt:s.titre}):r.jsx("div",{className:"bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-5xl",children:s.titre.charAt(0)})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.titre}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[s.typePersonne==="MORALE"?r.jsx(xh,{className:"w-5 h-5"}):r.jsx(Ls,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm",children:s.typePersonne==="MORALE"?"Personne Morale":"Personne Physique"})]}),s.localisation&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(Br,{className:"w-5 h-5"}),r.jsx("span",{children:s.localisation})]})]}),r.jsx("div",{children:s.disponible?r.jsxs("div",{className:"badge badge-success badge-lg gap-2",children:[r.jsx(yh,{className:"w-4 h-4"}),"Disponible"]}):r.jsxs("div",{className:"badge badge-ghost badge-lg gap-2",children:[r.jsx(Hc,{className:"w-4 h-4"}),"Non disponible"]})})]}),s.description&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"font-semibold mb-2",children:" propos"}),r.jsx("p",{className:"text-gray-700",children:s.description})]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-base-300",children:[r.jsx("button",{onClick:f,className:`btn ${c?"btn-outline btn-error":"btn-primary"} gap-2`,disabled:y,children:y?r.jsx("span",{className:"loading loading-spinner loading-sm"}):c?r.jsxs(r.Fragment,{children:[r.jsx(wh,{className:"w-5 h-5"}),"Retirer du rseau"]}):r.jsxs(r.Fragment,{children:[r.jsx(fv,{className:"w-5 h-5"}),"Ajouter au rseau"]})}),s.disponible&&r.jsxs("button",{className:"btn btn-success gap-2",children:[r.jsx(Nh,{className:"w-5 h-5"}),"Contacter"]})]})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"card-title text-2xl mb-6",children:[r.jsx(gr,{className:"w-6 h-6"}),"Comptences & Expertises"]}),s.competences&&s.competences.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.competences.map((N,R)=>{const U=S(N.nom);return r.jsxs("div",{className:`card bg-base-200 border-2 transition-all relative ${U?"border-primary/40 shadow-lg":"border-primary/20 hover:border-primary/40"}`,children:[U&&r.jsx("div",{className:"absolute -top-3 -right-3 z-10",children:r.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${v[U.niveauCertification]} flex items-center justify-center shadow-xl border-4 border-white`,children:r.jsx("span",{className:"text-3xl",children:E[U.niveauCertification]})})}),r.jsxs("div",{className:"card-body p-4",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("h3",{className:"card-title text-lg text-primary mb-2",children:N.nom}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[U&&r.jsxs("span",{className:"badge badge-success badge-sm gap-1",children:[r.jsx(Jr,{className:"w-3 h-3"}),"Certifie ",U.niveauCertification]}),N.estFavorite&&r.jsx("span",{className:"badge badge-warning badge-sm",children:" Favorite"})]})]}),N.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:N.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[N.anneesExperience!==void 0&&r.jsxs("div",{className:"bg-base-100 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Exprience"}),r.jsxs("div",{className:"text-lg font-bold text-primary",children:[N.anneesExperience," ",N.anneesExperience>1?"ans":"an"]})]}),N.thm!==void 0&&r.jsxs("div",{className:"bg-base-100 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"THM"}),r.jsxs("div",{className:"text-lg font-bold text-success",children:[N.thm," ",r.jsx("span",{className:"text-sm",children:"FCFA/h"})]})]}),N.nombreProjets!==void 0&&r.jsxs("div",{className:"bg-base-100 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Projets"}),r.jsx("div",{className:"text-lg font-bold text-secondary",children:N.nombreProjets})]}),N.niveauMaitrise!==void 0&&r.jsxs("div",{className:"bg-base-100 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Matrise"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"text-lg font-bold text-accent",children:[N.niveauMaitrise,"/5"]}),r.jsx("div",{className:"rating rating-sm",children:[1,2,3,4,5].map(O=>r.jsx("input",{type:"radio",className:"mask mask-star-2 bg-accent",checked:O===N.niveauMaitrise,readOnly:!0},O))})]})]})]}),N.certifications&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-primary/20",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Jr,{className:"w-4 h-4 text-accent"}),r.jsx("span",{className:"text-sm font-semibold",children:"Certification:"})]}),r.jsx("div",{className:"bg-accent/10 p-2 rounded-lg",children:r.jsx("p",{className:"text-sm text-accent-content break-words",children:N.certifications})})]})]})]},`${N.nom}-${R}`)})}):r.jsxs("div",{className:"text-center py-8 text-gray-400",children:[r.jsx(gr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Aucune comptence renseigne"})]})]})})]})}const Ey={[de.EN_ATTENTE]:"bg-yellow-100 text-yellow-800",[de.EN_COURS_TRAITEMENT]:"bg-blue-100 text-blue-800",[de.COMPLEMENT_REQUIS]:"bg-orange-100 text-orange-800",[de.APPROUVEE]:"bg-green-100 text-green-800",[de.REJETEE]:"bg-red-100 text-red-800",[de.ANNULEE]:"bg-gray-100 text-gray-800"},Cy={[de.EN_ATTENTE]:"En attente",[de.EN_COURS_TRAITEMENT]:"En cours",[de.COMPLEMENT_REQUIS]:"Complment requis",[de.APPROUVEE]:"Approuve",[de.REJETEE]:"Rejete",[de.ANNULEE]:"Annule"},Sy={[se.BRONZE]:" Bronze",[se.ARGENT]:" Argent",[se.OR]:" Or",[se.PLATINE]:" Platine"};function ky(){const[e,t]=h.useState([]),[s,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState(null),[c,d]=h.useState(!1),[y,m]=h.useState(null),[g,x]=h.useState(""),[w,j]=h.useState([]),[P,p]=h.useState(!1),[u,f]=h.useState({isOpen:!1,message:"",type:"success"});wr({title:"Mes demandes de reconnaissance"}),h.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const N=await ot.getMesDemandes();t(N),l(null)}catch(N){l(N instanceof Error?N.message:"Erreur lors du chargement")}finally{n(!1)}},S=async N=>{if(confirm("tes-vous sr de vouloir annuler cette demande ?"))try{await ot.annulerDemande(N),await b()}catch(R){alert(R instanceof Error?R.message:"Erreur lors de l'annulation")}},E=N=>{N.target.files&&j(Array.from(N.target.files))},v=async()=>{if(y)try{if(p(!0),w.length>0)for(const N of w)await ot.ajouterPieceJustificative(y.id,N,sr.AUTRE);await ot.resoumettreApresComplement(y.id,g||void 0),f({isOpen:!0,message:" Complment fourni ! Votre demande a t resoumise.",type:"success"}),d(!1),m(null),x(""),j([]),b()}catch(N){f({isOpen:!0,message:N instanceof Error?N.message:"Erreur lors de la soumission",type:"error"})}finally{p(!1)}},T=N=>new Date(N).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return s?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),e.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"Vous n'avez pas encore soumis de demande de reconnaissance"}),r.jsx("a",{href:"/expertise/competences",className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Grer mes comptences"})]}):r.jsx("div",{className:"space-y-4",children:e.map(N=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:N.competenceNom}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ey[N.statut]}`,children:Cy[N.statut]}),N.niveauVise&&r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:Sy[N.niveauVise]})]})]}),N.badge&&r.jsxs("div",{className:"ml-4 text-4xl",children:[N.badge.niveauCertification===se.BRONZE&&"",N.badge.niveauCertification===se.ARGENT&&"",N.badge.niveauCertification===se.OR&&"",N.badge.niveauCertification===se.PLATINE&&""]})]}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[r.jsxs("p",{children:[" Soumise le ",T(N.dateCreation)]}),r.jsxs("p",{children:[" ",N.nombrePieces," pice(s) justificative(s)"]}),N.dateTraitement&&r.jsxs("p",{children:[" Traite le ",T(N.dateTraitement)]})]}),N.commentaireTraitant&&r.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:[r.jsx("p",{className:"text-sm font-semibold mb-1",children:" Commentaire du traitant :"}),r.jsx("p",{className:"text-sm",children:N.commentaireTraitant})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>o(N),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Voir dtails"}),r.jsx("button",{className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:"TEST BOUTON"}),r.jsx("button",{onClick:()=>S(N.id),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Annuler"})]})]},N.id))}),c&&y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>!P&&d(!1),children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:N=>N.stopPropagation(),children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-green-600",children:" Fournir le complment"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Comptence : ",r.jsx("span",{className:"font-semibold",children:y.competenceNom})]}),y.commentaireTraitant&&r.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 mb-6",children:[r.jsx("p",{className:"text-sm font-semibold mb-2",children:" Ce que le traitant demande :"}),r.jsx("p",{className:"text-sm text-gray-700",children:y.commentaireTraitant})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Commentaire complmentaire ",r.jsx("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),r.jsx("textarea",{value:g,onChange:N=>x(N.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:4,placeholder:"Expliquez les complments que vous apportez...",disabled:P})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Ajouter de nouvelles pices justificatives ",r.jsx("span",{className:"text-gray-500 text-sm",children:"(optionnel)"})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",multiple:!0,onChange:E,className:"hidden",id:"fichier-complement",disabled:P}),r.jsxs("label",{htmlFor:"fichier-complement",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:[r.jsx(Wc,{size:20}),"Slectionner des fichiers"]}),w.length>0&&r.jsxs("div",{className:"mt-4 text-left",children:[r.jsx("p",{className:"font-medium mb-2",children:"Fichiers slectionns :"}),r.jsx("ul",{className:"space-y-1",children:w.map((N,R)=>r.jsxs("li",{className:"text-sm text-gray-700",children:[" ",N.name," (",(N.size/1024).toFixed(1)," KB)"]},R))})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>d(!1),disabled:P,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-50",children:"Annuler"}),r.jsx("button",{onClick:v,disabled:P,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 font-medium",children:P?"Soumission...":"Resoumettre la demande"})]})]})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>o(null),children:r.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:N=>N.stopPropagation(),children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:i.competenceNom}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" Justification :"}),r.jsx("p",{className:"text-gray-700",children:i.commentaireExpert||"Aucune justification fournie"})]}),i.pieces&&i.pieces.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" Pices justificatives :"}),r.jsx("ul",{className:"space-y-2",children:i.pieces.map(N=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{children:N.estVerifie?"":""}),r.jsx("span",{children:N.nom}),N.description&&r.jsxs("span",{className:"text-gray-500",children:["- ",N.description]})]},N.id))})]}),i.evaluation&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:" valuation :"}),r.jsxs("div",{className:"bg-gray-50 rounded p-4 space-y-2",children:[r.jsxs("p",{children:["Note globale : ",i.evaluation.noteGlobale,"/100"]}),i.evaluation.commentaire&&r.jsx("p",{className:"text-sm text-gray-700",children:i.evaluation.commentaire})]})]})]}),r.jsx("button",{onClick:()=>o(null),className:"mt-6 w-full py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Fermer"})]})}),r.jsx(Ea,{message:u.message,type:u.type,isOpen:u.isOpen,onClose:()=>f({...u,isOpen:!1}),duration:4e3})]})}const Py={[se.BRONZE]:"",[se.ARGENT]:"",[se.OR]:"",[se.PLATINE]:""},Ty={[se.BRONZE]:"from-orange-400 to-orange-600",[se.ARGENT]:"from-gray-300 to-gray-500",[se.OR]:"from-yellow-400 to-yellow-600",[se.PLATINE]:"from-purple-400 to-pink-600"};function My(){const[e,t]=h.useState([]),[s,n]=h.useState(!0),[a,l]=h.useState(null),[i,o]=h.useState({isOpen:!1,message:"",type:"success"});wr({title:"Mes badges"}),h.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0);const m=await ot.getMesBadges(!0);t(m),l(null)}catch(m){l(m instanceof Error?m.message:"Erreur lors du chargement")}finally{n(!1)}},d=async(m,g)=>{try{await ot.toggleVisibiliteBadge(m),await c(),o({isOpen:!0,message:g?" Badge masqu sur votre profil public":" Badge visible sur votre profil public",type:"success"})}catch(x){o({isOpen:!0,message:x instanceof Error?x.message:"Erreur",type:"error"})}},y=m=>new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return s?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),e.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Vous n'avez pas encore de badges"}),r.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Soumettez des demandes de reconnaissance pour obtenir vos premiers badges"}),r.jsx("a",{href:"/reconnaissance/demandes",className:"inline-block bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Voir mes demandes"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(m=>r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[r.jsx("div",{className:`h-32 bg-gradient-to-br ${Ty[m.niveauCertification]} flex items-center justify-center`,children:r.jsx("div",{className:"text-7xl",children:Py[m.niveauCertification]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:m.competenceNom}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:"Niveau :"}),r.jsx("span",{children:m.niveauCertification})]}),r.jsxs("p",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold",children:"Obtenu le :"}),r.jsx("span",{children:y(m.dateObtention)})]}),r.jsx("p",{className:"flex items-center gap-2",children:m.validitePermanente?r.jsx("span",{className:"text-green-600",children:" Validit permanente"}):r.jsxs("span",{className:"text-orange-600",children:[" Expire le ",m.dateExpiration&&y(m.dateExpiration)]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("button",{onClick:()=>d(m.id,m.estPublic),className:`px-4 py-2 rounded text-sm font-medium transition-all ${m.estPublic?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m.estPublic?" Public":" Priv"}),r.jsx("span",{className:"text-xs text-gray-500 text-center",children:m.estPublic?"Visible sur profil":"Masqu"})]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${m.estValide?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.estValide?"Valide":"Expir"})]})]})]},m.id))}),r.jsx(Ea,{message:i.message,type:i.type,isOpen:i.isOpen,onClose:()=>o({...i,isOpen:!1}),duration:3e3}),e.length>0&&r.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-semibold mb-1",children:" propos de la visibilit des badges"}),r.jsxs("p",{children:["Les badges ",r.jsx("strong",{children:"Public"}),"  sont affichs sur votre profil public et visibles par tous."]}),r.jsxs("p",{children:["Les badges ",r.jsx("strong",{children:"Priv"}),"  sont masqus et visibles uniquement par vous."]})]})]})})]})}const Pt="/api/traitement-demandes",Mr={async getDemandesATraiter(e){const t=e?`${Pt}?statut=${e}`:Pt,s=await fetch(t,{credentials:"include"});if(!s.ok)throw new Error("Erreur lors de la rcupration des demandes");return s.json()},async getMesDemandesAssignees(){const e=await fetch(`${Pt}/mes-demandes`,{credentials:"include"});if(!e.ok)throw new Error("Erreur lors de la rcupration de mes demandes");return e.json()},async getDemandeDetails(e){const t=await fetch(`${Pt}/${e}`,{credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la rcupration des dtails");return t.json()},async assignerDemande(e){const t=await fetch(`${Pt}/${e}/assigner`,{method:"PUT",credentials:"include"});if(!t.ok){const s=await t.text();throw new Error(s||"Erreur lors de l'assignation")}return t.json()},async evaluerDemande(e,t){const s=await fetch(`${Pt}/${e}/evaluer`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de l'valuation")}return s.json()},async approuverDemande(e,t){const s=await fetch(`${Pt}/${e}/approuver`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de l'approbation")}return s.json()},async rejeterDemande(e,t){const s=await fetch(`${Pt}/${e}/rejeter`,{method:"PUT",headers:{"Content-Type":"text/plain"},credentials:"include",body:t});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors du rejet")}return s.json()},async demanderComplement(e,t){const s=await fetch(`${Pt}/${e}/complements`,{method:"POST",headers:{"Content-Type":"text/plain"},credentials:"include",body:t});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de la demande de complment")}return s.json()},async marquerPieceVerifiee(e){const t=await fetch(`${Pt}/pieces/${e}/verifier`,{method:"PUT",credentials:"include"});if(!t.ok)throw new Error("Erreur lors de la vrification de la pice");return t.json()},async getStatistiques(){const e=await fetch(`${Pt}/statistiques`,{credentials:"include"});if(!e.ok)throw new Error("Erreur lors de la rcupration des statistiques");return e.json()},async revoquerBadge(e,t){const s=await fetch(`${Pt}/badges/${e}/revoquer`,{method:"PUT",headers:{"Content-Type":"text/plain"},credentials:"include",body:t});if(!s.ok){const n=await s.text();throw new Error(n||"Erreur lors de la rvocation du badge")}}},Ly={[de.EN_ATTENTE]:"bg-yellow-100 text-yellow-800",[de.EN_COURS_TRAITEMENT]:"bg-blue-100 text-blue-800",[de.COMPLEMENT_REQUIS]:"bg-orange-100 text-orange-800",[de.APPROUVEE]:"bg-green-100 text-green-800",[de.REJETEE]:"bg-red-100 text-red-800",[de.ANNULEE]:"bg-gray-100 text-gray-800"},Ry={[se.BRONZE]:"",[se.ARGENT]:"",[se.OR]:"",[se.PLATINE]:""};function Ay(){const e=kt(),[t,s]=h.useState([]),[n,a]=h.useState([]),[l,i]=h.useState(!0),[o,c]=h.useState(null),[d,y]=h.useState("disponibles");wr({title:"File de traitement"}),h.useEffect(()=>{m()},[d]);const m=async()=>{try{if(i(!0),d==="disponibles"){const j=await Mr.getDemandesATraiter(de.EN_ATTENTE);s(j)}else{const j=await Mr.getMesDemandesAssignees();a(j)}c(null)}catch(j){c(j instanceof Error?j.message:"Erreur lors du chargement")}finally{i(!1)}},g=async j=>{try{await Mr.assignerDemande(j),await m()}catch(P){alert(P instanceof Error?P.message:"Erreur lors de l'assignation")}},x=j=>new Date(j).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=d==="disponibles"?t:n;return r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex gap-4 mb-6 border-b",children:[r.jsxs("button",{onClick:()=>y("disponibles"),className:`px-4 py-2 font-medium transition-colors ${d==="disponibles"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[" Disponibles (",t.length,")"]}),r.jsxs("button",{onClick:()=>y("assignees"),className:`px-4 py-2 font-medium transition-colors ${d==="assignees"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600"}`,children:[" Mes demandes (",n.length,")"]})]}),o&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),l?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):w.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:r.jsx("p",{className:"text-gray-500",children:d==="disponibles"?"Aucune demande disponible pour le moment":"Vous n'avez pas de demandes assignes"})}):r.jsx("div",{className:"space-y-4",children:w.map(j=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"flex justify-between items-start mb-4",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:j.competenceNom}),r.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ly[j.statut]}`,children:j.statut.replace(/_/g," ")}),j.niveauVise&&r.jsx("span",{className:"text-2xl",title:j.niveauVise,children:Ry[j.niveauVise]}),j.priorite>0&&r.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-bold rounded",children:["PRIORIT ",j.priorite]})]})]})}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[r.jsxs("p",{children:[" Soumise le ",x(j.dateCreation)]}),r.jsxs("p",{children:[" ",j.nombrePieces," pice(s) justificative(s)"]}),j.traitantId&&r.jsxs("p",{children:[" Assign  : ",j.traitantId]})]}),j.commentaireExpert&&r.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-300 p-3 mb-4",children:[r.jsx("p",{className:"text-sm font-semibold mb-1",children:" Justification :"}),r.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:j.commentaireExpert})]}),r.jsx("div",{className:"flex gap-2",children:d==="disponibles"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>e(`/traitant/evaluer/${j.id}`),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:" Voir dtails"}),r.jsx("button",{onClick:()=>g(j.id),className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:" M'assigner"})]}):r.jsx("button",{onClick:()=>e(`/traitant/evaluer/${j.id}`),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:" valuer"})})]},j.id))})]})}function Ou({isOpen:e,onClose:t,onConfirm:s,title:n,label:a,placeholder:l,type:i="textarea",required:o=!0,confirmText:c="Confirmer",cancelText:d="Annuler",maxLength:y=500}){const[m,g]=h.useState(""),x=()=>{o&&!m.trim()||(s(m),g(""))},w=()=>{g(""),t()};return e?r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box relative",children:[r.jsx("button",{onClick:w,className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:r.jsx(Ns,{size:18})}),r.jsx("h3",{className:"font-bold text-lg mb-4",children:n}),r.jsxs("div",{className:"form-control w-full",children:[r.jsxs("label",{className:"label",children:[r.jsx("span",{className:"label-text font-medium",children:a}),o&&r.jsx("span",{className:"label-text-alt text-error",children:"*"})]}),i==="textarea"?r.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:l,value:m,onChange:j=>g(j.target.value),maxLength:y,autoFocus:!0}):r.jsx("input",{type:"text",className:"input input-bordered w-full",placeholder:l,value:m,onChange:j=>g(j.target.value),maxLength:y,autoFocus:!0}),r.jsxs("label",{className:"label",children:[r.jsx("span",{className:"label-text-alt"}),r.jsxs("span",{className:"label-text-alt",children:[m.length,"/",y]})]})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{onClick:w,className:"btn btn-ghost",children:d}),r.jsx("button",{onClick:x,className:"btn btn-primary",disabled:o&&!m.trim(),children:c})]})]})}):null}function Dy(){const{id:e}=mn(),t=kt(),[s,n]=h.useState(null),[a,l]=h.useState(!0),[i,o]=h.useState(!1),[c,d]=h.useState(null),[y,m]=h.useState(0),[g,x]=h.useState(0),[w,j]=h.useState(0),[P,p]=h.useState(0),[u,f]=h.useState($n.EN_COURS),[b,S]=h.useState(""),[E,v]=h.useState(30),[T,N]=h.useState({isOpen:!1,message:"",type:"success"}),[R,U]=h.useState(!1),[O,B]=h.useState(!1),[oe,Ne]=h.useState(!1),[je,ze]=h.useState(!1),[_,X]=h.useState(!0),[G,ae]=h.useState(""),[D,J]=h.useState(null),[le,ue]=h.useState(!1);h.useEffect(()=>{e&&Me(parseInt(e))},[e]);const Me=async F=>{try{l(!0);const H=await Mr.getDemandeDetails(F);n(H),H.evaluation&&(m(H.evaluation.noteExperience||0),x(H.evaluation.noteFormation||0),j(H.evaluation.noteProjets||0),p(H.evaluation.noteCompetenceTechnique||0),f(H.evaluation.recommandation),S(H.evaluation.commentaire||""),v(H.evaluation.tempsEvaluationMinutes||30)),d(null)}catch(H){d(H instanceof Error?H.message:"Erreur lors du chargement")}finally{l(!1)}},De=y+g+w+P,lt=async()=>{if(!s)return;const F={noteExperience:y,noteFormation:g,noteProjets:w,noteCompetenceTechnique:P,recommandation:u,commentaire:b,tempsEvaluationMinutes:E};try{o(!0),await Mr.evaluerDemande(s.id,F),N({isOpen:!0,message:" valuation enregistre avec succs",type:"success"}),d(null)}catch(H){d(H instanceof Error?H.message:"Erreur lors de l'valuation")}finally{o(!1)}},or=async()=>{if(s){if(!_&&!G){d("La date d'expiration est obligatoire pour une validit limite");return}try{o(!0);let F;!_&&G&&(F=`${G}T23:59:59`),await Mr.approuverDemande(s.id,{commentaire:b,validitePermanente:_,dateExpiration:F}),N({isOpen:!0,message:" Demande approuve ! Badge attribu.",type:"success"}),setTimeout(()=>t("/traitant/file"),2e3)}catch(F){d(F instanceof Error?F.message:"Erreur"),o(!1)}}},_t=async F=>{if(s)try{o(!0),await Mr.rejeterDemande(s.id,F),N({isOpen:!0,message:" Demande rejete",type:"info"}),setTimeout(()=>t("/traitant/file"),2e3)}catch(H){d(H instanceof Error?H.message:"Erreur"),o(!1)}},C=async F=>{if(s)try{o(!0),await Mr.demanderComplement(s.id,F),N({isOpen:!0,message:" Complment d'information demand",type:"info"}),setTimeout(()=>t("/traitant/file"),2e3)}catch(H){d(H instanceof Error?H.message:"Erreur"),o(!1)}},W=async()=>{if(s)try{ue(!0);const F=await dr.getCompetenceUtilisateur(s.utilisateurId,s.competenceId);J(F),ze(!0)}catch{N({isOpen:!0,message:"Erreur lors du chargement des informations",type:"error"})}finally{ue(!1)}},K=F=>r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(H=>r.jsx(nn,{size:20,className:H<=F?"fill-blue-500 text-blue-500":"text-gray-300"},H))});return a?r.jsx("div",{className:"flex justify-center items-center min-h-screen",children:r.jsx("div",{className:"text-xl",children:"Chargement..."})}):s?r.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[r.jsx("button",{onClick:()=>t("/traitant/file"),className:"mb-4 text-blue-600 hover:underline",children:" Retour  la file"}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h1",{className:"text-2xl font-bold",children:" Dossier de certification"}),r.jsxs("button",{onClick:W,disabled:le,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50 transition-colors",children:[r.jsx(lv,{size:18}),le?"Chargement...":"Voir la comptence"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Comptence"}),r.jsx("p",{className:"font-semibold text-lg",children:s.competenceNom})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Niveau vis"}),r.jsx("p",{className:"font-semibold text-lg",children:s.niveauVise||"Non spcifi"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Statut"}),r.jsx("p",{className:"font-semibold",children:s.statut.replace(/_/g," ")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Date soumission"}),r.jsx("p",{className:"font-semibold",children:new Date(s.dateCreation).toLocaleDateString("fr-FR")})]})]}),s.commentaireExpert&&r.jsxs("div",{className:"bg-gray-50 rounded p-4 mb-6",children:[r.jsx("h3",{className:"font-semibold mb-2",children:" Justification de l'expert"}),r.jsx("p",{className:"text-gray-700",children:s.commentaireExpert})]}),s.pieces&&s.pieces.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"font-semibold mb-3",children:[" Pices justificatives (",s.pieces.length,")"]}),r.jsx("div",{className:"space-y-2",children:s.pieces.map(F=>r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx("span",{className:"text-2xl",children:F.estVerifie?"":""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium",children:F.nom}),F.description&&r.jsx("p",{className:"text-sm text-gray-600",children:F.description}),r.jsxs("p",{className:"text-xs text-gray-500",children:[F.typePiece,"  ",(F.tailleOctets/1024).toFixed(0)," Ko"]})]}),r.jsx("a",{href:`/api/files/download${F.urlFichier}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",children:"Tlcharger"})]},F.id))})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:" valuation"}),c&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:c}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Exprience professionnelle (",y,"/25)"]}),r.jsx("input",{type:"range",min:"0",max:"25",value:y,onChange:F=>m(parseInt(F.target.value)),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Formation et certifications (",g,"/25)"]}),r.jsx("input",{type:"range",min:"0",max:"25",value:g,onChange:F=>x(parseInt(F.target.value)),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Projets raliss (",w,"/25)"]}),r.jsx("input",{type:"range",min:"0",max:"25",value:w,onChange:F=>j(parseInt(F.target.value)),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block font-medium mb-2",children:["Comptence technique (",P,"/25)"]}),r.jsx("input",{type:"range",min:"0",max:"25",value:P,onChange:F=>p(parseInt(F.target.value)),className:"w-full"})]}),r.jsx("div",{className:"bg-blue-50 rounded p-4",children:r.jsxs("p",{className:"text-lg font-bold",children:["Note globale : ",r.jsxs("span",{className:"text-blue-600",children:[De,"/100"]})," "]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Recommandation"}),r.jsx("div",{className:"space-y-2",children:[{value:$n.APPROUVER,label:" Approuver",color:"green"},{value:$n.REJETER,label:" Rejeter",color:"red"},{value:$n.DEMANDER_COMPLEMENT,label:" Demander complment",color:"orange"}].map(({value:F,label:H,color:We})=>r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"radio",name:"recommandation",value:F,checked:u===F,onChange:()=>f(F),className:"w-4 h-4"}),r.jsx("span",{className:`text-${We}-700`,children:H})]},F))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:" Commentaire"}),r.jsx("textarea",{value:b,onChange:F=>S(F.target.value),rows:4,className:"w-full border rounded p-2",placeholder:"Votre valuation dtaille..."})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block font-medium mb-2",children:[" Temps d'valuation : ",E," minutes"]}),r.jsx("input",{type:"number",value:E,onChange:F=>v(parseInt(F.target.value)||0),className:"border rounded px-3 py-2",min:"1"})]})]}),r.jsx("div",{className:"flex gap-3 mt-6",children:r.jsx("button",{onClick:lt,disabled:i,className:"flex-1 bg-blue-500 text-white py-3 rounded font-medium hover:bg-blue-600 disabled:opacity-50",children:" Enregistrer l'valuation"})})]}),s.evaluation&&s.statut===de.EN_COURS_TRAITEMENT&&r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h3",{className:"font-bold mb-4",children:"Dcision finale"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>U(!0),disabled:i,className:"flex-1 bg-green-500 text-white py-3 rounded font-medium hover:bg-green-600 disabled:opacity-50",children:" Approuver dfinitivement"}),r.jsx("button",{onClick:()=>B(!0),disabled:i,className:"flex-1 bg-red-500 text-white py-3 rounded font-medium hover:bg-red-600 disabled:opacity-50",children:" Rejeter"}),r.jsx("button",{onClick:()=>Ne(!0),disabled:i,className:"flex-1 bg-orange-500 text-white py-3 rounded font-medium hover:bg-orange-600 disabled:opacity-50",children:" Demander complment"})]})]}),R&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-xl font-bold mb-4 text-green-600",children:" Approuver la demande"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Un badge sera automatiquement attribu  l'expert. Dfinissez la validit du badge ci-dessous."}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block font-medium mb-3",children:"Type de validit"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center p-3 border rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"validite",checked:_,onChange:()=>{X(!0),ae("")},className:"mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Validit permanente"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Le badge n'expirera jamais"})]})]}),r.jsxs("label",{className:"flex items-center p-3 border rounded cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"radio",name:"validite",checked:!_,onChange:()=>X(!1),className:"mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:" Validit limite"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Le badge expirera  une date dfinie"})]})]})]})]}),!_&&r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block font-medium mb-2",children:"Date d'expiration *"}),r.jsx("input",{type:"date",value:G,onChange:F=>ae(F.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Le badge sera automatiquement dsactiv  cette date"})]}),c&&r.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded",children:c}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block font-medium mb-2",children:"Commentaire (optionnel)"}),r.jsx("textarea",{value:b,onChange:F=>S(F.target.value),className:"w-full px-3 py-2 border rounded focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Ajoutez un commentaire pour l'expert..."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>{U(!1),d(null)},disabled:i,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-50",children:"Annuler"}),r.jsx("button",{onClick:or,disabled:i||!_&&!G,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 font-medium",children:i?"Approbation...":"Approuver dfinitivement"})]})]})}),r.jsx(Ea,{message:T.message,type:T.type,isOpen:T.isOpen,onClose:()=>N({...T,isOpen:!1}),duration:4e3}),r.jsx(Ou,{isOpen:O,onClose:()=>B(!1),onConfirm:F=>{B(!1),_t(F)},title:"Rejeter la demande",label:"Motif du rejet",placeholder:"Expliquez les raisons du rejet de la demande...",confirmText:"Rejeter",maxLength:500}),r.jsx(Ou,{isOpen:oe,onClose:()=>Ne(!1),onConfirm:F=>{Ne(!1),C(F)},title:"Demander un complment d'information",label:"Message pour l'expert",placeholder:"Prcisez les informations ou documents supplmentaires requis...",confirmText:"Envoyer",maxLength:500}),je&&D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>ze(!1),children:r.jsx("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:F=>F.stopPropagation(),children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-3",children:D.nom}),D.estFavorite&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-4 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium",children:[r.jsx(nn,{size:16,className:"fill-yellow-500 text-yellow-500"}),"Favorite"]})]}),D.description&&r.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:D.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exprience"}),r.jsxs("p",{className:"text-3xl font-bold text-teal-700",children:[D.anneesExperience||0," ans"]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"THM"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:D.thm?`${D.thm} FCFA/h`:"Non renseign"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Projets"}),r.jsx("p",{className:"text-3xl font-bold text-gray-700",children:D.nombreProjets||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Matrise"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:[D.niveauMaitrise||0,"/5"]}),K(D.niveauMaitrise||0)]})]})]}),D.certifications&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Jr,{size:20,className:"text-blue-600"}),r.jsx("h3",{className:"font-bold text-lg",children:"Certification:"})]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:r.jsx("p",{className:"text-gray-800",children:D.certifications})})]}),r.jsx("button",{onClick:()=>ze(!1),className:"mt-6 w-full py-3 bg-gray-200 rounded-lg hover:bg-gray-300 font-medium transition-colors",children:"Fermer"})]})})})]}):r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:"Demande non trouve"})})}const _y=Rg([{path:"/",element:r.jsx(Pv,{}),children:[{index:!0,element:r.jsx(Uv,{})},{path:"explorer",element:r.jsx(Jv,{})},{path:"rechercher",element:r.jsx(Ny,{})},{path:"expertise-profil/:id",element:r.jsx(wy,{})},{path:"reseau",element:r.jsx(Qv,{})},{path:"profil",element:r.jsx(Au,{})},{path:"profil/:id",element:r.jsx(Au,{})},{path:"mon-compte",element:r.jsx(Vt,{children:r.jsx(Kv,{})})},{path:"expertise",element:r.jsx(Vt,{children:r.jsx(ly,{})})},{path:"expertise/:competenceId",element:r.jsx(iy,{})},{path:"competences",element:r.jsx(Vt,{children:r.jsx(gy,{})})},{path:"competences/pays",element:r.jsx(Vt,{children:r.jsx(vy,{})})},{path:"competences/villes",element:r.jsx(Vt,{children:r.jsx(yy,{})})},{path:"competences/certifications",element:r.jsx(Vt,{children:r.jsx(jy,{})})},{path:"competences/localisations",element:r.jsx(Vt,{children:r.jsx(by,{})})},{path:"projets",element:r.jsx(oy,{})},{path:"projets/creer",element:r.jsx(dy,{})},{path:"projets/:id",element:r.jsx(hy,{})},{path:"plus",element:r.jsx(fy,{})},{path:"expert/:id",element:r.jsx(Wv,{})},{path:"reconnaissance/demandes",element:r.jsx(Vt,{children:r.jsx(ky,{})})},{path:"reconnaissance/badges",element:r.jsx(Vt,{children:r.jsx(My,{})})},{path:"traitant/file",element:r.jsx(Vt,{children:r.jsx(Ay,{})})},{path:"traitant/evaluer/:id",element:r.jsx(Vt,{children:r.jsx(Dy,{})})},{path:"*",element:r.jsx(xy,{})}]}]);function Iy(){const{showAuthModal:e,closeAuthModal:t,openAuthModal:s}=hn();return h.useEffect(()=>{Zv(s)},[s]),r.jsxs("div",{"data-theme":"pitm-light",className:"min-h-screen",children:[r.jsx(Ug,{router:_y}),r.jsx(Sh,{isOpen:e,onClose:t})]})}function Oy(){return r.jsx(jv,{children:r.jsx(Nv,{children:r.jsx(Iy,{})})})}Yp(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(Oy,{})}));
